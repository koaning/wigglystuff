const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./slides-component-CgrrphxW.js","./index-BR3wLmMq.js","./index-CQvPIadz.css","./slides-component-BfOE86wk.css"])))=>i.map(i=>d[i]);
var ys=Object.defineProperty;var bs=(De,Oe,Te)=>Oe in De?ys(De,Oe,{enumerable:!0,configurable:!0,writable:!0,value:Te}):De[Oe]=Te;var ne=(De,Oe,Te)=>bs(De,typeof Oe!="symbol"?Oe+"":Oe,Te);import{u as me,dC as lt,L as ve,dD as io,az as _e,df as lo,dE as Ut,aA as Ae,c4 as vs,dF as ws,S as ee,d as F,af as xs,ag as te,j as S,a as co,R as we,aU as uo,dG as Yt,dH as _t,dI as $t,dJ as Xt,aF as Kt,aL as ct,dv as Ss,dK as po,dL as _s,bd as ut,dM as Os,dN as fo,aO as Qt,aE as Zt,aD as Jt,dO as js,dP as he,dQ as Ds,dy as ho,dR as Ot,Q as mo,dS as jt,bb as go,bp as en,ap as Me,dT as Es,dU as Cs,dV as tn,n as ks,a2 as ze,br as Ns,a_ as Ps,dW as Rs,dk as Ms,dX as zs,ar as Ts,dY as Ls,bg as Is,aa as Hs,dZ as Ws,d_ as As,d$ as yo,T as qe,e0 as qs,e1 as nn,e2 as Bs,e3 as bo,e4 as dt,X as rn,ac as on,e5 as Fs,e6 as Gs,e7 as Vs,e8 as Us,e9 as Ys,ea as $s,eb as Xs,ec as Ks,ak as Qs,dl as Dt,ed as vo,ee as Zs,ef as Js,eg as ei,eh as ti,ei as ni,ej as xe,ek as ri,el as oi,em as wo,en as ai,eo as si,ep as xo,eq as So,er as _o,es as ii,et as li,eu as ci,ev as ui,ew as di,ex as Oo,ey as pi,ez as fi,a$ as jo,eA as hi,eB as mi,eC as gi,eD as yi,aQ as bi,eE as vi,eF as wi,eG as Do,eH as xi,eI as Si,eJ as _i,cz as Oi,b9 as ji,eK as Di,eL as Eo,a8 as an,b0 as Co,eM as Ei,eN as sn,eO as Ci,eP as ki,eQ as ko,eR as Ni,eS as Pi,eT as Ri,eU as Mi,eV as zi,eW as Ti,eX as Li,eY as No,eZ as Ii,e_ as Hi,al as Po,e$ as Wi,f0 as Ai,f1 as qi,f2 as Bi,f3 as Fi,f4 as Gi,f5 as Vi,f6 as Ui,f7 as Yi,f8 as $i,f9 as Et,fa as Xi,__tla as Ki}from"./index-BR3wLmMq.js";import{a as Qi}from"./index-DU9nouQf.js";let Ro,ln,cn,un,dn,Mo,pn,zo,fn,hn,mn,gn,Ct,Xe,To,yn,bn,kt,Lo,Io,vn,Ho,wn,xn,Wo,Nt,Sn,Ao,_n,qo,Bo,Fo,On,jn,Go,Dn,En,Cn,kn,Nn,Zi=Promise.all([(()=>{try{return Ki}catch{}})()]).then(async()=>{let De,Oe,Te,Pn,Rn,Mn,zn,Tn,Ln,In;De=me("align-end-vertical",[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2",key:"10wcwx"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2",key:"4p5bwg"}],["path",{d:"M22 22V2",key:"12ipfv"}]]),Oe=me("align-horizontal-space-around",[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]]),Te=me("align-start-vertical",[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2",key:"lpm2y7"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2",key:"rdj6ps"}],["path",{d:"M2 2v20",key:"1ivd8o"}]]),cn=me("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),un=me("folder-down",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]),Pn=me("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),dn=me("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Rn=me("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),pn=me("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),hn=me("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Mn=me("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),zn=me("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Tn=me("square-arrow-right",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]),Ln=me("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),In=me("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]),mn=class{static get INSTANCE(){const n="_marimo_private_RuntimeState";return window[n]||(window[n]=new mn(lt)),window[n]}constructor(n){this.uiElementRegistry=n,this.hasStarted=!1,this._sendComponentValues=void 0,this.handleReadyEvent=e=>{const t=e.detail.objectId;if(!this.uiElementRegistry.has(t))return;const r=this.uiElementRegistry.lookupValue(t);r!==void 0&&this.sendComponentValues({objectIds:[t],values:[r]}).catch(i=>{ve.warn(i)})}}get sendComponentValues(){if(!this._sendComponentValues)throw new Error("sendComponentValues is not set");return this._sendComponentValues}start(n){this.hasStarted?ve.warn("RuntimeState already started"):(this._sendComponentValues=n,document.addEventListener(io.TYPE,this.handleReadyEvent),this.hasStarted=!0)}stop(){this.hasStarted?(document.removeEventListener(io.TYPE,this.handleReadyEvent),this.hasStarted=!1):ve.warn("RuntimeState already stopped")}};var Hn,Wn={exports:{}},Ke={},An={exports:{}};function Pt(){return Hn||(Hn=1,function(n){function e(W){return function(q,V,Y,B,Z,se,re){return W(q,V,re)}}function t(W){return function(q,V,Y,B){if(!q||!V||typeof q!="object"||typeof V!="object")return W(q,V,Y,B);var Z=B.get(q),se=B.get(V);if(Z&&se)return Z===V&&se===q;B.set(q,V),B.set(V,q);var re=W(q,V,Y,B);return B.delete(q),B.delete(V),re}}function r(W,q){var V={};for(var Y in W)V[Y]=W[Y];for(var Y in q)V[Y]=q[Y];return V}function i(W){return W.constructor===Object||W.constructor==null}function a(W){return typeof W.then=="function"}function c(W,q){return W===q||W!=W&&q!=q}var u="[object Arguments]",f="[object Boolean]",p="[object Date]",x="[object RegExp]",w="[object Map]",s="[object Number]",o="[object Object]",l="[object Set]",d="[object String]",y=Object.prototype.toString;function h(W){var q=W.areArraysEqual,V=W.areDatesEqual,Y=W.areMapsEqual,B=W.areObjectsEqual,Z=W.areRegExpsEqual,se=W.areSetsEqual,re=(0,W.createIsNestedEqual)(ie);function ie(J,K,le){if(J===K)return!0;if(!J||!K||typeof J!="object"||typeof K!="object")return J!=J&&K!=K;if(i(J)&&i(K))return B(J,K,re,le);var ge=Array.isArray(J),ke=Array.isArray(K);if(ge||ke)return ge===ke&&q(J,K,re,le);var pe=y.call(J);return pe===y.call(K)&&(pe===p?V(J,K,re,le):pe===x?Z(J,K,re,le):pe===w?Y(J,K,re,le):pe===l?se(J,K,re,le):pe===o||pe===u?!a(J)&&!a(K)&&B(J,K,re,le):(pe===f||pe===s||pe===d)&&c(J.valueOf(),K.valueOf()))}return ie}function v(W,q,V,Y){var B=W.length;if(q.length!==B)return!1;for(;B-- >0;)if(!V(W[B],q[B],B,B,W,q,Y))return!1;return!0}var O=t(v);function D(W,q){return c(W.valueOf(),q.valueOf())}function k(W,q,V,Y){var B=W.size===q.size;if(!B)return!1;if(!W.size)return!0;var Z={},se=0;return W.forEach(function(re,ie){if(B){var J=!1,K=0;q.forEach(function(le,ge){J||Z[K]||!(J=V(ie,ge,se,K,W,q,Y)&&V(re,le,ie,ge,W,q,Y))||(Z[K]=!0),K++}),se++,B=J}}),B}var P=t(k),z="_owner",M=Object.prototype.hasOwnProperty;function _(W,q,V,Y){var B,Z=Object.keys(W),se=Z.length;if(Object.keys(q).length!==se)return!1;for(;se-- >0;){if((B=Z[se])===z){var re=!!W.$$typeof,ie=!!q.$$typeof;if((re||ie)&&re!==ie)return!1}if(!M.call(q,B)||!V(W[B],q[B],B,B,W,q,Y))return!1}return!0}var R=t(_);function E(W,q){return W.source===q.source&&W.flags===q.flags}function N(W,q,V,Y){var B=W.size===q.size;if(!B)return!1;if(!W.size)return!0;var Z={};return W.forEach(function(se,re){if(B){var ie=!1,J=0;q.forEach(function(K,le){ie||Z[J]||!(ie=V(se,K,re,le,W,q,Y))||(Z[J]=!0),J++}),B=ie}}),B}var C=t(N),T=Object.freeze({areArraysEqual:v,areDatesEqual:D,areMapsEqual:k,areObjectsEqual:_,areRegExpsEqual:E,areSetsEqual:N,createIsNestedEqual:e}),g=Object.freeze({areArraysEqual:O,areDatesEqual:D,areMapsEqual:P,areObjectsEqual:R,areRegExpsEqual:E,areSetsEqual:C,createIsNestedEqual:e}),b=h(T);function m(W,q){return b(W,q,void 0)}var j=h(r(T,{createIsNestedEqual:function(){return c}}));function L(W,q){return j(W,q,void 0)}var I=h(g);function H(W,q){return I(W,q,new WeakMap)}var A=h(r(g,{createIsNestedEqual:function(){return c}}));function G(W,q){return A(W,q,new WeakMap)}function $(W){return h(r(T,W(T)))}function ce(W){var q=h(r(g,W(g)));return function(V,Y,B){return B===void 0&&(B=new WeakMap),q(V,Y,B)}}n.circularDeepEqual=H,n.circularShallowEqual=G,n.createCustomCircularEqual=ce,n.createCustomEqual=$,n.deepEqual=m,n.sameValueZeroEqual=c,n.shallowEqual=L,Object.defineProperty(n,"__esModule",{value:!0})}(An.exports)),An.exports}var qn,pt={exports:{}};function Rt(){if(qn)return pt.exports;function n(t){var r,i,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(r=0;r<c;r++)t[r]&&(i=n(t[r]))&&(a&&(a+=" "),a+=i)}else for(i in t)t[i]&&(a&&(a+=" "),a+=i);return a}function e(){for(var t,r,i=0,a="",c=arguments.length;i<c;i++)(t=arguments[i])&&(r=n(t))&&(a&&(a+=" "),a+=r);return a}return qn=1,pt.exports=e,pt.exports.clsx=e,pt.exports}var Bn,Fn,Gn,X={};function Ve(){if(Gn)return X;Gn=1,Object.defineProperty(X,"__esModule",{value:!0}),X.bottom=r,X.childrenEqual=function(g,b){return(0,e.deepEqual)(t.default.Children.map(g,m=>m==null?void 0:m.key),t.default.Children.map(b,m=>m==null?void 0:m.key))&&(0,e.deepEqual)(t.default.Children.map(g,m=>m==null?void 0:m.props["data-grid"]),t.default.Children.map(b,m=>m==null?void 0:m.props["data-grid"]))},X.cloneLayout=i,X.cloneLayoutItem=c,X.collides=u,X.compact=f,X.compactItem=w,X.compactType=function(g){const{verticalCompact:b,compactType:m}=g||{};return b===!1?null:m},X.correctBounds=s,X.fastPositionEqual=function(g,b){return g.left===b.left&&g.top===b.top&&g.width===b.width&&g.height===b.height},X.fastRGLPropsEqual=void 0,X.getAllCollisions=d,X.getFirstCollision=l,X.getLayoutItem=o,X.getStatics=y,X.modifyLayout=a,X.moveElement=h,X.moveElementAwayFromCollision=v,X.noop=void 0,X.perc=function(g){return 100*g+"%"},X.resizeItemInDirection=function(g,b,m,j){const L=E[g];return L?L(b,{...b,...m},j):m},X.setTopLeft=function(g){let{top:b,left:m,width:j,height:L}=g;return{top:`${b}px`,left:`${m}px`,width:`${j}px`,height:`${L}px`,position:"absolute"}},X.setTransform=function(g){let{top:b,left:m,width:j,height:L}=g;const I=`translate(${m}px,${b}px)`;return{transform:I,WebkitTransform:I,MozTransform:I,msTransform:I,OTransform:I,width:`${j}px`,height:`${L}px`,position:"absolute"}},X.sortLayoutItems=N,X.sortLayoutItemsByColRow=T,X.sortLayoutItemsByRowCol=C,X.synchronizeLayoutWithChildren=function(g,b,m,j,L){g=g||[];const I=[];t.default.Children.forEach(b,A=>{if((A==null?void 0:A.key)==null)return;const G=o(g,String(A.key)),$=A.props["data-grid"];G&&$==null?I.push(c(G)):$?I.push(c({...$,i:A.key})):I.push(c({w:1,h:1,x:0,y:r(I),i:String(A.key)}))});const H=s(I,{cols:m});return L?H:f(H,j,m)},X.validateLayout=function(g){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const m=["x","y","w","h"];if(!Array.isArray(g))throw new Error(b+" must be an array!");for(let j=0,L=g.length;j<L;j++){const I=g[j];for(let H=0;H<m.length;H++){const A=m[H],G=I[A];if(typeof G!="number"||Number.isNaN(G))throw new Error(`ReactGridLayout: ${b}[${j}].${A} must be a number! Received: ${G} (${typeof G})`)}if(I.i!==void 0&&typeof I.i!="string")throw new Error(`ReactGridLayout: ${b}[${j}].i must be a string! Received: ${I.i} (${typeof I.i})`)}},X.withLayoutItem=function(g,b,m){let j=o(g,b);return j?(j=m(c(j)),[g=a(g,j),j]):[g,null]};var n,e=Pt(),t=(n=_e())&&n.__esModule?n:{default:n};function r(g){let b,m=0;for(let j=0,L=g.length;j<L;j++)b=g[j].y+g[j].h,b>m&&(m=b);return m}function i(g){const b=Array(g.length);for(let m=0,j=g.length;m<j;m++)b[m]=c(g[m]);return b}function a(g,b){const m=Array(g.length);for(let j=0,L=g.length;j<L;j++)b.i===g[j].i?m[j]=b:m[j]=g[j];return m}function c(g){return{w:g.w,h:g.h,x:g.x,y:g.y,i:g.i,minW:g.minW,maxW:g.maxW,minH:g.minH,maxH:g.maxH,moved:!!g.moved,static:!!g.static,isDraggable:g.isDraggable,isResizable:g.isResizable,resizeHandles:g.resizeHandles,isBounded:g.isBounded}}function u(g,b){return g.i!==b.i&&!(g.x+g.w<=b.x)&&!(g.x>=b.x+b.w)&&!(g.y+g.h<=b.y)&&!(g.y>=b.y+b.h)}function f(g,b,m,j){const L=y(g),I=N(g,b),H=Array(g.length);for(let A=0,G=I.length;A<G;A++){let $=c(I[A]);$.static||($=w(L,$,b,m,I,j),L.push($)),H[g.indexOf(I[A])]=$,$.moved=!1}return H}X.fastRGLPropsEqual=Fn?Bn:(Fn=1,Bn=function(g,b,m){return g===b||g.className===b.className&&m(g.style,b.style)&&g.width===b.width&&g.autoSize===b.autoSize&&g.cols===b.cols&&g.draggableCancel===b.draggableCancel&&g.draggableHandle===b.draggableHandle&&m(g.verticalCompact,b.verticalCompact)&&m(g.compactType,b.compactType)&&m(g.layout,b.layout)&&m(g.margin,b.margin)&&m(g.containerPadding,b.containerPadding)&&g.rowHeight===b.rowHeight&&g.maxRows===b.maxRows&&g.isBounded===b.isBounded&&g.isDraggable===b.isDraggable&&g.isResizable===b.isResizable&&g.allowOverlap===b.allowOverlap&&g.preventCollision===b.preventCollision&&g.useCSSTransforms===b.useCSSTransforms&&g.transformScale===b.transformScale&&g.isDroppable===b.isDroppable&&m(g.resizeHandles,b.resizeHandles)&&m(g.resizeHandle,b.resizeHandle)&&g.onLayoutChange===b.onLayoutChange&&g.onDragStart===b.onDragStart&&g.onDrag===b.onDrag&&g.onDragStop===b.onDragStop&&g.onResizeStart===b.onResizeStart&&g.onResize===b.onResize&&g.onResizeStop===b.onResizeStop&&g.onDrop===b.onDrop&&m(g.droppingItem,b.droppingItem)&&m(g.innerRef,b.innerRef)});const p={x:"w",y:"h"};function x(g,b,m,j){const L=p[j];b[j]+=1;for(let I=g.map(H=>H.i).indexOf(b.i)+1;I<g.length;I++){const H=g[I];if(!H.static){if(H.y>b.y+b.h)break;u(b,H)&&x(g,H,m+b[L],j)}}b[j]=m}function w(g,b,m,j,L,I){const H=m==="horizontal";if(m==="vertical")for(b.y=Math.min(r(g),b.y);b.y>0&&!l(g,b);)b.y--;else if(H)for(;b.x>0&&!l(g,b);)b.x--;let A;for(;(A=l(g,b))&&(m!==null||!I);)if(H?x(L,b,A.x+A.w,"x"):x(L,b,A.y+A.h,"y"),H&&b.x+b.w>j)for(b.x=j-b.w,b.y++;b.x>0&&!l(g,b);)b.x--;return b.y=Math.max(b.y,0),b.x=Math.max(b.x,0),b}function s(g,b){const m=y(g);for(let j=0,L=g.length;j<L;j++){const I=g[j];if(I.x+I.w>b.cols&&(I.x=b.cols-I.w),I.x<0&&(I.x=0,I.w=b.cols),I.static)for(;l(m,I);)I.y++;else m.push(I)}return g}function o(g,b){for(let m=0,j=g.length;m<j;m++)if(g[m].i===b)return g[m]}function l(g,b){for(let m=0,j=g.length;m<j;m++)if(u(g[m],b))return g[m]}function d(g,b){return g.filter(m=>u(m,b))}function y(g){return g.filter(b=>b.static)}function h(g,b,m,j,L,I,H,A,G){if(b.static&&b.isDraggable!==!0||b.y===j&&b.x===m)return g;b.i,String(m),String(j),b.x,b.y;const $=b.x,ce=b.y;typeof m=="number"&&(b.x=m),typeof j=="number"&&(b.y=j),b.moved=!0;let W=N(g,H);(H==="vertical"&&typeof j=="number"?ce>=j:H==="horizontal"&&typeof m=="number"&&$>=m)&&(W=W.reverse());const q=d(W,b),V=q.length>0;if(V&&G)return i(g);if(V&&I)return b.i,b.x=$,b.y=ce,b.moved=!1,g;for(let Y=0,B=q.length;Y<B;Y++){const Z=q[Y];b.i,b.x,b.y,Z.i,Z.x,Z.y,Z.moved||(g=Z.static?v(g,Z,b,L,H):v(g,b,Z,L,H))}return g}function v(g,b,m,j,L,I){const H=L==="horizontal",A=L==="vertical",G=b.static;if(j){j=!1;const W={x:H?Math.max(b.x-m.w,0):m.x,y:A?Math.max(b.y-m.h,0):m.y,w:m.w,h:m.h,i:"-1"},q=l(g,W),V=q&&q.y+q.h>b.y,Y=q&&b.x+b.w>q.x;if(!q)return m.i,W.x,W.y,h(g,m,H?W.x:void 0,A?W.y:void 0,j,G,L);if(V&&A)return h(g,m,void 0,b.y+1,j,G,L);if(V&&L==null)return b.y=m.y,m.y=m.y+m.h,g;if(Y&&H)return h(g,b,m.x,void 0,j,G,L)}const $=H?m.x+1:void 0,ce=A?m.y+1:void 0;return $==null&&ce==null?g:h(g,m,H?m.x+1:void 0,A?m.y+1:void 0,j,G,L)}const O=(g,b,m,j)=>g+m>j?b:m,D=(g,b,m)=>g<0?b:m,k=g=>Math.max(0,g),P=g=>Math.max(0,g),z=(g,b,m)=>{let{left:j,height:L,width:I}=b;const H=g.top-(L-g.height);return{left:j,width:I,height:D(H,g.height,L),top:P(H)}},M=(g,b,m)=>{let{top:j,left:L,height:I,width:H}=b;return{top:j,height:I,width:O(g.left,g.width,H,m),left:k(L)}},_=(g,b,m)=>{let{top:j,height:L,width:I}=b;const H=g.left-(I-g.width);return{height:L,width:H<0?g.width:O(g.left,g.width,I,m),top:P(j),left:k(H)}},R=(g,b,m)=>{let{top:j,left:L,height:I,width:H}=b;return{width:H,left:L,height:D(j,g.height,I),top:P(j)}},E={n:z,ne:function(){return z(arguments.length<=0?void 0:arguments[0],M(...arguments))},e:M,se:function(){return R(arguments.length<=0?void 0:arguments[0],M(...arguments))},s:R,sw:function(){return R(arguments.length<=0?void 0:arguments[0],_(...arguments))},w:_,nw:function(){return z(arguments.length<=0?void 0:arguments[0],_(...arguments))}};function N(g,b){return b==="horizontal"?T(g):b==="vertical"?C(g):g}function C(g){return g.slice(0).sort(function(b,m){return b.y>m.y||b.y===m.y&&b.x>m.x?1:b.y===m.y&&b.x===m.x?0:-1})}function T(g){return g.slice(0).sort(function(b,m){return b.x>m.x||b.x===m.x&&b.y>m.y?1:-1})}return X.noop=()=>{},X}var Vn,Ee={};function Mt(){if(Vn)return Ee;function n(r){const{margin:i,containerPadding:a,containerWidth:c,cols:u}=r;return(c-i[0]*(u-1)-2*a[0])/u}function e(r,i,a){return Number.isFinite(r)?Math.round(i*r+Math.max(0,r-1)*a):r}function t(r,i,a){return Math.max(Math.min(r,a),i)}return Vn=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.calcGridColWidth=n,Ee.calcGridItemPosition=function(r,i,a,c,u,f){const{margin:p,containerPadding:x,rowHeight:w}=r,s=n(r),o={};return f&&f.resizing?(o.width=Math.round(f.resizing.width),o.height=Math.round(f.resizing.height)):(o.width=e(c,s,p[0]),o.height=e(u,w,p[1])),f&&f.dragging?(o.top=Math.round(f.dragging.top),o.left=Math.round(f.dragging.left)):f&&f.resizing&&typeof f.resizing.top=="number"&&typeof f.resizing.left=="number"?(o.top=Math.round(f.resizing.top),o.left=Math.round(f.resizing.left)):(o.top=Math.round((w+p[1])*a+x[1]),o.left=Math.round((s+p[0])*i+x[0])),o},Ee.calcGridItemWHPx=e,Ee.calcWH=function(r,i,a,c,u,f){const{margin:p,maxRows:x,cols:w,rowHeight:s}=r,o=n(r);let l=Math.round((i+p[0])/(o+p[0])),d=Math.round((a+p[1])/(s+p[1])),y=t(l,0,w-c),h=t(d,0,x-u);return["sw","w","nw"].indexOf(f)!==-1&&(y=t(l,0,w)),["nw","n","ne"].indexOf(f)!==-1&&(h=t(d,0,x)),{w:y,h}},Ee.calcXY=function(r,i,a,c,u){const{margin:f,containerPadding:p,cols:x,rowHeight:w,maxRows:s}=r,o=n(r);let l=Math.round((a-p[0])/(o+f[0])),d=Math.round((i-p[1])/(w+f[1]));return l=t(l,0,x-c),d=t(d,0,s-u),{x:l,y:d}},Ee.clamp=t,Ee}var Qe={},Ze={exports:{}},Un={};function Yn(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=Yn(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function $n(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=Yn(n))&&(r&&(r+=" "),r+=e);return r}const Vo=lo(Object.freeze(Object.defineProperty({__proto__:null,clsx:$n,default:$n},Symbol.toStringTag,{value:"Module"})));var Xn,ae={},Le={};function ft(){return Xn||(Xn=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.dontSetMe=function(n,e,t){if(n[e])return new Error("Invalid prop ".concat(e," passed to ").concat(t," - do not set this, set it on the child."))},Le.findInArray=function(n,e){for(var t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]},Le.int=function(n){return parseInt(n,10)},Le.isFunction=function(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"},Le.isNum=function(n){return typeof n=="number"&&!isNaN(n)}),Le}var Kn,Qn,Ie={};function zt(){if(Qn)return ae;function n(s){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n(s)}Qn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.addClassName=x,ae.addEvent=function(s,o,l,d){if(s){var y=a({capture:!0},d);s.addEventListener?s.addEventListener(o,l,y):s.attachEvent?s.attachEvent("on"+o,l):s["on"+o]=l}},ae.addUserSelectStyles=function(s){if(s){var o=s.getElementById("react-draggable-style-el");o||((o=s.createElement("style")).type="text/css",o.id="react-draggable-style-el",o.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,o.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(o)),s.body&&x(s.body,"react-draggable-transparent-selection")}},ae.createCSSTransform=function(s,o){var l=p(s,o,"px");return c({},(0,t.browserPrefixToKey)("transform",t.default),l)},ae.createSVGTransform=function(s,o){return p(s,o,"")},ae.getTouch=function(s,o){return s.targetTouches&&(0,e.findInArray)(s.targetTouches,function(l){return o===l.identifier})||s.changedTouches&&(0,e.findInArray)(s.changedTouches,function(l){return o===l.identifier})},ae.getTouchIdentifier=function(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier},ae.getTranslation=p,ae.innerHeight=function(s){var o=s.clientHeight,l=s.ownerDocument.defaultView.getComputedStyle(s);return o-=(0,e.int)(l.paddingTop),o-=(0,e.int)(l.paddingBottom)},ae.innerWidth=function(s){var o=s.clientWidth,l=s.ownerDocument.defaultView.getComputedStyle(s);return o-=(0,e.int)(l.paddingLeft),o-=(0,e.int)(l.paddingRight)},ae.matchesSelector=f,ae.matchesSelectorAndParentsTo=function(s,o,l){var d=s;do{if(f(d,o))return!0;if(d===l)return!1;d=d.parentNode}while(d);return!1},ae.offsetXYFromParent=function(s,o,l){var d=o===o.ownerDocument.body?{left:0,top:0}:o.getBoundingClientRect(),y=(s.clientX+o.scrollLeft-d.left)/l,h=(s.clientY+o.scrollTop-d.top)/l;return{x:y,y:h}},ae.outerHeight=function(s){var o=s.clientHeight,l=s.ownerDocument.defaultView.getComputedStyle(s);return o+=(0,e.int)(l.borderTopWidth),o+=(0,e.int)(l.borderBottomWidth)},ae.outerWidth=function(s){var o=s.clientWidth,l=s.ownerDocument.defaultView.getComputedStyle(s);return o+=(0,e.int)(l.borderLeftWidth),o+=(0,e.int)(l.borderRightWidth)},ae.removeClassName=w,ae.removeEvent=function(s,o,l,d){if(s){var y=a({capture:!0},d);s.removeEventListener?s.removeEventListener(o,l,y):s.detachEvent?s.detachEvent("on"+o,l):s["on"+o]=null}},ae.removeUserSelectStyles=function(s){if(s)try{if(s.body&&w(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{var o=(s.defaultView||window).getSelection();o&&o.type!=="Caret"&&o.removeAllRanges()}}catch{}};var e=ft(),t=function(s,o){if(s&&s.__esModule)return s;if(s===null||n(s)!=="object"&&typeof s!="function")return{default:s};var l=r(o);if(l&&l.has(s))return l.get(s);var d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in s)if(h!=="default"&&Object.prototype.hasOwnProperty.call(s,h)){var v=y?Object.getOwnPropertyDescriptor(s,h):null;v&&(v.get||v.set)?Object.defineProperty(d,h,v):d[h]=s[h]}return d.default=s,l&&l.set(s,d),d}(function(){if(Kn)return Ie;Kn=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.browserPrefixToKey=l,Ie.browserPrefixToStyle=function(y,h){return h?"-".concat(h.toLowerCase(),"-").concat(y):y},Ie.default=void 0,Ie.getPrefix=o;var s=["Moz","Webkit","O","ms"];function o(){var y,h,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var O=(y=window.document)===null||y===void 0||(h=y.documentElement)===null||h===void 0?void 0:h.style;if(!O||v in O)return"";for(var D=0;D<s.length;D++)if(l(v,s[D])in O)return s[D];return""}function l(y,h){return h?"".concat(h).concat(function(v){for(var O="",D=!0,k=0;k<v.length;k++)D?(O+=v[k].toUpperCase(),D=!1):v[k]==="-"?D=!0:O+=v[k];return O}(y)):y}var d=o();return Ie.default=d,Ie}());function r(s){if(typeof WeakMap!="function")return null;var o=new WeakMap,l=new WeakMap;return(r=function(d){return d?l:o})(s)}function i(s,o){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);o&&(d=d.filter(function(y){return Object.getOwnPropertyDescriptor(s,y).enumerable})),l.push.apply(l,d)}return l}function a(s){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?i(Object(l),!0).forEach(function(d){c(s,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):i(Object(l)).forEach(function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(l,d))})}return s}function c(s,o,l){return o in s?Object.defineProperty(s,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[o]=l,s}var u="";function f(s,o){return u||(u=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(l){return(0,e.isFunction)(s[l])})),!!(0,e.isFunction)(s[u])&&s[u](o)}function p(s,o,l){var d=s.x,y=s.y,h="translate(".concat(d).concat(l,",").concat(y).concat(l,")");if(o){var v="".concat(typeof o.x=="string"?o.x:o.x+l),O="".concat(typeof o.y=="string"?o.y:o.y+l);h="translate(".concat(v,", ").concat(O,")")+h}return h}function x(s,o){s.classList?s.classList.add(o):s.className.match(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)")))||(s.className+=" ".concat(o))}function w(s,o){s.classList?s.classList.remove(o):s.className=s.className.replace(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)"),"g"),"")}return ae}var Zn,je={};function Jn(){if(Zn)return je;Zn=1,Object.defineProperty(je,"__esModule",{value:!0}),je.canDragX=function(r){return r.props.axis==="both"||r.props.axis==="x"},je.canDragY=function(r){return r.props.axis==="both"||r.props.axis==="y"},je.createCoreData=function(r,i,a){var c=r.state,u=!(0,n.isNum)(c.lastX),f=t(r);return u?{node:f,deltaX:0,deltaY:0,lastX:i,lastY:a,x:i,y:a}:{node:f,deltaX:i-c.lastX,deltaY:a-c.lastY,lastX:c.lastX,lastY:c.lastY,x:i,y:a}},je.createDraggableData=function(r,i){var a=r.props.scale;return{node:i.node,x:r.state.x+i.deltaX/a,y:r.state.y+i.deltaY/a,deltaX:i.deltaX/a,deltaY:i.deltaY/a,lastX:r.state.x,lastY:r.state.y}},je.getBoundPosition=function(r,i,a){if(!r.props.bounds)return[i,a];var c=r.props.bounds;c=typeof c=="string"?c:function(l){return{left:l.left,top:l.top,right:l.right,bottom:l.bottom}}(c);var u=t(r);if(typeof c=="string"){var f,p=u.ownerDocument,x=p.defaultView;if(!((f=c==="parent"?u.parentNode:p.querySelector(c))instanceof x.HTMLElement))throw new Error('Bounds selector "'+c+'" could not find an element.');var w=f,s=x.getComputedStyle(u),o=x.getComputedStyle(w);c={left:-u.offsetLeft+(0,n.int)(o.paddingLeft)+(0,n.int)(s.marginLeft),top:-u.offsetTop+(0,n.int)(o.paddingTop)+(0,n.int)(s.marginTop),right:(0,e.innerWidth)(w)-(0,e.outerWidth)(u)-u.offsetLeft+(0,n.int)(o.paddingRight)-(0,n.int)(s.marginRight),bottom:(0,e.innerHeight)(w)-(0,e.outerHeight)(u)-u.offsetTop+(0,n.int)(o.paddingBottom)-(0,n.int)(s.marginBottom)}}return(0,n.isNum)(c.right)&&(i=Math.min(i,c.right)),(0,n.isNum)(c.bottom)&&(a=Math.min(a,c.bottom)),(0,n.isNum)(c.left)&&(i=Math.max(i,c.left)),(0,n.isNum)(c.top)&&(a=Math.max(a,c.top)),[i,a]},je.getControlPosition=function(r,i,a){var c=typeof i=="number"?(0,e.getTouch)(r,i):null;if(typeof i=="number"&&!c)return null;var u=t(a),f=a.props.offsetParent||u.offsetParent||u.ownerDocument.body;return(0,e.offsetXYFromParent)(c||r,f,a.props.scale)},je.snapToGrid=function(r,i,a){var c=Math.round(i/r[0])*r[0],u=Math.round(a/r[1])*r[1];return[c,u]};var n=ft(),e=zt();function t(r){var i=r.findDOMNode();if(!i)throw new Error("<DraggableCore>: Unmounted during event!");return i}return je}var er,tr,nr,rr,Je={},ht={};function or(){return er||(er=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=function(){}),ht}function Uo(){if(tr)return Je;function n(P){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},n(P)}tr=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var e=function(P,z){if(P&&P.__esModule)return P;if(P===null||n(P)!=="object"&&typeof P!="function")return{default:P};var M=p(z);if(M&&M.has(P))return M.get(P);var _={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in P)if(E!=="default"&&Object.prototype.hasOwnProperty.call(P,E)){var N=R?Object.getOwnPropertyDescriptor(P,E):null;N&&(N.get||N.set)?Object.defineProperty(_,E,N):_[E]=P[E]}return _.default=P,M&&M.set(P,_),_}(_e()),t=f(Ae()),r=f(Ut()),i=zt(),a=Jn(),c=ft(),u=f(or());function f(P){return P&&P.__esModule?P:{default:P}}function p(P){if(typeof WeakMap!="function")return null;var z=new WeakMap,M=new WeakMap;return(p=function(_){return _?M:z})(P)}function x(P,z){return function(M){if(Array.isArray(M))return M}(P)||function(M,_){var R=M==null?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(R!=null){var E,N,C=[],T=!0,g=!1;try{for(R=R.call(M);!(T=(E=R.next()).done)&&(C.push(E.value),!_||C.length!==_);T=!0);}catch(b){g=!0,N=b}finally{try{T||R.return==null||R.return()}finally{if(g)throw N}}return C}}(P,z)||function(M,_){if(M){if(typeof M=="string")return w(M,_);var R=Object.prototype.toString.call(M).slice(8,-1);if(R==="Object"&&M.constructor&&(R=M.constructor.name),R==="Map"||R==="Set")return Array.from(M);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return w(M,_)}}(P,z)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(P,z){(z==null||z>P.length)&&(z=P.length);for(var M=0,_=new Array(z);M<z;M++)_[M]=P[M];return _}function s(P,z,M){return z&&function(_,R){for(var E=0;E<R.length;E++){var N=R[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(_,N.key,N)}}(P.prototype,z),Object.defineProperty(P,"prototype",{writable:!1}),P}function o(P,z){return o=Object.setPrototypeOf||function(M,_){return M.__proto__=_,M},o(P,z)}function l(P){var z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var M,_=y(P);if(z){var R=y(this).constructor;M=Reflect.construct(_,arguments,R)}else M=_.apply(this,arguments);return function(E,N){if(N&&(n(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(E)}(this,M)}}function d(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function y(P){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)},y(P)}function h(P,z,M){return z in P?Object.defineProperty(P,z,{value:M,enumerable:!0,configurable:!0,writable:!0}):P[z]=M,P}var v={start:"touchstart",move:"touchmove",stop:"touchend"},O={start:"mousedown",move:"mousemove",stop:"mouseup"},D=O,k=function(P){(function(_,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(R&&R.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),R&&o(_,R)})(M,P);var z=l(M);function M(){var _;(function(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")})(this,M);for(var R=arguments.length,E=new Array(R),N=0;N<R;N++)E[N]=arguments[N];return h(d(_=z.call.apply(z,[this].concat(E))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),h(d(_),"mounted",!1),h(d(_),"handleDragStart",function(C){if(_.props.onMouseDown(C),!_.props.allowAnyClick&&typeof C.button=="number"&&C.button!==0)return!1;var T=_.findDOMNode();if(!T||!T.ownerDocument||!T.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var g=T.ownerDocument;if(!(_.props.disabled||!(C.target instanceof g.defaultView.Node)||_.props.handle&&!(0,i.matchesSelectorAndParentsTo)(C.target,_.props.handle,T)||_.props.cancel&&(0,i.matchesSelectorAndParentsTo)(C.target,_.props.cancel,T))){C.type==="touchstart"&&C.preventDefault();var b=(0,i.getTouchIdentifier)(C);_.setState({touchIdentifier:b});var m=(0,a.getControlPosition)(C,b,d(_));if(m!=null){var j=m.x,L=m.y,I=(0,a.createCoreData)(d(_),j,L);(0,u.default)("DraggableCore: handleDragStart: %j",I),(0,u.default)("calling",_.props.onStart),_.props.onStart(C,I)!==!1&&_.mounted!==!1&&(_.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(g),_.setState({dragging:!0,lastX:j,lastY:L}),(0,i.addEvent)(g,D.move,_.handleDrag),(0,i.addEvent)(g,D.stop,_.handleDragStop))}}}),h(d(_),"handleDrag",function(C){var T=(0,a.getControlPosition)(C,_.state.touchIdentifier,d(_));if(T!=null){var g=T.x,b=T.y;if(Array.isArray(_.props.grid)){var m=g-_.state.lastX,j=b-_.state.lastY,L=x((0,a.snapToGrid)(_.props.grid,m,j),2);if(m=L[0],j=L[1],!m&&!j)return;g=_.state.lastX+m,b=_.state.lastY+j}var I=(0,a.createCoreData)(d(_),g,b);if((0,u.default)("DraggableCore: handleDrag: %j",I),_.props.onDrag(C,I)!==!1&&_.mounted!==!1)_.setState({lastX:g,lastY:b});else try{_.handleDragStop(new MouseEvent("mouseup"))}catch{var H=document.createEvent("MouseEvents");H.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),_.handleDragStop(H)}}}),h(d(_),"handleDragStop",function(C){if(_.state.dragging){var T=(0,a.getControlPosition)(C,_.state.touchIdentifier,d(_));if(T!=null){var g=T.x,b=T.y;if(Array.isArray(_.props.grid)){var m=g-_.state.lastX||0,j=b-_.state.lastY||0,L=x((0,a.snapToGrid)(_.props.grid,m,j),2);m=L[0],j=L[1],g=_.state.lastX+m,b=_.state.lastY+j}var I=(0,a.createCoreData)(d(_),g,b);if(_.props.onStop(C,I)===!1||_.mounted===!1)return!1;var H=_.findDOMNode();H&&_.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(H.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",I),_.setState({dragging:!1,lastX:NaN,lastY:NaN}),H&&((0,u.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(H.ownerDocument,D.move,_.handleDrag),(0,i.removeEvent)(H.ownerDocument,D.stop,_.handleDragStop))}}}),h(d(_),"onMouseDown",function(C){return D=O,_.handleDragStart(C)}),h(d(_),"onMouseUp",function(C){return D=O,_.handleDragStop(C)}),h(d(_),"onTouchStart",function(C){return D=v,_.handleDragStart(C)}),h(d(_),"onTouchEnd",function(C){return D=v,_.handleDragStop(C)}),_}return s(M,[{key:"componentDidMount",value:function(){this.mounted=!0;var _=this.findDOMNode();_&&(0,i.addEvent)(_,v.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var _=this.findDOMNode();if(_){var R=_.ownerDocument;(0,i.removeEvent)(R,O.move,this.handleDrag),(0,i.removeEvent)(R,v.move,this.handleDrag),(0,i.removeEvent)(R,O.stop,this.handleDragStop),(0,i.removeEvent)(R,v.stop,this.handleDragStop),(0,i.removeEvent)(_,v.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(R)}}},{key:"findDOMNode",value:function(){var _,R,E;return(_=this.props)!==null&&_!==void 0&&_.nodeRef?(R=this.props)===null||R===void 0||(E=R.nodeRef)===null||E===void 0?void 0:E.current:r.default.findDOMNode(this)}},{key:"render",value:function(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),M}(e.Component);return Je.default=k,h(k,"displayName","DraggableCore"),h(k,"propTypes",{allowAnyClick:t.default.bool,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(P,z){if(P[z]&&P[z].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),h(k,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Je}function Yo(){return nr||(nr=1,function(n){function e(E){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},e(E)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return p.default}}),n.default=void 0;var t=function(E,N){if(E&&E.__esModule)return E;if(E===null||e(E)!=="object"&&typeof E!="function")return{default:E};var C=o(N);if(C&&C.has(E))return C.get(E);var T={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in E)if(b!=="default"&&Object.prototype.hasOwnProperty.call(E,b)){var m=g?Object.getOwnPropertyDescriptor(E,b):null;m&&(m.get||m.set)?Object.defineProperty(T,b,m):T[b]=E[b]}return T.default=E,C&&C.set(E,T),T}(_e()),r=s(Ae()),i=s(Ut()),a=s(Vo),c=zt(),u=Jn(),f=ft(),p=s(Uo()),x=s(or()),w=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function s(E){return E&&E.__esModule?E:{default:E}}function o(E){if(typeof WeakMap!="function")return null;var N=new WeakMap,C=new WeakMap;return(o=function(T){return T?C:N})(E)}function l(){return l=Object.assign||function(E){for(var N=1;N<arguments.length;N++){var C=arguments[N];for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(E[T]=C[T])}return E},l.apply(this,arguments)}function d(E,N){if(E==null)return{};var C,T,g=function(m,j){if(m==null)return{};var L,I,H={},A=Object.keys(m);for(I=0;I<A.length;I++)L=A[I],j.indexOf(L)>=0||(H[L]=m[L]);return H}(E,N);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(E);for(T=0;T<b.length;T++)C=b[T],N.indexOf(C)>=0||Object.prototype.propertyIsEnumerable.call(E,C)&&(g[C]=E[C])}return g}function y(E,N){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(E);N&&(T=T.filter(function(g){return Object.getOwnPropertyDescriptor(E,g).enumerable})),C.push.apply(C,T)}return C}function h(E){for(var N=1;N<arguments.length;N++){var C=arguments[N]!=null?arguments[N]:{};N%2?y(Object(C),!0).forEach(function(T){_(E,T,C[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):y(Object(C)).forEach(function(T){Object.defineProperty(E,T,Object.getOwnPropertyDescriptor(C,T))})}return E}function v(E,N){return function(C){if(Array.isArray(C))return C}(E)||function(C,T){var g=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(g!=null){var b,m,j=[],L=!0,I=!1;try{for(g=g.call(C);!(L=(b=g.next()).done)&&(j.push(b.value),!T||j.length!==T);L=!0);}catch(H){I=!0,m=H}finally{try{L||g.return==null||g.return()}finally{if(I)throw m}}return j}}(E,N)||function(C,T){if(C){if(typeof C=="string")return O(C,T);var g=Object.prototype.toString.call(C).slice(8,-1);if(g==="Object"&&C.constructor&&(g=C.constructor.name),g==="Map"||g==="Set")return Array.from(C);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return O(C,T)}}(E,N)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(E,N){(N==null||N>E.length)&&(N=E.length);for(var C=0,T=new Array(N);C<N;C++)T[C]=E[C];return T}function D(E,N){for(var C=0;C<N.length;C++){var T=N[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}function k(E,N){return k=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C},k(E,N)}function P(E){var N=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,T=M(E);if(N){var g=M(this).constructor;C=Reflect.construct(T,arguments,g)}else C=T.apply(this,arguments);return function(b,m){if(m&&(e(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(b)}(this,C)}}function z(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function M(E){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},M(E)}function _(E,N,C){return N in E?Object.defineProperty(E,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[N]=C,E}var R=function(E){(function(m,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(j&&j.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),j&&k(m,j)})(b,E);var N,C,T,g=P(b);function b(m){var j;return function(L,I){if(!(L instanceof I))throw new TypeError("Cannot call a class as a function")}(this,b),_(z(j=g.call(this,m)),"onDragStart",function(L,I){if((0,x.default)("Draggable: onDragStart: %j",I),j.props.onStart(L,(0,u.createDraggableData)(z(j),I))===!1)return!1;j.setState({dragging:!0,dragged:!0})}),_(z(j),"onDrag",function(L,I){if(!j.state.dragging)return!1;(0,x.default)("Draggable: onDrag: %j",I);var H=(0,u.createDraggableData)(z(j),I),A={x:H.x,y:H.y};if(j.props.bounds){var G=A.x,$=A.y;A.x+=j.state.slackX,A.y+=j.state.slackY;var ce=v((0,u.getBoundPosition)(z(j),A.x,A.y),2),W=ce[0],q=ce[1];A.x=W,A.y=q,A.slackX=j.state.slackX+(G-A.x),A.slackY=j.state.slackY+($-A.y),H.x=A.x,H.y=A.y,H.deltaX=A.x-j.state.x,H.deltaY=A.y-j.state.y}if(j.props.onDrag(L,H)===!1)return!1;j.setState(A)}),_(z(j),"onDragStop",function(L,I){if(!j.state.dragging||j.props.onStop(L,(0,u.createDraggableData)(z(j),I))===!1)return!1;(0,x.default)("Draggable: onDragStop: %j",I);var H={dragging:!1,slackX:0,slackY:0};if(j.props.position){var A=j.props.position,G=A.x,$=A.y;H.x=G,H.y=$}j.setState(H)}),j.state={dragging:!1,dragged:!1,x:m.position?m.position.x:m.defaultPosition.x,y:m.position?m.position.y:m.defaultPosition.y,prevPropsPosition:h({},m.position),slackX:0,slackY:0,isElementSVG:!1},!m.position||m.onDrag||m.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),j}return N=b,T=[{key:"getDerivedStateFromProps",value:function(m,j){var L=m.position,I=j.prevPropsPosition;return!L||I&&L.x===I.x&&L.y===I.y?null:((0,x.default)("Draggable: getDerivedStateFromProps %j",{position:L,prevPropsPosition:I}),{x:L.x,y:L.y,prevPropsPosition:h({},L)})}}],(C=[{key:"componentDidMount",value:function(){window.SVGElement!==void 0&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var m,j,L;return(m=(j=this.props)===null||j===void 0||(L=j.nodeRef)===null||L===void 0?void 0:L.current)!==null&&m!==void 0?m:i.default.findDOMNode(this)}},{key:"render",value:function(){var m,j=this.props;j.axis,j.bounds;var L=j.children,I=j.defaultPosition,H=j.defaultClassName,A=j.defaultClassNameDragging,G=j.defaultClassNameDragged,$=j.position,ce=j.positionOffset;j.scale;var W=d(j,w),q={},V=null,Y=!$||this.state.dragging,B=$||I,Z={x:(0,u.canDragX)(this)&&Y?this.state.x:B.x,y:(0,u.canDragY)(this)&&Y?this.state.y:B.y};this.state.isElementSVG?V=(0,c.createSVGTransform)(Z,ce):q=(0,c.createCSSTransform)(Z,ce);var se=(0,a.default)(L.props.className||"",H,(_(m={},A,this.state.dragging),_(m,G,this.state.dragged),m));return t.createElement(p.default,l({},W,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(L),{className:se,style:h(h({},L.props.style),q),transform:V}))}}])&&D(N.prototype,C),T&&D(N,T),Object.defineProperty(N,"prototype",{writable:!1}),b}(t.Component);n.default=R,_(R,"displayName","Draggable"),_(R,"propTypes",h(h({},p.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe})),_(R,"defaultProps",h(h({},p.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(Un)),Un}function Tt(){if(rr)return Ze.exports;rr=1;var n=Yo(),e=n.default,t=n.DraggableCore;return Ze.exports=e,Ze.exports.default=e,Ze.exports.DraggableCore=t,Ze.exports}var ar,mt={exports:{}},et={},gt={};function $o(){if(ar)return gt;ar=1,gt.__esModule=!0,gt.cloneElement=function(a,c){return c.style&&a.props.style&&(c.style=r(r({},a.props.style),c.style)),c.className&&a.props.className&&(c.className=a.props.className+" "+c.className),e.default.cloneElement(a,c)};var n,e=(n=_e())&&n.__esModule?n:{default:n};function t(a,c){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);c&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable})),u.push.apply(u,f)}return u}function r(a){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?t(Object(u),!0).forEach(function(f){i(a,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(f){Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(u,f))})}return a}function i(a,c,u){return(c=function(f){var p=function(x,w){if(typeof x!="object"||x===null)return x;var s=x[Symbol.toPrimitive];if(s!==void 0){var o=s.call(x,w);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(x)}(f,"string");return typeof p=="symbol"?p:String(p)}(c))in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,a}return gt}var sr,ir,tt={};function lr(){if(sr)return tt;sr=1,tt.__esModule=!0,tt.resizableProps=void 0;var n,e=(n=Ae())&&n.__esModule?n:{default:n};Tt();var t={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:e.default.node,grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var c,u=i[0];return u.axis==="both"||u.axis==="y"?(c=e.default.number).isRequired.apply(c,i):e.default.number.apply(e.default,i)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var c,u=i[0];return u.axis==="both"||u.axis==="x"?(c=e.default.number).isRequired.apply(c,i):e.default.number.apply(e.default,i)}};return tt.resizableProps=t,tt}function cr(){if(ir)return et;ir=1,et.__esModule=!0,et.default=void 0;var n=function(s,o){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var l=a(o);if(l&&l.has(s))return l.get(s);var d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in s)if(h!=="default"&&Object.prototype.hasOwnProperty.call(s,h)){var v=y?Object.getOwnPropertyDescriptor(s,h):null;v&&(v.get||v.set)?Object.defineProperty(d,h,v):d[h]=s[h]}return d.default=s,l&&l.set(s,d),d}(_e()),e=Tt(),t=$o(),r=lr(),i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function a(s){if(typeof WeakMap!="function")return null;var o=new WeakMap,l=new WeakMap;return(a=function(d){return d?l:o})(s)}function c(){return c=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])}return s},c.apply(this,arguments)}function u(s,o){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);o&&(d=d.filter(function(y){return Object.getOwnPropertyDescriptor(s,y).enumerable})),l.push.apply(l,d)}return l}function f(s){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?u(Object(l),!0).forEach(function(d){p(s,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):u(Object(l)).forEach(function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(l,d))})}return s}function p(s,o,l){return(o=function(d){var y=function(h,v){if(typeof h!="object"||h===null)return h;var O=h[Symbol.toPrimitive];if(O!==void 0){var D=O.call(h,v);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(h)}(d,"string");return typeof y=="symbol"?y:String(y)}(o))in s?Object.defineProperty(s,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[o]=l,s}function x(s,o){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,d){return l.__proto__=d,l},x(s,o)}var w=function(s){var o,l;function d(){for(var h,v=arguments.length,O=new Array(v),D=0;D<v;D++)O[D]=arguments[D];return(h=s.call.apply(s,[this].concat(O))||this).handleRefs={},h.lastHandleRect=null,h.slack=null,h}l=s,(o=d).prototype=Object.create(l.prototype),o.prototype.constructor=o,x(o,l);var y=d.prototype;return y.componentWillUnmount=function(){this.resetData()},y.resetData=function(){this.lastHandleRect=this.slack=null},y.runConstraints=function(h,v){var O=this.props,D=O.minConstraints,k=O.maxConstraints,P=O.lockAspectRatio;if(!D&&!k&&!P)return[h,v];if(P){var z=this.props.width/this.props.height,M=h-this.props.width,_=v-this.props.height;Math.abs(M)>Math.abs(_*z)?v=h/z:h=v*z}var R=h,E=v,N=this.slack||[0,0],C=N[0],T=N[1];return h+=C,v+=T,D&&(h=Math.max(D[0],h),v=Math.max(D[1],v)),k&&(h=Math.min(k[0],h),v=Math.min(k[1],v)),this.slack=[C+(R-h),T+(E-v)],[h,v]},y.resizeHandler=function(h,v){var O=this;return function(D,k){var P=k.node,z=k.deltaX,M=k.deltaY;h==="onResizeStart"&&O.resetData();var _=(O.props.axis==="both"||O.props.axis==="x")&&v!=="n"&&v!=="s",R=(O.props.axis==="both"||O.props.axis==="y")&&v!=="e"&&v!=="w";if(_||R){var E=v[0],N=v[v.length-1],C=P.getBoundingClientRect();O.lastHandleRect!=null&&(N==="w"&&(z+=C.left-O.lastHandleRect.left),E==="n"&&(M+=C.top-O.lastHandleRect.top)),O.lastHandleRect=C,N==="w"&&(z=-z),E==="n"&&(M=-M);var T=O.props.width+(_?z/O.props.transformScale:0),g=O.props.height+(R?M/O.props.transformScale:0),b=O.runConstraints(T,g);T=b[0],g=b[1];var m=T!==O.props.width||g!==O.props.height,j=typeof O.props[h]=="function"?O.props[h]:null;j&&!(h==="onResize"&&!m)&&(D.persist==null||D.persist(),j(D,{node:P,size:{width:T,height:g},handle:v})),h==="onResizeStop"&&O.resetData()}}},y.renderResizeHandle=function(h,v){var O=this.props.handle;if(!O)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+h,ref:v});if(typeof O=="function")return O(h,v);var D=f({ref:v},typeof O.type=="string"?{}:{handleAxis:h});return n.cloneElement(O,D)},y.render=function(){var h=this,v=this.props,O=v.children,D=v.className,k=v.draggableOpts;v.width,v.height,v.handle,v.handleSize,v.lockAspectRatio,v.axis,v.minConstraints,v.maxConstraints,v.onResize,v.onResizeStop,v.onResizeStart;var P=v.resizeHandles;v.transformScale;var z=function(M,_){if(M==null)return{};var R,E,N={},C=Object.keys(M);for(E=0;E<C.length;E++)R=C[E],_.indexOf(R)>=0||(N[R]=M[R]);return N}(v,i);return(0,t.cloneElement)(O,f(f({},z),{},{className:(D?D+" ":"")+"react-resizable",children:[].concat(O.props.children,P.map(function(M){var _,R=(_=h.handleRefs[M])!=null?_:h.handleRefs[M]=n.createRef();return n.createElement(e.DraggableCore,c({},k,{nodeRef:R,key:"resizableHandle-"+M,onStop:h.resizeHandler("onResizeStop",M),onStart:h.resizeHandler("onResizeStart",M),onDrag:h.resizeHandler("onResize",M)}),h.renderResizeHandle(M,R))}))}))},d}(n.Component);return et.default=w,w.propTypes=r.resizableProps,w.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},et}var ur,dr,nt={};function Xo(){if(ur)return nt;ur=1,nt.__esModule=!0,nt.default=void 0;var n=function(o,l){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=c(l);if(d&&d.has(o))return d.get(o);var y={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(v!=="default"&&Object.prototype.hasOwnProperty.call(o,v)){var O=h?Object.getOwnPropertyDescriptor(o,v):null;O&&(O.get||O.set)?Object.defineProperty(y,v,O):y[v]=o[v]}return y.default=o,d&&d.set(o,y),y}(_e()),e=a(Ae()),t=a(cr()),r=lr(),i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function a(o){return o&&o.__esModule?o:{default:o}}function c(o){if(typeof WeakMap!="function")return null;var l=new WeakMap,d=new WeakMap;return(c=function(y){return y?d:l})(o)}function u(){return u=Object.assign?Object.assign.bind():function(o){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(o[y]=d[y])}return o},u.apply(this,arguments)}function f(o,l){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(o);l&&(y=y.filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable})),d.push.apply(d,y)}return d}function p(o){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?f(Object(d),!0).forEach(function(y){x(o,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):f(Object(d)).forEach(function(y){Object.defineProperty(o,y,Object.getOwnPropertyDescriptor(d,y))})}return o}function x(o,l,d){return(l=function(y){var h=function(v,O){if(typeof v!="object"||v===null)return v;var D=v[Symbol.toPrimitive];if(D!==void 0){var k=D.call(v,O);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(v)}(y,"string");return typeof h=="symbol"?h:String(h)}(l))in o?Object.defineProperty(o,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[l]=d,o}function w(o,l){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,y){return d.__proto__=y,d},w(o,l)}var s=function(o){var l,d;function y(){for(var h,v=arguments.length,O=new Array(v),D=0;D<v;D++)O[D]=arguments[D];return(h=o.call.apply(o,[this].concat(O))||this).state={width:h.props.width,height:h.props.height,propsWidth:h.props.width,propsHeight:h.props.height},h.onResize=function(k,P){var z=P.size;h.props.onResize?(k.persist==null||k.persist(),h.setState(z,function(){return h.props.onResize&&h.props.onResize(k,P)})):h.setState(z)},h}return d=o,(l=y).prototype=Object.create(d.prototype),l.prototype.constructor=l,w(l,d),y.getDerivedStateFromProps=function(h,v){return v.propsWidth!==h.width||v.propsHeight!==h.height?{width:h.width,height:h.height,propsWidth:h.width,propsHeight:h.height}:null},y.prototype.render=function(){var h=this.props,v=h.handle,O=h.handleSize;h.onResize;var D=h.onResizeStart,k=h.onResizeStop,P=h.draggableOpts,z=h.minConstraints,M=h.maxConstraints,_=h.lockAspectRatio,R=h.axis;h.width,h.height;var E=h.resizeHandles,N=h.style,C=h.transformScale,T=function(g,b){if(g==null)return{};var m,j,L={},I=Object.keys(g);for(j=0;j<I.length;j++)m=I[j],b.indexOf(m)>=0||(L[m]=g[m]);return L}(h,i);return n.createElement(t.default,{axis:R,draggableOpts:P,handle:v,handleSize:O,height:this.state.height,lockAspectRatio:_,maxConstraints:M,minConstraints:z,onResizeStart:D,onResize:this.onResize,onResizeStop:k,resizeHandles:E,transformScale:C,width:this.state.width},n.createElement("div",u({},T,{style:p(p({},N),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},y}(n.Component);return nt.default=s,s.propTypes=p(p({},r.resizableProps),{},{children:e.default.element}),nt}var pr,fr,hr,Ce={};function mr(){if(pr)return Ce;pr=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.resizeHandleType=Ce.resizeHandleAxesType=Ce.default=void 0;var n=t(Ae()),e=t(_e());function t(a){return a&&a.__esModule?a:{default:a}}const r=Ce.resizeHandleAxesType=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),i=Ce.resizeHandleType=n.default.oneOfType([n.default.node,n.default.func]);return Ce.default={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(a){a.verticalCompact},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(a){var c=a.layout;c!==void 0&&Ve().validateLayout(c,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:r,resizeHandle:i,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(a,c){const u=a[c],f={};e.default.Children.forEach(u,function(p){if((p==null?void 0:p.key)!=null){if(f[p.key])throw new Error('Duplicate child key "'+p.key+'" found! This will cause problems in ReactGridLayout.');f[p.key]=!0}})},innerRef:n.default.any},Ce}function Ko(){if(fr)return Qe;fr=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var n=p(_e()),e=Ut(),t=p(Ae()),r=Tt(),i=(dr||(dr=1,mt.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},mt.exports.Resizable=cr().default,mt.exports.ResizableBox=Xo().default),mt.exports),a=Ve(),c=Mt(),u=mr(),f=p(Rt());function p(s){return s&&s.__esModule?s:{default:s}}function x(s,o,l){return(o=function(d){var y=function(h,v){if(typeof h!="object"||h===null)return h;var O=h[Symbol.toPrimitive];if(O!==void 0){var D=O.call(h,v);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(h)}(d,"string");return typeof y=="symbol"?y:String(y)}(o))in s?Object.defineProperty(s,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[o]=l,s}let w=class extends n.default.Component{constructor(){super(...arguments),x(this,"state",{resizing:null,dragging:null,className:""}),x(this,"elementRef",n.default.createRef()),x(this,"onDragStart",(s,o)=>{let{node:l}=o;const{onDragStart:d,transformScale:y}=this.props;if(!d)return;const h={top:0,left:0},{offsetParent:v}=l;if(!v)return;const O=v.getBoundingClientRect(),D=l.getBoundingClientRect(),k=D.left/y,P=O.left/y,z=D.top/y,M=O.top/y;h.left=k-P+v.scrollLeft,h.top=z-M+v.scrollTop,this.setState({dragging:h});const{x:_,y:R}=(0,c.calcXY)(this.getPositionParams(),h.top,h.left,this.props.w,this.props.h);return d.call(this,this.props.i,_,R,{e:s,node:l,newPosition:h})}),x(this,"onDrag",(s,o,l)=>{let{node:d,deltaX:y,deltaY:h}=o;const{onDrag:v}=this.props;if(!v)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let O=this.state.dragging.top+h,D=this.state.dragging.left+y;const{isBounded:k,i:P,w:z,h:M,containerWidth:_}=this.props,R=this.getPositionParams();if(k){const{offsetParent:T}=d;if(T){const{margin:g,rowHeight:b,containerPadding:m}=this.props,j=T.clientHeight-(0,c.calcGridItemWHPx)(M,b,g[1]);O=(0,c.clamp)(O-m[1],0,j);const L=(0,c.calcGridColWidth)(R),I=_-(0,c.calcGridItemWHPx)(z,L,g[0]);D=(0,c.clamp)(D-m[0],0,I)}}const E={top:O,left:D};l?this.setState({dragging:E}):(0,e.flushSync)(()=>{this.setState({dragging:E})});const{x:N,y:C}=(0,c.calcXY)(R,O,D,z,M);return v.call(this,P,N,C,{e:s,node:d,newPosition:E})}),x(this,"onDragStop",(s,o)=>{let{node:l}=o;const{onDragStop:d}=this.props;if(!d)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:y,h,i:v}=this.props,{left:O,top:D}=this.state.dragging,k={top:D,left:O};this.setState({dragging:null});const{x:P,y:z}=(0,c.calcXY)(this.getPositionParams(),D,O,y,h);return d.call(this,v,P,z,{e:s,node:l,newPosition:k})}),x(this,"onResizeStop",(s,o,l)=>this.onResizeHandler(s,o,l,"onResizeStop")),x(this,"onResizeStart",(s,o,l)=>this.onResizeHandler(s,o,l,"onResizeStart")),x(this,"onResize",(s,o,l)=>this.onResizeHandler(s,o,l,"onResize"))}shouldComponentUpdate(s,o){if(this.props.children!==s.children||this.props.droppingPosition!==s.droppingPosition)return!0;const l=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),d=(0,c.calcGridItemPosition)(this.getPositionParams(s),s.x,s.y,s.w,s.h,o);return!(0,a.fastPositionEqual)(l,d)||this.props.useCSSTransforms!==s.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(s){this.moveDroppingItem(s)}moveDroppingItem(s){const{droppingPosition:o}=this.props;if(!o)return;const l=this.elementRef.current;if(!l)return;const d=s.droppingPosition||{left:0,top:0},{dragging:y}=this.state,h=y&&o.left!==d.left||o.top!==d.top;if(y){if(h){const v=o.left-y.left,O=o.top-y.top;this.onDrag(o.e,{node:l,deltaX:v,deltaY:O},!0)}}else this.onDragStart(o.e,{node:l,deltaX:o.left,deltaY:o.top})}getPositionParams(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:s.cols,containerPadding:s.containerPadding,containerWidth:s.containerWidth,margin:s.margin,maxRows:s.maxRows,rowHeight:s.rowHeight}}createStyle(s){const{usePercentages:o,containerWidth:l,useCSSTransforms:d}=this.props;let y;return d?y=(0,a.setTransform)(s):(y=(0,a.setTopLeft)(s),o&&(y.left=(0,a.perc)(s.left/l),y.width=(0,a.perc)(s.width/l))),y}mixinDraggable(s,o){return n.default.createElement(r.DraggableCore,{disabled:!o,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},s)}curryResizeHandler(s,o){return(l,d)=>o(l,d,s)}mixinResizable(s,o,l){const{cols:d,minW:y,minH:h,maxW:v,maxH:O,transformScale:D,resizeHandles:k,resizeHandle:P}=this.props,z=this.getPositionParams(),M=(0,c.calcGridItemPosition)(z,0,0,d,0).width,_=(0,c.calcGridItemPosition)(z,0,0,y,h),R=(0,c.calcGridItemPosition)(z,0,0,v,O),E=[_.width,_.height],N=[Math.min(R.width,M),Math.min(R.height,1/0)];return n.default.createElement(i.Resizable,{draggableOpts:{disabled:!l},className:l?void 0:"react-resizable-hide",width:o.width,height:o.height,minConstraints:E,maxConstraints:N,onResizeStop:this.curryResizeHandler(o,this.onResizeStop),onResizeStart:this.curryResizeHandler(o,this.onResizeStart),onResize:this.curryResizeHandler(o,this.onResize),transformScale:D,resizeHandles:k,handle:P},s)}onResizeHandler(s,o,l,d){let{node:y,size:h,handle:v}=o;const O=this.props[d];if(!O)return;const{x:D,y:k,i:P,maxH:z,minH:M,containerWidth:_}=this.props,{minW:R,maxW:E}=this.props;let N=h;y&&(N=(0,a.resizeItemInDirection)(v,l,h,_),(0,e.flushSync)(()=>{this.setState({resizing:d==="onResizeStop"?null:N})}));let{w:C,h:T}=(0,c.calcWH)(this.getPositionParams(),N.width,N.height,D,k,v);C=(0,c.clamp)(C,Math.max(R,1),E),T=(0,c.clamp)(T,M,z),O.call(this,P,C,T,{e:s,node:y,size:N,handle:v})}render(){const{x:s,y:o,w:l,h:d,isDraggable:y,isResizable:h,droppingPosition:v,useCSSTransforms:O}=this.props,D=(0,c.calcGridItemPosition)(this.getPositionParams(),s,o,l,d,this.state),k=n.default.Children.only(this.props.children);let P=n.default.cloneElement(k,{ref:this.elementRef,className:(0,f.default)("react-grid-item",k.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":y,"react-draggable-dragging":!!this.state.dragging,dropping:!!v,cssTransforms:O}),style:{...this.props.style,...k.props.style,...this.createStyle(D)}});return P=this.mixinResizable(P,D,h),P=this.mixinDraggable(P,y),P}};return Qe.default=w,x(w,"propTypes",{children:t.default.element,cols:t.default.number.isRequired,containerWidth:t.default.number.isRequired,rowHeight:t.default.number.isRequired,margin:t.default.array.isRequired,maxRows:t.default.number.isRequired,containerPadding:t.default.array.isRequired,x:t.default.number.isRequired,y:t.default.number.isRequired,w:t.default.number.isRequired,h:t.default.number.isRequired,minW:function(s,o){const l=s[o];return typeof l!="number"?new Error("minWidth not Number"):l>s.w||l>s.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(s,o){const l=s[o];return typeof l!="number"?new Error("maxWidth not Number"):l<s.w||l<s.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(s,o){const l=s[o];return typeof l!="number"?new Error("minHeight not Number"):l>s.h||l>s.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(s,o){const l=s[o];return typeof l!="number"?new Error("maxHeight not Number"):l<s.h||l<s.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:t.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:t.default.func,onDragStart:t.default.func,onDrag:t.default.func,onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,isDraggable:t.default.bool.isRequired,isResizable:t.default.bool.isRequired,isBounded:t.default.bool.isRequired,static:t.default.bool,useCSSTransforms:t.default.bool.isRequired,transformScale:t.default.number,className:t.default.string,handle:t.default.string,cancel:t.default.string,droppingPosition:t.default.shape({e:t.default.object.isRequired,left:t.default.number.isRequired,top:t.default.number.isRequired})}),x(w,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Qe}function gr(){if(hr)return Ke;hr=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var n=function(o,l){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=f(l);if(d&&d.has(o))return d.get(o);var y={__proto__:null},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(v!=="default"&&Object.prototype.hasOwnProperty.call(o,v)){var O=h?Object.getOwnPropertyDescriptor(o,v):null;O&&(O.get||O.set)?Object.defineProperty(y,v,O):y[v]=o[v]}return y.default=o,d&&d.set(o,y),y}(_e()),e=Pt(),t=u(Rt()),r=Ve(),i=Mt(),a=u(Ko()),c=u(mr());function u(o){return o&&o.__esModule?o:{default:o}}function f(o){if(typeof WeakMap!="function")return null;var l=new WeakMap,d=new WeakMap;return(f=function(y){return y?d:l})(o)}function p(o,l,d){return(l=function(y){var h=function(v,O){if(typeof v!="object"||v===null)return v;var D=v[Symbol.toPrimitive];if(D!==void 0){var k=D.call(v,O);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(v)}(y,"string");return typeof h=="symbol"?h:String(h)}(l))in o?Object.defineProperty(o,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[l]=d,o}const x="react-grid-layout";let w=!1;try{w=/firefox/i.test(navigator.userAgent)}catch{}class s extends n.Component{constructor(){super(...arguments),p(this,"state",{activeDrag:null,layout:(0,r.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,r.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),p(this,"dragEnterCounter",0),p(this,"onDragStart",(l,d,y,h)=>{let{e:v,node:O}=h;const{layout:D}=this.state,k=(0,r.getLayoutItem)(D,l);if(!k)return;const P={w:k.w,h:k.h,x:k.x,y:k.y,placeholder:!0,i:l};return this.setState({oldDragItem:(0,r.cloneLayoutItem)(k),oldLayout:D,activeDrag:P}),this.props.onDragStart(D,k,k,null,v,O)}),p(this,"onDrag",(l,d,y,h)=>{let{e:v,node:O}=h;const{oldDragItem:D}=this.state;let{layout:k}=this.state;const{cols:P,allowOverlap:z,preventCollision:M}=this.props,_=(0,r.getLayoutItem)(k,l);if(!_)return;const R={w:_.w,h:_.h,x:_.x,y:_.y,placeholder:!0,i:l};k=(0,r.moveElement)(k,_,d,y,!0,M,(0,r.compactType)(this.props),P,z),this.props.onDrag(k,D,_,R,v,O),this.setState({layout:z?k:(0,r.compact)(k,(0,r.compactType)(this.props),P),activeDrag:R})}),p(this,"onDragStop",(l,d,y,h)=>{let{e:v,node:O}=h;if(!this.state.activeDrag)return;const{oldDragItem:D}=this.state;let{layout:k}=this.state;const{cols:P,preventCollision:z,allowOverlap:M}=this.props,_=(0,r.getLayoutItem)(k,l);if(!_)return;k=(0,r.moveElement)(k,_,d,y,!0,z,(0,r.compactType)(this.props),P,M);const R=M?k:(0,r.compact)(k,(0,r.compactType)(this.props),P);this.props.onDragStop(R,D,_,null,v,O);const{oldLayout:E}=this.state;this.setState({activeDrag:null,layout:R,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(R,E)}),p(this,"onResizeStart",(l,d,y,h)=>{let{e:v,node:O}=h;const{layout:D}=this.state,k=(0,r.getLayoutItem)(D,l);k&&(this.setState({oldResizeItem:(0,r.cloneLayoutItem)(k),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(D,k,k,null,v,O))}),p(this,"onResize",(l,d,y,h)=>{let{e:v,node:O,size:D,handle:k}=h;const{oldResizeItem:P}=this.state,{layout:z}=this.state,{cols:M,preventCollision:_,allowOverlap:R}=this.props;let E,N,C,T=!1;const[g,b]=(0,r.withLayoutItem)(z,l,j=>{let L;return N=j.x,C=j.y,["sw","w","nw","n","ne"].indexOf(k)!==-1&&(["sw","nw","w"].indexOf(k)!==-1&&(N=j.x+(j.w-d),d=j.x!==N&&N<0?j.w:d,N=N<0?0:N),["ne","n","nw"].indexOf(k)!==-1&&(C=j.y+(j.h-y),y=j.y!==C&&C<0?j.h:y,C=C<0?0:C),T=!0),_&&!R&&(L=(0,r.getAllCollisions)(z,{...j,w:d,h:y,x:N,y:C}).filter(I=>I.i!==j.i).length>0,L&&(C=j.y,y=j.h,N=j.x,d=j.w,T=!1)),j.w=d,j.h=y,j});if(!b)return;E=g,T&&(E=(0,r.moveElement)(g,b,N,C,!0,this.props.preventCollision,(0,r.compactType)(this.props),M,R));const m={w:b.w,h:b.h,x:b.x,y:b.y,static:!0,i:l};this.props.onResize(E,P,b,m,v,O),this.setState({layout:R?E:(0,r.compact)(E,(0,r.compactType)(this.props),M),activeDrag:m})}),p(this,"onResizeStop",(l,d,y,h)=>{let{e:v,node:O}=h;const{layout:D,oldResizeItem:k}=this.state,{cols:P,allowOverlap:z}=this.props,M=(0,r.getLayoutItem)(D,l),_=z?D:(0,r.compact)(D,(0,r.compactType)(this.props),P);this.props.onResizeStop(_,k,M,null,v,O);const{oldLayout:R}=this.state;this.setState({activeDrag:null,layout:_,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(_,R)}),p(this,"onDragOver",l=>{var g;if(l.preventDefault(),l.stopPropagation(),w&&!((g=l.nativeEvent.target)!=null&&g.classList.contains(x)))return!1;const{droppingItem:d,onDropDragOver:y,margin:h,cols:v,rowHeight:O,maxRows:D,width:k,containerPadding:P,transformScale:z}=this.props,M=y==null?void 0:y(l);if(M===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const _={...d,...M},{layout:R}=this.state,E=l.currentTarget.getBoundingClientRect(),N=l.clientX-E.left,C=l.clientY-E.top,T={left:N/z,top:C/z,e:l};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:b,top:m}=this.state.droppingPosition;(b!=N||m!=C)&&this.setState({droppingPosition:T})}}else{const b={cols:v,margin:h,maxRows:D,rowHeight:O,containerWidth:k,containerPadding:P||h},m=(0,i.calcXY)(b,C,N,_.w,_.h);this.setState({droppingDOMNode:n.createElement("div",{key:_.i}),droppingPosition:T,layout:[...R,{..._,x:m.x,y:m.y,static:!1,isDraggable:!0}]})}}),p(this,"removeDroppingPlaceholder",()=>{const{droppingItem:l,cols:d}=this.props,{layout:y}=this.state,h=(0,r.compact)(y.filter(v=>v.i!==l.i),(0,r.compactType)(this.props),d,this.props.allowOverlap);this.setState({layout:h,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),p(this,"onDragLeave",l=>{l.preventDefault(),l.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),p(this,"onDragEnter",l=>{l.preventDefault(),l.stopPropagation(),this.dragEnterCounter++}),p(this,"onDrop",l=>{l.preventDefault(),l.stopPropagation();const{droppingItem:d}=this.props,{layout:y}=this.state,h=y.find(v=>v.i===d.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(y,h,l)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(l,d){let y;return d.activeDrag?null:((0,e.deepEqual)(l.layout,d.propsLayout)&&l.compactType===d.compactType?(0,r.childrenEqual)(l.children,d.children)||(y=d.layout):y=l.layout,y?{layout:(0,r.synchronizeLayoutWithChildren)(y,l.children,l.cols,(0,r.compactType)(l),l.allowOverlap),compactType:l.compactType,children:l.children,propsLayout:l.layout}:null)}shouldComponentUpdate(l,d){return this.props.children!==l.children||!(0,r.fastRGLPropsEqual)(this.props,l,e.deepEqual)||this.state.activeDrag!==d.activeDrag||this.state.mounted!==d.mounted||this.state.droppingPosition!==d.droppingPosition}componentDidUpdate(l,d){if(!this.state.activeDrag){const y=this.state.layout,h=d.layout;this.onLayoutMaybeChanged(y,h)}}containerHeight(){if(!this.props.autoSize)return;const l=(0,r.bottom)(this.state.layout),d=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return l*this.props.rowHeight+(l-1)*this.props.margin[1]+2*d+"px"}onLayoutMaybeChanged(l,d){d||(d=this.state.layout),(0,e.deepEqual)(d,l)||this.props.onLayoutChange(l)}placeholder(){const{activeDrag:l}=this.state;if(!l)return null;const{width:d,cols:y,margin:h,containerPadding:v,rowHeight:O,maxRows:D,useCSSTransforms:k,transformScale:P}=this.props;return n.createElement(a.default,{w:l.w,h:l.h,x:l.x,y:l.y,i:l.i,className:"react-grid-placeholder "+(this.state.resizing?"placeholder-resizing":""),containerWidth:d,cols:y,margin:h,containerPadding:v||h,maxRows:D,rowHeight:O,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:k,transformScale:P},n.createElement("div",null))}processGridItem(l,d){if(!l||!l.key)return;const y=(0,r.getLayoutItem)(this.state.layout,String(l.key));if(!y)return null;const{width:h,cols:v,margin:O,containerPadding:D,rowHeight:k,maxRows:P,isDraggable:z,isResizable:M,isBounded:_,useCSSTransforms:R,transformScale:E,draggableCancel:N,draggableHandle:C,resizeHandles:T,resizeHandle:g}=this.props,{mounted:b,droppingPosition:m}=this.state,j=typeof y.isDraggable=="boolean"?y.isDraggable:!y.static&&z,L=typeof y.isResizable=="boolean"?y.isResizable:!y.static&&M,I=y.resizeHandles||T,H=j&&_&&y.isBounded!==!1;return n.createElement(a.default,{containerWidth:h,cols:v,margin:O,containerPadding:D||O,maxRows:P,rowHeight:k,cancel:N,handle:C,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:j,isResizable:L,isBounded:H,useCSSTransforms:R&&b,usePercentages:!b,transformScale:E,w:y.w,h:y.h,x:y.x,y:y.y,i:y.i,minH:y.minH,minW:y.minW,maxH:y.maxH,maxW:y.maxW,static:y.static,droppingPosition:d?m:void 0,resizeHandles:I,resizeHandle:g},l)}render(){const{className:l,style:d,isDroppable:y,innerRef:h}=this.props,v=(0,t.default)(x,l),O={height:this.containerHeight(),...d};return n.createElement("div",{ref:h,className:v,style:O,onDrop:y?this.onDrop:r.noop,onDragLeave:y?this.onDragLeave:r.noop,onDragEnter:y?this.onDragEnter:r.noop,onDragOver:y?this.onDragOver:r.noop},n.Children.map(this.props.children,D=>this.processGridItem(D)),y&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}return Ke.default=s,p(s,"displayName","ReactGridLayout"),p(s,"propTypes",c.default),p(s,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:r.noop,onDragStart:r.noop,onDrag:r.noop,onDragStop:r.noop,onResizeStart:r.noop,onResize:r.noop,onResizeStop:r.noop,onDrop:r.noop,onDropDragOver:r.noop}),Ke}var yr,br,rt={},Be={};function vr(){if(yr)return Be;yr=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.findOrGenerateResponsiveLayout=function(t,r,i,a,c,u){if(t[i])return(0,n.cloneLayout)(t[i]);let f=t[a];const p=e(r),x=p.slice(p.indexOf(i));for(let w=0,s=x.length;w<s;w++){const o=x[w];if(t[o]){f=t[o];break}}return f=(0,n.cloneLayout)(f||[]),(0,n.compact)((0,n.correctBounds)(f,{cols:c}),u,c)},Be.getBreakpointFromWidth=function(t,r){const i=e(t);let a=i[0];for(let c=1,u=i.length;c<u;c++){const f=i[c];r>t[f]&&(a=f)}return a},Be.getColsFromBreakpoint=function(t,r){if(!r[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return r[t]},Be.sortBreakpoints=e;var n=Ve();function e(t){return Object.keys(t).sort(function(r,i){return t[r]-t[i]})}return Be}function Qo(){if(br)return rt;br=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0;var n=function(o,l){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=u(l);if(d&&d.has(o))return d.get(o);var y={__proto__:null},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(v!=="default"&&Object.prototype.hasOwnProperty.call(o,v)){var O=h?Object.getOwnPropertyDescriptor(o,v):null;O&&(O.get||O.set)?Object.defineProperty(y,v,O):y[v]=o[v]}return y.default=o,d&&d.set(o,y),y}(_e()),e=c(Ae()),t=Pt(),r=Ve(),i=vr(),a=c(gr());function c(o){return o&&o.__esModule?o:{default:o}}function u(o){if(typeof WeakMap!="function")return null;var l=new WeakMap,d=new WeakMap;return(u=function(y){return y?d:l})(o)}function f(){return f=Object.assign?Object.assign.bind():function(o){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(o[y]=d[y])}return o},f.apply(this,arguments)}function p(o,l,d){return(l=function(y){var h=function(v,O){if(typeof v!="object"||v===null)return v;var D=v[Symbol.toPrimitive];if(D!==void 0){var k=D.call(v,O);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(v)}(y,"string");return typeof h=="symbol"?h:String(h)}(l))in o?Object.defineProperty(o,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[l]=d,o}const x=o=>Object.prototype.toString.call(o);function w(o,l){return o==null?null:Array.isArray(o)?o:o[l]}let s=class extends n.Component{constructor(){super(...arguments),p(this,"state",this.generateInitialState()),p(this,"onLayoutChange",o=>{this.props.onLayoutChange(o,{...this.props.layouts,[this.state.breakpoint]:o})})}generateInitialState(){const{width:o,breakpoints:l,layouts:d,cols:y}=this.props,h=(0,i.getBreakpointFromWidth)(l,o),v=(0,i.getColsFromBreakpoint)(h,y),O=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,i.findOrGenerateResponsiveLayout)(d,l,h,h,v,O),breakpoint:h,cols:v}}static getDerivedStateFromProps(o,l){if(!(0,t.deepEqual)(o.layouts,l.layouts)){const{breakpoint:d,cols:y}=l;return{layout:(0,i.findOrGenerateResponsiveLayout)(o.layouts,o.breakpoints,d,d,y,o.compactType),layouts:o.layouts}}return null}componentDidUpdate(o){this.props.width==o.width&&this.props.breakpoint===o.breakpoint&&(0,t.deepEqual)(this.props.breakpoints,o.breakpoints)&&(0,t.deepEqual)(this.props.cols,o.cols)||this.onWidthChange(o)}onWidthChange(o){const{breakpoints:l,cols:d,layouts:y,compactType:h}=this.props,v=this.props.breakpoint||(0,i.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),O=this.state.breakpoint,D=(0,i.getColsFromBreakpoint)(v,d),k={...y};if(O!==v||o.breakpoints!==l||o.cols!==d){O in k||(k[O]=(0,r.cloneLayout)(this.state.layout));let M=(0,i.findOrGenerateResponsiveLayout)(k,l,v,O,D,h);M=(0,r.synchronizeLayoutWithChildren)(M,this.props.children,D,h,this.props.allowOverlap),k[v]=M,this.props.onBreakpointChange(v,D),this.props.onLayoutChange(M,k),this.setState({breakpoint:v,layout:M,cols:D})}const P=w(this.props.margin,v),z=w(this.props.containerPadding,v);this.props.onWidthChange(this.props.width,P,D,z)}render(){const{breakpoint:o,breakpoints:l,cols:d,layouts:y,margin:h,containerPadding:v,onBreakpointChange:O,onLayoutChange:D,onWidthChange:k,...P}=this.props;return n.createElement(a.default,f({},P,{margin:w(h,this.state.breakpoint),containerPadding:w(v,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return rt.default=s,p(s,"propTypes",{breakpoint:e.default.string,breakpoints:e.default.object,allowOverlap:e.default.bool,cols:e.default.object,margin:e.default.oneOfType([e.default.array,e.default.object]),containerPadding:e.default.oneOfType([e.default.array,e.default.object]),layouts(o,l){if(x(o[l])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+x(o[l]));Object.keys(o[l]).forEach(d=>{if(!(d in o.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,r.validateLayout)(o.layouts[d],"layouts."+d)})},width:e.default.number.isRequired,onBreakpointChange:e.default.func,onLayoutChange:e.default.func,onWidthChange:e.default.func}),p(s,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:r.noop,onLayoutChange:r.noop,onWidthChange:r.noop}),rt}var yt={},wr=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,a){return i[0]===t&&(r=a,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,a=this.__entries__;i<a.length;i++){var c=a[i];t.call(r,c[1],c[0])}},e}()}(),Lt=typeof window<"u"&&typeof document<"u"&&window.document===document,bt=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Zo=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(bt):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)},Jo=["top","right","bottom","left","width","height","size","weight"],ea=typeof MutationObserver<"u",ta=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,i=!1,a=0;function c(){r&&(r=!1,e()),i&&f()}function u(){Zo(c)}function f(){var p=Date.now();if(r){if(p-a<2)return;i=!0}else r=!0,i=!1,setTimeout(u,t);a=p}return f}(this.refresh.bind(this),20)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){Lt&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ea?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){Lt&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t;Jo.some(function(i){return!!~r.indexOf(i)})&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),xr=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},Ue=function(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView||bt},Sr=wt(0,0,0,0);function vt(n){return parseFloat(n)||0}function _r(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){return r+vt(n["border-"+i+"-width"])},0)}function na(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Sr;var r=Ue(n).getComputedStyle(n),i=function(w){for(var s={},o=0,l=["top","right","bottom","left"];o<l.length;o++){var d=l[o],y=w["padding-"+d];s[d]=vt(y)}return s}(r),a=i.left+i.right,c=i.top+i.bottom,u=vt(r.width),f=vt(r.height);if(r.boxSizing==="border-box"&&(Math.round(u+a)!==e&&(u-=_r(r,"left","right")+a),Math.round(f+c)!==t&&(f-=_r(r,"top","bottom")+c)),!function(w){return w===Ue(w).document.documentElement}(n)){var p=Math.round(u+a)-e,x=Math.round(f+c)-t;Math.abs(p)!==1&&(u-=p),Math.abs(x)!==1&&(f-=x)}return wt(i.left,i.top,u,f)}var ra=typeof SVGGraphicsElement<"u"?function(n){return n instanceof Ue(n).SVGGraphicsElement}:function(n){return n instanceof Ue(n).SVGElement&&typeof n.getBBox=="function"};function oa(n){return Lt?ra(n)?function(e){var t=e.getBBox();return wt(0,0,t.width,t.height)}(n):na(n):Sr}function wt(n,e,t,r){return{x:n,y:e,width:t,height:r}}var aa=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=wt(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=oa(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),sa=function(n,e){var t=function(r){var i=r.x,a=r.y,c=r.width,u=r.height,f=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,p=Object.create(f.prototype);return xr(p,{x:i,y:a,width:c,height:u,top:a,right:i+c,bottom:u+a,left:i}),p}(e);xr(this,{target:n,contentRect:t})},ia=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new wr,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ue(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new aa(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ue(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new sa(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Or=typeof WeakMap<"u"?new WeakMap:new wr,jr=function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=ta.getInstance(),r=new ia(e,t,this);Or.set(this,r)};["observe","unobserve","disconnect"].forEach(function(n){jr.prototype[n]=function(){var e;return(e=Or.get(this))[n].apply(e,arguments)}});var la=bt.ResizeObserver!==void 0?bt.ResizeObserver:jr;const ca=lo(Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"})));var Dr,Er;function ua(){if(Dr)return yt;Dr=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=function(p){var x;return x=class extends n.Component{constructor(){super(...arguments),u(this,"state",{width:1280}),u(this,"elementRef",n.createRef()),u(this,"mounted",!1),u(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new t.default(s=>{if(this.elementRef.current instanceof HTMLElement){const o=s[0].contentRect.width;this.setState({width:o})}});const w=this.elementRef.current;w instanceof HTMLElement&&this.resizeObserver.observe(w)}componentWillUnmount(){this.mounted=!1;const w=this.elementRef.current;w instanceof HTMLElement&&this.resizeObserver.unobserve(w),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:w,...s}=this.props;return w&&!this.mounted?n.createElement("div",{className:(0,r.default)(this.props.className,f),style:this.props.style,ref:this.elementRef}):n.createElement(p,c({innerRef:this.elementRef},s,this.state))}},u(x,"defaultProps",{measureBeforeMount:!1}),u(x,"propTypes",{measureBeforeMount:e.default.bool}),x};var n=function(p,x){if(p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var w=a(x);if(w&&w.has(p))return w.get(p);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in p)if(l!=="default"&&Object.prototype.hasOwnProperty.call(p,l)){var d=o?Object.getOwnPropertyDescriptor(p,l):null;d&&(d.get||d.set)?Object.defineProperty(s,l,d):s[l]=p[l]}return s.default=p,w&&w.set(p,s),s}(_e()),e=i(Ae()),t=i(ca),r=i(Rt());function i(p){return p&&p.__esModule?p:{default:p}}function a(p){if(typeof WeakMap!="function")return null;var x=new WeakMap,w=new WeakMap;return(a=function(s){return s?w:x})(p)}function c(){return c=Object.assign?Object.assign.bind():function(p){for(var x=1;x<arguments.length;x++){var w=arguments[x];for(var s in w)Object.prototype.hasOwnProperty.call(w,s)&&(p[s]=w[s])}return p},c.apply(this,arguments)}function u(p,x,w){return(x=function(s){var o=function(l,d){if(typeof l!="object"||l===null)return l;var y=l[Symbol.toPrimitive];if(y!==void 0){var h=y.call(l,d);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(l)}(s,"string");return typeof o=="symbol"?o:String(o)}(x))in p?Object.defineProperty(p,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[x]=w,p}const f="react-grid-layout";return yt}var Ye,Cr=(Er||(Er=1,(Ye=Wn).exports=gr().default,Ye.exports.utils=Ve(),Ye.exports.calculateUtils=Mt(),Ye.exports.Responsive=Qo().default,Ye.exports.Responsive.utils=vr(),Ye.exports.WidthProvider=ua().default),Wn.exports);let kr;kr=[vs(),ws({syntaxHighlighting:!0,highlightSpecialChars:!1,history:!1,drawSelection:!1,defaultKeymap:!1,historyKeymap:!1})],Ct=ee.memo(n=>{const e=F.c(8),{code:t,className:r}=n,{theme:i}=xs();let a;e[0]!==r?(a=te(r,"text-muted-foreground flex flex-col overflow-hidden"),e[0]=r,e[1]=a):a=e[1];const c=i==="dark"?"dark":"light";let u,f;return e[2]!==t||e[3]!==c?(u=S.jsx(co,{minHeight:"10px",theme:c,height:"100%",className:"tiny-code",editable:!1,basicSetup:!1,extensions:kr,value:t}),e[2]=t,e[3]=c,e[4]=u):u=e[4],e[5]!==a||e[6]!==u?(f=S.jsx("div",{className:a,children:u}),e[5]=a,e[6]=u,e[7]=f):f=e[7],f}),Ct.displayName="TinyCode";const da=Cr.WidthProvider(Cr.Responsive),pa=[0,0],It="grid-drag-handle",Ht=ee.memo(n=>{const e=F.c(20),{output:t,cellId:r,status:i,mode:a,code:c,hidden:u,isScrollable:f,side:p,className:x}=n;let w;e[0]!==i?(w=Yt(i),e[0]=i,e[1]=w):w=e[1];const s=w;if((t==null||t.data==="")&&a!=="read"){let P;return e[2]!==x||e[3]!==c?(P=S.jsx(Ct,{className:x,code:c}),e[2]=x,e[3]=c,e[4]=P):P=e[4],P}const o=u&&"invisible",l=f?"overflow-y-auto":"overflow-y-hidden",d=p==="top"&&"flex items-start",y=p==="bottom"&&"flex items-end",h=p==="left"&&"flex justify-start",v=p==="right"&&"flex justify-end";let O,D,k;return e[5]!==x||e[6]!==o||e[7]!==l||e[8]!==d||e[9]!==y||e[10]!==h||e[11]!==v?(O=te(x,"h-full w-full p-2 overflow-x-auto",o,l,d,y,h,v),e[5]=x,e[6]=o,e[7]=l,e[8]=d,e[9]=y,e[10]=h,e[11]=v,e[12]=O):O=e[12],e[13]!==r||e[14]!==s||e[15]!==t?(D=S.jsx(_t,{allowExpand:!1,output:t,cellId:r,stale:s,loading:s}),e[13]=r,e[14]=s,e[15]=t,e[16]=D):D=e[16],e[17]!==O||e[18]!==D?(k=S.jsx("div",{className:O,children:D}),e[17]=O,e[18]=D,e[19]=k):k=e[19],k});Ht.displayName="GridCell";const fa=n=>{const e=F.c(38),{layout:t,setLayout:r,isLocked:i,setIsLocked:a}=n;let c,u,f,p,x,w,s,o,l,d,y,h,v,O,D;return e[0]===Symbol.for("react.memo_cache_sentinel")?(c=S.jsx(ut,{htmlFor:"columns",children:"Columns"}),e[0]=c):c=e[0],e[1]!==t||e[2]!==r?(u=k=>{r({...t,columns:k})},e[1]=t,e[2]=r,e[3]=u):u=e[3],e[4]!==t.columns||e[5]!==u?(f=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[c,S.jsx($t,{"data-testid":"grid-columns-input",id:"columns",value:t.columns,className:"w-[60px]",placeholder:"# of Columns",minValue:1,onChange:u})]}),e[4]=t.columns,e[5]=u,e[6]=f):f=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx(ut,{htmlFor:"rowHeight",children:"Row Height (px)"}),e[7]=p):p=e[7],e[8]!==t||e[9]!==r?(x=k=>{r({...t,rowHeight:k})},e[8]=t,e[9]=r,e[10]=x):x=e[10],e[11]!==t.rowHeight||e[12]!==x?(w=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p,S.jsx($t,{"data-testid":"grid-row-height-input",id:"rowHeight",value:t.rowHeight,className:"w-[60px]",placeholder:"Row Height (px)",minValue:1,onChange:x})]}),e[11]=t.rowHeight,e[12]=x,e[13]=w):w=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(s=S.jsx(ut,{htmlFor:"maxWidth",children:"Max Width (px)"}),e[14]=s):s=e[14],e[15]!==t||e[16]!==r?(o=k=>{r({...t,maxWidth:Number.isNaN(k)?void 0:k})},e[15]=t,e[16]=r,e[17]=o):o=e[17],e[18]!==t.maxWidth||e[19]!==o?(l=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[s,S.jsx($t,{"data-testid":"grid-max-width-input",id:"maxWidth",value:t.maxWidth,className:"w-[90px]",step:100,placeholder:"Full",onChange:o})]}),e[18]=t.maxWidth,e[19]=o,e[20]=l):l=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(d=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(Os,{className:"h-3 w-3"}),"Bordered"]}),e[21]=d):d=e[21],e[22]!==t||e[23]!==r?(y=k=>{r({...t,bordered:k})},e[22]=t,e[23]=r,e[24]=y):y=e[24],e[25]!==t.bordered||e[26]!==y?(h=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d,S.jsx(Xt,{"data-testid":"grid-bordered-switch",id:"lock",checked:t.bordered,size:"sm",onCheckedChange:y})]}),e[25]=t.bordered,e[26]=y,e[27]=h):h=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(v=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(fo,{className:"h-3 w-3"}),"Lock Grid"]}),e[28]=v):v=e[28],e[29]!==i||e[30]!==a?(O=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[v,S.jsx(Xt,{"data-testid":"grid-lock-switch",id:"lock",checked:i,size:"sm",onCheckedChange:a})]}),e[29]=i,e[30]=a,e[31]=O):O=e[31],e[32]!==h||e[33]!==O||e[34]!==f||e[35]!==w||e[36]!==l?(D=S.jsxs("div",{className:"flex flex-row absolute pl-5 top-8 gap-4 w-full justify-end pr-[350px] pb-3 border-b z-50",children:[f,w,l,h,O]}),e[32]=h,e[33]=O,e[34]=f,e[35]=w,e[36]=l,e[37]=D):D=e[37],D},Nr=we.forwardRef((n,e)=>{const t=F.c(30);let r,i,a,c,u,f,p,x,w,s;t[0]!==n?({children:r,isDragging:c,className:i,onDelete:f,isScrollable:u,setIsScrollable:x,side:s,setSide:w,display:a,...p}=n,t[0]=n,t[1]=r,t[2]=i,t[3]=a,t[4]=c,t[5]=u,t[6]=f,t[7]=p,t[8]=x,t[9]=w,t[10]=s):(r=t[1],i=t[2],a=t[3],c=t[4],u=t[5],f=t[6],p=t[7],x=t[8],w=t[9],s=t[10]);const[o,l]=ee.useState(),d=o&&"border-[var(--sky-8)] z-20",y=!o&&"hover-actions-parent",h=c&&"bg-[var(--slate-2)] border-border z-20";let v,O,D;return t[11]!==i||t[12]!==d||t[13]!==y||t[14]!==h?(v=te(i,"relative z-10 hover:z-20","bg-background border-transparent hover:border-[var(--sky-8)] border",d,y,h),t[11]=i,t[12]=d,t[13]=y,t[14]=h,t[15]=v):v=t[15],t[16]!==a||t[17]!==u||t[18]!==f||t[19]!==o||t[20]!==x||t[21]!==w||t[22]!==s?(O=S.jsx(ha,{onDelete:f,isScrollable:u,setIsScrollable:x,side:s,setSide:w,display:a,setPopoverOpened:l,popoverOpened:o}),t[16]=a,t[17]=u,t[18]=f,t[19]=o,t[20]=x,t[21]=w,t[22]=s,t[23]=O):O=t[23],t[24]!==r||t[25]!==e||t[26]!==p||t[27]!==v||t[28]!==O?(D=S.jsxs("div",{ref:e,...p,className:v,children:[r,O]}),t[24]=r,t[25]=e,t[26]=p,t[27]=v,t[28]=O,t[29]=D):D=t[29],D});Nr.displayName="EditableGridCell";const ha=n=>{const e=F.c(43),{display:t,onDelete:r,side:i,setSide:a,isScrollable:c,setIsScrollable:u,popoverOpened:f,setPopoverOpened:p}=n,x=i==="left"?Te:i==="right"?De:void 0,w=!f&&"hover-action",s=t==="top"&&"-top-6 rounded-t",o=t==="bottom"&&"-bottom-6 rounded-b";let l;e[0]!==w||e[1]!==s||e[2]!==o?(l=te("absolute right-0 p-1 bg-[var(--sky-8)] text-white h-6 z-10 flex gap-2",w,s,o),e[0]=w,e[1]=s,e[2]=o,e[3]=l):l=e[3];const d=f==="side";let y,h,v,O,D;e[4]!==p?(y=b=>p(b?"side":void 0),e[4]=p,e[5]=y):y=e[5],e[6]!==x?(h=S.jsx(Qt,{asChild:!0,children:x?S.jsx(x,{className:"h-4 w-4 opacity-60 hover:opacity-100"}):S.jsx(Oe,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[6]=x,e[7]=h):h=e[7],e[8]!==a||e[9]!==i?(v=Kt.entries(ma).map(b=>{const[m,j]=b;return S.jsxs(ct,{onSelect:()=>a(m),children:[S.jsx(j,{className:"h-4 w-3 mr-2"}),S.jsx("span",{className:"flex-1",children:Ss(m)}),m===i&&S.jsx(po,{className:"h-4 w-4"})]},m)}),e[8]=a,e[9]=i,e[10]=v):v=e[10],e[11]!==v?(O=S.jsx(Zt,{side:"bottom",children:v}),e[11]=v,e[12]=O):O=e[12],e[13]!==d||e[14]!==y||e[15]!==h||e[16]!==O?(D=S.jsxs(Jt,{open:d,onOpenChange:y,children:[h,O]}),e[13]=d,e[14]=y,e[15]=h,e[16]=O,e[17]=D):D=e[17];const k=f==="scroll";let P,z,M,_,R,E,N,C,T,g;return e[18]!==p?(P=b=>p(b?"scroll":void 0),e[18]=p,e[19]=P):P=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(z=S.jsx(Qt,{asChild:!0,children:S.jsx(Mn,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[20]=z):z=e[20],e[21]!==c||e[22]!==u?(M=()=>u(!c),e[21]=c,e[22]=u,e[23]=M):M=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(_=S.jsx("span",{className:"flex-1",children:"Scrollable"}),e[24]=_):_=e[24],e[25]!==c||e[26]!==u?(R=S.jsx(Xt,{"data-testid":"grid-scrollable-switch",checked:c,size:"sm",onCheckedChange:u}),e[25]=c,e[26]=u,e[27]=R):R=e[27],e[28]!==M||e[29]!==R?(E=S.jsx(Zt,{side:"bottom",children:S.jsxs(ct,{onSelect:M,children:[_,R]})}),e[28]=M,e[29]=R,e[30]=E):E=e[30],e[31]!==k||e[32]!==P||e[33]!==E?(N=S.jsxs(Jt,{open:k,onOpenChange:P,children:[z,E]}),e[31]=k,e[32]=P,e[33]=E,e[34]=N):N=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(C=S.jsx(_s,{className:te(It,"cursor-move","h-4 w-4 opacity-60 hover:opacity-100")}),e[35]=C):C=e[35],e[36]!==r?(T=S.jsx(js,{className:"h-4 w-4 opacity-60 hover:opacity-100",onClick:()=>r()}),e[36]=r,e[37]=T):T=e[37],e[38]!==D||e[39]!==N||e[40]!==T||e[41]!==l?(g=S.jsxs("div",{className:l,children:[D,N,C,T]}),e[38]=D,e[39]=N,e[40]=T,e[41]=l,e[42]=g):g=e[42],g},ma={left:Te,right:De};function ga(n){return n.i}function ya(n){return n.i}function ba(){window.dispatchEvent(new Event("resize"))}let Pr;Pr={type:"grid",name:"Grid",validator:he.object({columns:he.number().min(1),rowHeight:he.number().min(1),maxWidth:he.number().optional(),bordered:he.boolean().optional(),cells:he.array(he.object({position:he.tuple([he.number(),he.number(),he.number(),he.number()]).nullable(),scrollable:he.boolean().optional(),alignment:he.enum(["top","bottom","left","right"]).optional()}))}),deserializeLayout:(n,e)=>{if(n.cells.length===0)return{columns:n.columns,rowHeight:n.rowHeight,scrollableCells:new Set,cellSide:new Map,cells:[]};n.cells.length!==e.length&&ve.warn("Number of cells in layout does not match number of cells in notebook");const t=new Set,r=new Map,i=n.cells.flatMap((a,c)=>{const u=a.position;if(!u)return[];const f=e[c];return f?(a.scrollable&&t.add(f.id),a.side&&r.set(f.id,a.side),{i:f.id,x:u[0],y:u[1],w:u[2],h:u[3]}):[]});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:i,cellSide:r,scrollableCells:t}},serializeLayout:(n,e)=>{const t=uo.keyBy(n.cells,i=>i.i),r=e.map(i=>{const a=t.get(i.id);if(!a)return{position:null};const c={position:[a.x,a.y,a.w,a.h]};return n.scrollableCells.has(i.id)&&(c.scrollable=!0),n.cellSide.has(i.id)&&(c.side=n.cellSide.get(i.id)),c});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:r}},Component:n=>{const e=F.c(156),{layout:t,setLayout:r,cells:i,mode:a}=n,c=a==="read";let u;e[0]!==t.cells?(u=new Set(t.cells.map(ga)),e[0]=t.cells,e[1]=u):u=e[1];const f=u,[p,x]=ee.useState(null),[w,s]=ee.useState(!1);let o,l;e[2]!==t.columns?(l={lg:t.columns},e[2]=t.columns,e[3]=l):l=e[3],o=l;const d=o;let y,h;e[4]!==t.bordered?(y=()=>{const U=document.getElementById("App");return t.bordered?U==null||U.classList.add("grid-bordered"):U==null||U.classList.remove("grid-bordered"),()=>{U==null||U.classList.remove("grid-bordered")}},h=[t.bordered],e[4]=t.bordered,e[5]=y,e[6]=h):(y=e[5],h=e[6]),ee.useEffect(y,h);const v=function(){const U=F.c(9),[Se,Ne]=ee.useState(!1);let ye;U[0]===Symbol.for("react.memo_cache_sentinel")?(ye={x:0,y:0},U[0]=ye):ye=U[0];const[oe,be]=we.useState(ye),[Fe,$e]=we.useState(!1);let Pe;U[1]===Symbol.for("react.memo_cache_sentinel")?(Pe=it=>{Ne(!0),be({x:it.clientX,y:it.clientY})},U[1]=Pe):Pe=U[1];const Q=Pe;let ue;U[2]!==oe||U[3]!==Se?(ue=it=>{if(Se){const ms=it.clientX-oe.x,gs=it.clientY-oe.y;$e(Math.hypot(ms,gs)>10)}},U[2]=oe,U[3]=Se,U[4]=ue):ue=U[4];const de=ue;let Re;U[5]===Symbol.for("react.memo_cache_sentinel")?(Re=()=>{Ne(!1),$e(!1)},U[5]=Re):Re=U[5];const We=Re,st=Se&&Fe;let St;return U[6]!==de||U[7]!==st?(St={isDragging:st,onDragStart:Q,onDragMove:de,onDragStop:We},U[6]=de,U[7]=st,U[8]=St):St=U[8],St}();let O,D;e[7]!==v?({isDragging:D,...O}=v,e[7]=v,e[8]=O,e[9]=D):(O=e[8],D=e[9]);const k=!c&&!w;let P,z,M,_,R,E,N,C,T,g,b,m,j,L,I,H,A,G,$,ce,W,q,V,Y,B,Z,se;if(e[10]!==i||e[11]!==d||e[12]!==O||e[13]!==p||e[14]!==k||e[15]!==f||e[16]!==D||e[17]!==c||e[18]!==t||e[19]!==a||e[20]!==r){const U=uo.keyBy(t.cells,ya);let Se;e[47]!==t||e[48]!==r?(Se=Q=>ue=>{const de=new Set(t.scrollableCells);ue?de.add(Q):de.delete(Q),r({...t,scrollableCells:de})},e[47]=t,e[48]=r,e[49]=Se):Se=e[49];const Ne=Se;let ye;e[50]!==t||e[51]!==r?(ye=Q=>ue=>{const de=new Map(t.cellSide);ue===de.get(Q)?de.delete(Q):de.set(Q,ue),r({...t,cellSide:de})},e[50]=t,e[51]=r,e[52]=ye):ye=e[52];const oe=ye;e[53]!==k||e[54]!==t.columns||e[55]!==t.maxWidth||e[56]!==t.rowHeight?(z={},t.maxWidth&&(z.maxWidth=`${t.maxWidth}px`),k&&(z.backgroundImage="repeating-linear-gradient(var(--gray-4) 0 1px, transparent 1px 100%), repeating-linear-gradient(90deg, var(--gray-4) 0 1px, transparent 1px 100%)",z.backgroundSize=`calc((100% / ${t.columns})) ${t.rowHeight}px`),e[53]=k,e[54]=t.columns,e[55]=t.maxWidth,e[56]=t.rowHeight,e[57]=z):z=e[57],P=da,Y="lg",e[58]!==t.cells?(B={lg:t.cells},e[58]=t.cells,e[59]=B):B=e[59],Z=z,M=d,_=!1;const be=k&&"bg-[var(--slate-2)] border-r",Fe=c&&"disable-animation",$e=!t.maxWidth&&"min-w-[800px]";let Pe;e[60]!==be||e[61]!==Fe||e[62]!==$e?(R=te("w-full mx-auto bg-background flex-1 min-h-full",be,Fe,$e),e[60]=be,e[61]=Fe,e[62]=$e,e[63]=R):R=e[63],e[64]!==c?(E=c?[20,20]:void 0,e[64]=c,e[65]=E):E=e[65],N=pa,C=!1,T=null,g=!0,b=t.rowHeight,e[66]!==t||e[67]!==r?(m=Q=>r({...t,cells:Q}),e[66]=t,e[67]=r,e[68]=m):m=e[68],e[69]!==p?(j=p?{i:p.i,w:p.w||2,h:p.h||2}:void 0,e[69]=p,e[70]=j):j=e[70],e[71]!==O||e[72]!==t||e[73]!==r?(L=(Q,ue,de)=>{O.onDragStop(),ue&&r({...t,cells:[...Q,ue]})},e[71]=O,e[72]=t,e[73]=r,e[74]=L):L=e[74],e[75]!==O?(I=(Q,ue,de,Re,We)=>{O.onDragStart(We)},H=(Q,ue,de,Re,We)=>{O.onDragMove(We)},A=()=>{O.onDragStop()},e[75]=O,e[76]=I,e[77]=H,e[78]=A):(I=e[76],H=e[77],A=e[78]),G=ba,$=k,ce=k,W=k,q=k?`.${It}`:"noop",e[79]!==f?(Pe=Q=>f.has(Q.id),e[79]=f,e[80]=Pe):Pe=e[80],V=i.filter(Pe).map(Q=>{const ue=U.get(Q.id),de=t.scrollableCells.has(Q.id)??!1,Re=t.cellSide.get(Q.id),We=S.jsx(Ht,{code:Q.code,mode:a,cellId:Q.id,output:Q.output,status:Q.status,isScrollable:de,side:Re,hidden:Q.errored||Q.interrupted||Q.stopped});return k?S.jsx(Nr,{id:Q.id,isDragging:D,side:Re,setSide:oe(Q.id),isScrollable:de,setIsScrollable:Ne(Q.id),display:(ue==null?void 0:ue.y)===0?"bottom":"top",onDelete:()=>{r({...t,cells:t.cells.filter(st=>st.i!==Q.id)})},children:We},Q.id):S.jsx("div",{children:We},Q.id)}),e[10]=i,e[11]=d,e[12]=O,e[13]=p,e[14]=k,e[15]=f,e[16]=D,e[17]=c,e[18]=t,e[19]=a,e[20]=r,e[21]=P,e[22]=z,e[23]=M,e[24]=_,e[25]=R,e[26]=E,e[27]=N,e[28]=C,e[29]=T,e[30]=g,e[31]=b,e[32]=m,e[33]=j,e[34]=L,e[35]=I,e[36]=H,e[37]=A,e[38]=G,e[39]=$,e[40]=ce,e[41]=W,e[42]=q,e[43]=V,e[44]=Y,e[45]=B,e[46]=Z}else P=e[21],z=e[22],M=e[23],_=e[24],R=e[25],E=e[26],N=e[27],C=e[28],T=e[29],g=e[30],b=e[31],m=e[32],j=e[33],L=e[34],I=e[35],H=e[36],A=e[37],G=e[38],$=e[39],ce=e[40],W=e[41],q=e[42],V=e[43],Y=e[44],B=e[45],Z=e[46];e[81]!==P||e[82]!==M||e[83]!==_||e[84]!==R||e[85]!==E||e[86]!==N||e[87]!==C||e[88]!==T||e[89]!==g||e[90]!==b||e[91]!==m||e[92]!==j||e[93]!==L||e[94]!==I||e[95]!==H||e[96]!==A||e[97]!==G||e[98]!==$||e[99]!==ce||e[100]!==W||e[101]!==q||e[102]!==V||e[103]!==Y||e[104]!==B||e[105]!==Z?(se=S.jsx(P,{breakpoint:Y,layouts:B,style:Z,cols:M,allowOverlap:_,className:R,containerPadding:E,margin:N,isBounded:C,compactType:T,preventCollision:g,rowHeight:b,onLayoutChange:m,droppingItem:j,onDrop:L,onDragStart:I,onDrag:H,onDragStop:A,onResizeStop:G,isDraggable:$,isDroppable:ce,isResizable:W,draggableHandle:q,children:V}),e[81]=P,e[82]=M,e[83]=_,e[84]=R,e[85]=E,e[86]=N,e[87]=C,e[88]=T,e[89]=g,e[90]=b,e[91]=m,e[92]=j,e[93]=L,e[94]=I,e[95]=H,e[96]=A,e[97]=G,e[98]=$,e[99]=ce,e[100]=W,e[101]=q,e[102]=V,e[103]=Y,e[104]=B,e[105]=Z,e[106]=se):se=e[106];let re,ie,J,K,le,ge,ke,pe,xt,fe=se;if(c){if(t.bordered){let U;e[107]!==fe||e[108]!==z?(U=S.jsx("div",{className:"flex flex-1 flex-col items-center",children:S.jsx("div",{style:z,className:"bg-background flex-1 border-t border-x rounded-t shadow-sm w-full overflow-hidden",children:fe})}),e[107]=fe,e[108]=z,e[109]=U):U=e[109],fe=U}return fe}if(e[110]!==i||e[111]!==fe||e[112]!==f||e[113]!==w||e[114]!==t||e[115]!==a||e[116]!==r||e[117]!==z){let U;e[125]!==f?(U=oe=>!f.has(oe.id),e[125]=f,e[126]=U):U=e[126];const Se=i.filter(U);if(t.bordered){let oe,be;e[127]!==fe?(oe=S.jsx("div",{className:"h-full overflow-auto",children:fe}),e[127]=fe,e[128]=oe):oe=e[128],e[129]!==z||e[130]!==oe?(be=S.jsx("div",{style:z,className:"bg-background border-t border-x rounded-t shadow-sm w-full mx-auto mt-4 h-[calc(100%-1rem)] overflow-hidden",children:oe}),e[129]=z,e[130]=oe,e[131]=be):be=e[131],fe=be}let Ne,ye;e[132]!==w||e[133]!==t||e[134]!==r?(ge=S.jsx(fa,{layout:t,setLayout:r,isLocked:w,setIsLocked:s}),e[132]=w,e[133]=t,e[134]=r,e[135]=ge):ge=e[135],e[136]===Symbol.for("react.memo_cache_sentinel")?(K=te("relative flex z-10 flex-1 overflow-hidden"),Ne=te("flex-grow overflow-auto transparent-when-disconnected"),e[136]=K,e[137]=Ne):(K=e[136],Ne=e[137]),e[138]!==fe?(le=S.jsx("div",{className:Ne,children:fe}),e[138]=fe,e[139]=le):le=e[139],re="flex-none flex flex-col w-[300px] p-2 pb-20 gap-2 overflow-auto bg-[var(--slate-2)] border-t border-x rounded-t shadow-sm transparent-when-disconnected mx-2 mt-4",e[140]===Symbol.for("react.memo_cache_sentinel")?(ie=S.jsx("div",{className:"text font-bold text-[var(--slate-20)] flex-shrink-0",children:"Outputs"}),e[140]=ie):ie=e[140],e[141]!==t.columns||e[142]!==t.rowHeight||e[143]!==a?(ye=oe=>S.jsx("div",{draggable:!0,unselectable:"on","data-cell-id":oe.id,onDragStart:be=>{const Fe=be.currentTarget.offsetHeight;x({i:oe.id,w:t.columns/4,h:Math.ceil(Fe/t.rowHeight)||1}),be.dataTransfer.setData("text/plain","")},className:te(It,"droppable-element bg-background border-border border overflow-hidden p-2 rounded flex-shrink-0"),children:S.jsx(Ht,{code:oe.code,className:"select-none pointer-events-none",mode:a,cellId:oe.id,output:oe.output,isScrollable:!1,status:oe.status,hidden:!1})},oe.id),e[141]=t.columns,e[142]=t.rowHeight,e[143]=a,e[144]=ye):ye=e[144],J=Se.map(ye),e[110]=i,e[111]=fe,e[112]=f,e[113]=w,e[114]=t,e[115]=a,e[116]=r,e[117]=z,e[118]=re,e[119]=ie,e[120]=J,e[121]=K,e[122]=le,e[123]=ge,e[124]=fe}else re=e[118],ie=e[119],J=e[120],K=e[121],le=e[122],ge=e[123],fe=e[124];return e[145]!==re||e[146]!==ie||e[147]!==J?(ke=S.jsxs("div",{className:re,children:[ie,J]}),e[145]=re,e[146]=ie,e[147]=J,e[148]=ke):ke=e[148],e[149]!==K||e[150]!==le||e[151]!==ke?(pe=S.jsxs("div",{className:K,children:[le,ke]}),e[149]=K,e[150]=le,e[151]=ke,e[152]=pe):pe=e[152],e[153]!==ge||e[154]!==pe?(xt=S.jsxs(S.Fragment,{children:[ge,pe]}),e[153]=ge,e[154]=pe,e[155]=xt):xt=e[155],xt},getInitialLayout:()=>({columns:24,rowHeight:20,maxWidth:1400,bordered:!0,scrollableCells:new Set,cellSide:new Map,cells:[]})},jn=n=>{const e=F.c(15),{invisible:t,appConfig:r,className:i,children:a,innerClassName:c}=n;let u;e[0]!==i?(u=te("px-1 sm:px-16 md:px-20 xl:px-24 print:px-0 print:pb-0",i),e[0]=i,e[1]=u):u=e[1];const f=r.width==="compact"&&"max-w-contentWidth min-w-[400px]",p=r.width==="medium"&&"max-w-contentWidthMedium min-w-[400px]",x=r.width==="columns"&&"w-fit",w=r.width==="full"&&"max-w-full",s=t&&"invisible";let o,l,d;return e[2]!==c||e[3]!==f||e[4]!==p||e[5]!==x||e[6]!==w||e[7]!==s?(o=te("m-auto pb-24 sm:pb-12",f,p,x,w,s,c),e[2]=c,e[3]=f,e[4]=p,e[5]=x,e[6]=w,e[7]=s,e[8]=o):o=e[8],e[9]!==a||e[10]!==o?(l=S.jsx("div",{className:o,children:a}),e[9]=a,e[10]=o,e[11]=l):l=e[11],e[12]!==u||e[13]!==l?(d=S.jsx("div",{className:u,children:l}),e[12]=u,e[13]=l,e[14]=d):d=e[14],d},Lo=function(n){const e=new URL(window.location.href);return e.hash=`scrollTo=${encodeURIComponent(n)}`,e.toString()},Io=function(n){return n!==Ds&&!!(n&&n.trim().length>0)},On=function(n,e){const t=F.c(5),[r,i]=ee.useState(!0);let a,c;return t[0]!==e||t[1]!==n?(a=()=>{const u=Math.max(Math.min(15*(n-1),100),0),f=setTimeout(()=>{i(!1),e!=="read"&&requestAnimationFrame(va)},u);return()=>clearTimeout(f)},t[0]=e,t[1]=n,t[2]=a):a=t[2],ho(a),t[3]!==r?(c={invisible:r},t[3]=r,t[4]=c):c=t[4],c};function va(){const n=function(e){const t=e.match(/scrollTo=([^&]+)/),r=t==null?void 0:t[1];return r?decodeURIComponent(r.split("&")[0]):null}(window.location.hash);if(n)(function(e){var r,i;if(Mr)return;const t=document.querySelector(`[data-cell-name="${e}"]`);if(t){if(t.scrollIntoView({behavior:"smooth",block:"start"}),Mr=!0,t instanceof HTMLElement){t.focus();const{cellHandles:a}=Ot(),c=t.dataset.cellId;if(!c)return void ve.error(`Missing cellId for cell with name ${e}`);const u=(i=(r=a[c])==null?void 0:r.current)==null?void 0:i.editorView;u&&u.focus()}}else ve.warn(`Cannot focus cell with name ${e} because it was not found`),Rr()})(n);else try{Rr()}catch(e){const t=e;ve.warn("Error focusing first editor",t)}}function Rr(){var r;const{cellIds:n,cellData:e,cellHandles:t}=Ot();for(const i of n.iterateTopLevelIds){const a=t[i];if(!e[i].config.hide_code&&((r=a==null?void 0:a.current)!=null&&r.editorView))return void a.current.editorView.focus()}}let Mr=!1,zr;zo=n=>{const e=F.c(13);let t,r,i,a;e[0]!==n?({value:a,onChange:t,placeholder:r,...i}=n,e[0]=n,e[1]=t,e[2]=r,e[3]=i,e[4]=a):(t=e[1],r=e[2],i=e[3],a=e[4]);const c=ee.useRef(null),u=Tr(a,t);let f;e[5]!==u.onBlur?(f=()=>{const o=u.onBlur,l=c.current;if(l)return l.addEventListener("blur",o),()=>{l.removeEventListener("blur",o)}},e[5]=u.onBlur,e[6]=f):f=e[6],ho(f);const p=u.value,x=u.onChange;let w,s;return e[7]===Symbol.for("react.memo_cache_sentinel")?(w=en.onEnter(en.stopPropagation()),e[7]=w):w=e[7],e[8]!==u.onChange||e[9]!==u.value||e[10]!==r||e[11]!==i?(s=S.jsx(go,{"data-testid":"cell-name-input",value:p,onChange:x,ref:c,placeholder:r,className:"shadow-none! hover:shadow-none focus:shadow-none focus-visible:shadow-none",onKeyDown:w,...i}),e[8]=u.onChange,e[9]=u.value,e[10]=r,e[11]=i,e[12]=s):s=e[12],s},zr=n=>{const e=F.c(11),{value:t,cellId:r,className:i}=n,{updateCellName:a}=mo();let c;e[0]!==r||e[1]!==a?(c=o=>a({cellId:r,name:o}),e[0]=r,e[1]=a,e[2]=c):c=e[2];const u=Tr(t,c);if(jt(t))return null;let f;e[3]!==i?(f=te("outline-none border hover:border-cyan-500/40 focus:border-cyan-500/40",i),e[3]=i,e[4]=f):f=e[4];const p=u.onChange,x=u.onBlur;let w,s;return e[5]===Symbol.for("react.memo_cache_sentinel")?(w=en.onEnter(wa),e[5]=w):w=e[5],e[6]!==u.onBlur||e[7]!==u.onChange||e[8]!==f||e[9]!==t?(s=S.jsx(Me,{content:"Click to rename",children:S.jsx("span",{className:f,contentEditable:!0,suppressContentEditableWarning:!0,onChange:p,onBlur:x,onKeyDown:w,children:t})}),e[6]=u.onBlur,e[7]=u.onChange,e[8]=f,e[9]=t,e[10]=s):s=e[10],s};function Tr(n,e){const t=F.c(11),[r,i]=ee.useState(n);let a;t[0]!==e||t[1]!==n?(a=w=>{if(w===n)return;if(!w||jt(w))return void e(w);const s=Es(w,Cs());e(s)},t[0]=e,t[1]=n,t[2]=a):a=t[2];const c=a;let u,f,p,x;return t[3]!==r?(u=jt(r)?"":r,t[3]=r,t[4]=u):u=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(f=w=>{const s=w.target.value,o=tn(s);i(o)},t[5]=f):f=t[5],t[6]!==c?(p=w=>{if(w.target instanceof HTMLInputElement){const s=w.target.value;c(tn(s))}else if(w.target instanceof HTMLSpanElement){const s=w.target.innerText.trim();c(tn(s))}},t[6]=c,t[7]=p):p=t[7],t[8]!==u||t[9]!==p?(x={value:u,onChange:f,onBlur:p},t[8]=u,t[9]=p,t[10]=x):x=t[10],x}function wa(n){n.target instanceof HTMLElement&&n.target.blur()}ee.memo(n=>{const e=we.useRef({});return S.jsx(co,{minHeight:"200px",maxHeight:"200px",ref:e,theme:"dark",value:n.code,className:"[&>*]:outline-none [&>.cm-editor]:pr-0 overflow-hidden dark",readOnly:!0,editable:!1,basicSetup:{lineNumbers:!1},extensions:[Qi.shell(),ks.updateListener.of(t=>{var r;t.docChanged&&((r=e.current.view)==null||r.dispatch({selection:{anchor:t.state.doc.length,head:t.state.doc.length},scrollIntoView:!0}))})]})}).displayName="DebuggerOutput";let Lr,Ir,Hr,Wr,Ar,Wt;Lr=n=>{const e=F.c(30),{onSubmit:t,onClear:r}=n;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=te("m-0 w-9 h-8 bg-[var(--slate-2)] text-[var(--slate-11)] hover:text-[var(--blue-11)] rounded-none hover:bg-[var(--sky-3)] hover:border-[var(--blue-8)]","first:rounded-l-lg first:border-l border-t border-b hover:border","last:rounded-r-lg last:border-r"),e[0]=i):i=e[0];const a=i;let c,u,f,p,x,w,s,o,l,d,y,h,v,O,D;return e[1]!==t?(c=()=>t("n"),e[1]=t,e[2]=c):c=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(zn,{fontSize:36,className:"w-5 h-5"}),e[3]=u):u=e[3],e[4]!==c?(f=S.jsx(Me,{content:"Next line",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-next-button",className:a,onClick:c,children:u})}),e[4]=c,e[5]=f):f=e[5],e[6]!==t?(p=()=>t("c"),e[6]=t,e[7]=p):p=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(x=te(a,"text-[var(--grass-11)] hover:text-[var(--grass-11)] hover:bg-[var(--grass-3)] hover:border-[var(--grass-8)]"),w=S.jsx(hn,{fontSize:36,className:"w-5 h-5"}),e[8]=x,e[9]=w):(x=e[8],w=e[9]),e[10]!==p?(s=S.jsx(Me,{content:"Continue execution",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-continue-button",onClick:p,className:x,children:w})}),e[10]=p,e[11]=s):s=e[11],e[12]!==t?(o=()=>t("bt"),e[12]=t,e[13]=o):o=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(l=S.jsx(Rn,{fontSize:36,className:"w-5 h-5"}),e[14]=l):l=e[14],e[15]!==o?(d=S.jsx(Me,{content:"Print stack trace",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-stack-button",className:a,onClick:o,children:l})}),e[15]=o,e[16]=d):d=e[16],e[17]!==t?(y=()=>t("help"),e[17]=t,e[18]=y):y=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(h=S.jsx(Ns,{fontSize:36,className:"w-5 h-5"}),e[19]=h):h=e[19],e[20]!==y?(v=S.jsx(Me,{content:"Help",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-help-button",className:a,onClick:y,children:h})}),e[20]=y,e[21]=v):v=e[21],e[22]!==r?(O=r&&S.jsx(Me,{content:"Clear",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-clear-button",className:te(a,"text-[var(--red-11)] hover:text-[var(--red-11)] hover:bg-[var(--red-2)] hover:border-[var(--red-8)]"),onClick:r,children:S.jsx(Ln,{fontSize:36,className:"w-5 h-5"})})}),e[22]=r,e[23]=O):O=e[23],e[24]!==d||e[25]!==v||e[26]!==O||e[27]!==f||e[28]!==s?(D=S.jsxs("div",{className:"flex",children:[f,s,d,v,O]}),e[24]=d,e[25]=v,e[26]=O,e[27]=f,e[28]=s,e[29]=D):D=e[29],D},Ir=new Rs,xn=n=>{const e=F.c(2);let t;return e[0]!==n?(t=S.jsx(Ps,{children:S.jsx(Hr,{...n})}),e[0]=n,e[1]=t):t=e[1],t},Hr=n=>{const e=F.c(36),t=we.useRef(null),{consoleOutputs:r,stale:i,cellName:a,cellId:c,onSubmitDebugger:u,onClear:f,onRefactorWithAI:p,className:x}=n,w=r.length>0;let s,o,l,d,y,h,v,O;if(e[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{const D=t.current;if(!D)return;const k=D.scrollHeight-D.clientHeight;k-D.scrollTop<120&&(D.scrollTop=k)},e[0]=s):s=e[0],ee.useLayoutEffect(s),!w&&jt(a))return null;if(e[1]!==c||e[2]!==x||e[3]!==r||e[4]!==w||e[5]!==f||e[6]!==p||e[7]!==u||e[8]!==i){const D=[...r].reverse(),k=D.some(xa),P=D.findIndex(Sa);o=i?"This console output is stale":void 0,l="console-output-area",d=t;const z=i&&"marimo-output-stale",M=w?"p-5":"p-3";let _;e[14]!==x||e[15]!==z||e[16]!==M?(y=te("console-output-area overflow-hidden rounded-b-lg flex flex-col-reverse w-full gap-1",z,M,x),e[14]=x,e[15]=z,e[16]=M,e[17]=y):y=e[17],e[18]!==c||e[19]!==r.length||e[20]!==k||e[21]!==P||e[22]!==f||e[23]!==p||e[24]!==u?(_=(R,E)=>{if(R.channel==="pdb")return null;if(R.channel==="stdin"){Ms(typeof R.data=="string","Expected data to be a string");const N=r.length-E-1;return R.response==null&&P===E?S.jsx(Wr,{output:R.data,isPdb:k,onSubmit:C=>u(C,N),onClear:f},E):S.jsx(Ar,{output:R.data,response:R.response},E)}return S.jsx(we.Fragment,{children:S.jsx(zs,{cellId:c,onRefactorWithAI:p,message:R})},E)},e[18]=c,e[19]=r.length,e[20]=k,e[21]=P,e[22]=f,e[23]=p,e[24]=u,e[25]=_):_=e[25],h=D.map(_),e[1]=c,e[2]=x,e[3]=r,e[4]=w,e[5]=f,e[6]=p,e[7]=u,e[8]=i,e[9]=o,e[10]=l,e[11]=d,e[12]=y,e[13]=h}else o=e[9],l=e[10],d=e[11],y=e[12],h=e[13];return e[26]!==c||e[27]!==a?(v=S.jsx(zr,{value:a,cellId:c,className:"bg-[var(--slate-4)] border-[var(--slate-4)] hover:bg-[var(--slate-5)] dark:border-[var(--sky-5)] dark:bg-[var(--sky-6)] dark:text-[var(--sky-12)] text-[var(--slate-12)] rounded-tl rounded-br-lg absolute right-0 bottom-0 text-xs px-1.5 py-0.5 font-mono"}),e[26]=c,e[27]=a,e[28]=v):v=e[28],e[29]!==o||e[30]!==l||e[31]!==d||e[32]!==y||e[33]!==h||e[34]!==v?(O=S.jsxs("div",{title:o,"data-testid":l,ref:d,className:y,children:[h,v]}),e[29]=o,e[30]=l,e[31]=d,e[32]=y,e[33]=h,e[34]=v,e[35]=O):O=e[35],O},Wr=n=>{const e=F.c(13);let t,r,i,a,c;return e[0]!==n.output?(t=Wt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(Ts,{className:"w-5 h-5"}),e[2]=r):r=e[2],e[3]!==n?(i=S.jsx(go,{"data-testid":"console-input","data-stdin-blocking":!0,type:"text",autoComplete:"off",autoFocus:!0,icon:r,className:"m-0 h-8 focus-visible:shadow-xsSolid",placeholder:"stdin",onKeyDownCapture:u=>{u.key!=="Enter"||u.shiftKey||(n.onSubmit(u.currentTarget.value),u.preventDefault(),u.stopPropagation()),u.key==="Enter"&&u.metaKey&&(u.preventDefault(),u.stopPropagation())}}),e[3]=n,e[4]=i):i=e[4],e[5]!==n.isPdb||e[6]!==n.onClear||e[7]!==n.onSubmit?(a=n.isPdb&&S.jsx(Lr,{onSubmit:n.onSubmit,onClear:n.onClear}),e[5]=n.isPdb,e[6]=n.onClear,e[7]=n.onSubmit,e[8]=a):a=e[8],e[9]!==t||e[10]!==i||e[11]!==a?(c=S.jsxs("div",{className:"flex gap-2 items-center pt-2",children:[t,i,a]}),e[9]=t,e[10]=i,e[11]=a,e[12]=c):c=e[12],c},Ar=n=>{const e=F.c(7);let t,r,i;return e[0]!==n.output?(t=Wt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]!==n.response?(r=S.jsx("span",{className:"text-[var(--sky-11)]",children:n.response}),e[2]=n.response,e[3]=r):r=e[3],e[4]!==t||e[5]!==r?(i=S.jsxs("div",{className:"flex gap-2 items-center",children:[t,r]}),e[4]=t,e[5]=r,e[6]=i):i=e[6],i},Wt=n=>n?S.jsx("span",{dangerouslySetInnerHTML:{__html:Ir.ansi_to_html(n)}}):null;function xa(n){return typeof n.data=="string"&&n.data.includes("(Pdb)")}function Sa(n){return n.channel==="stdin"}const _a=/\/@file\/([^\s/]+)\.([\dA-Za-z]+)/g;Xe=class{static get INSTANCE(){const n="_marimo_private_VirtualFileTracker";return window[n]||(window[n]=new Xe),window[n]}constructor(){this.virtualFiles=new Map}track(n){const e=n.output,t=n.cell_id;if(e)switch(e.mimetype){case"application/json":case"text/html":{const r=this.virtualFiles.get(t),i=function(a){if(!a)return new Set;const c=new Set,u=(typeof a=="string"?a:JSON.stringify(a)).match(_a);if(u)for(const f of u)c.add(f);return c}(e.data);return r==null||r.forEach(a=>i.add(a)),void this.virtualFiles.set(t,i)}default:return}}filenames(){const n=new Set;for(const e of this.virtualFiles.values())e.forEach(t=>n.add(t));return[...n]}removeForCellId(n){this.virtualFiles.delete(n)}},vn=async function(n){const{filename:e,includeCode:t}=n,r=await Ls({download:!0,includeCode:t,files:Xe.INSTANCE.filenames()}),i=Is.basename(e)??"notebook.py";Hs(new Blob([r],{type:"text/html"}),Ws.toHTML(i))},Cn=function(n){const e=F.c(5),[t,r]=ee.useState(void 0),i=ee.useRef(null),a=ee.useRef(null);let c,u,f;return e[0]!==n?(c=()=>{if(n.length!==0)return i.current=new IntersectionObserver(p=>{let x;if(x=!1,p.forEach(w=>{const s=w.target;w.isIntersecting?(!a.current||s.getBoundingClientRect().top<a.current.getBoundingClientRect().top)&&(a.current=s,x=!0):s===a.current&&(a.current=null,x=!0)}),x&&a.current){const w=As(a.current),s="id"in w?w.id:w.path;r(s)}},{root:yo==="edit"?document.getElementById("App"):void 0,rootMargin:"0px",threshold:0}),n.forEach(p=>{var x;p&&((x=i.current)==null||x.observe(p[0]))}),()=>{i.current&&i.current.disconnect(),a.current=null}},u=[n],e[0]=n,e[1]=c,e[2]=u):(c=e[1],u=e[2]),ee.useEffect(c,u),e[3]!==t?(f={activeHeaderId:t},e[3]=t,e[4]=f):f=e[4],f},En=function(n){if(n.length===0)return[];const e=new Map;return n.map(t=>{const r="id"in t.by?t.by.id:t.by.path,i=e.get(r)??0;e.set(r,i+1);const a=Br(t,i);return a?[a,r]:null}).filter(Boolean)};function qr(n,e){const t=Br(n,e);t?(t.scrollIntoView({behavior:"smooth",block:"start"}),t.classList.add("outline-item-highlight"),setTimeout(()=>{t.classList.remove("outline-item-highlight")},3e3)):ve.warn("Could not find element for outline item",n)}function Br(n,e){return"id"in n.by?document.querySelectorAll(`[id="${CSS.escape(n.by.id)}"]`)[e]:document.evaluate(n.by.path,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}let Fr,Gr,At;Dn=()=>{const n=F.c(17),{items:e}=qe(qs);let t;n[0]!==e?(t=En(e),n[0]=e,n[1]=t):t=n[1];const{activeHeaderId:r}=Cn(t),[i,a]=we.useState(!1);if(e.length<2)return null;let c,u,f;n[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>a(!0),u=()=>a(!1),f=te("fixed top-[25vh] right-8 z-[10000]","hidden md:block"),n[2]=c,n[3]=u,n[4]=f):(c=n[2],u=n[3],f=n[4]);const p=i?"-left-[280px] opacity-100":"left-[300px] opacity-0";let x,w,s,o;return n[5]!==p?(x=te("-top-4 max-h-[70vh] bg-background rounded-lg shadow-lg absolute overflow-auto transition-all duration-300 w-[300px] border",p),n[5]=p,n[6]=x):x=n[6],n[7]!==r||n[8]!==e||n[9]!==x?(w=S.jsx(fn,{className:x,items:e,activeHeaderId:r}),n[7]=r,n[8]=e,n[9]=x,n[10]=w):w=n[10],n[11]!==r||n[12]!==e?(s=S.jsx(Fr,{items:e,activeHeaderId:r}),n[11]=r,n[12]=e,n[13]=s):s=n[13],n[14]!==w||n[15]!==s?(o=S.jsxs("div",{onMouseEnter:c,onMouseLeave:u,className:f,children:[w,s]}),n[14]=w,n[15]=s,n[16]=o):o=n[16],o},Fr=n=>{const e=F.c(7),{items:t,activeHeaderId:r}=n;let i,a,c;if(e[0]!==r||e[1]!==t){const u=new Map;i="flex flex-col gap-4 items-end max-h-[70vh] overflow-hidden",a=t.map((f,p)=>{const x="id"in f.by?f.by.id:f.by.path,w=u.get(x)??0;return u.set(x,w+1),S.jsx("div",{className:te("h-[2px] bg-muted-foreground/60",f.level===1&&"w-5",f.level===2&&"w-4",f.level===3&&"w-3",f.level===4&&"w-2",r===x&&"bg-foreground"),onClick:()=>qr(f,w)},`${x}-${p}`)}),e[0]=r,e[1]=t,e[2]=i,e[3]=a}else i=e[2],a=e[3];return e[4]!==i||e[5]!==a?(c=S.jsx("div",{className:i,children:a}),e[4]=i,e[5]=a,e[6]=c):c=e[6],c},fn=n=>{const e=F.c(10),{items:t,activeHeaderId:r,className:i}=n;let a,c,u;if(e[0]!==r||e[1]!==i||e[2]!==t){const f=new Map;e[5]!==i?(a=te("flex flex-col overflow-auto py-4 pl-2",i),e[5]=i,e[6]=a):a=e[6],c=t.map((p,x)=>{const w="id"in p.by?p.by.id:p.by.path,s=f.get(w)??0;return f.set(w,s+1),S.jsx("div",{className:te("px-2 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l",p.level===1&&"font-semibold",p.level===2&&"ml-3",p.level===3&&"ml-6",p.level===4&&"ml-9",r===w&&"text-accent-foreground"),onClick:()=>qr(p,s),children:p.name},`${w}-${x}`)}),e[0]=r,e[1]=i,e[2]=t,e[3]=a,e[4]=c}else a=e[3],c=e[4];return e[7]!==a||e[8]!==c?(u=S.jsx("div",{className:a,children:c}),e[7]=a,e[8]=c,e[9]=u):u=e[9],u},Gr=n=>{const e=F.c(10),{canShowCode:t,showCode:r,onToggleShowCode:i}=n,a=Ea,c=Ca;let u,f,p,x,w,s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u=te("right-0 top-0 z-50 m-4 no-print flex gap-2 print:hidden",rn()?"absolute":"fixed"),e[0]=u):u=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(Qt,{asChild:!0,children:S.jsx(ze,{variant:"secondary",size:"xs",children:S.jsx(cn,{className:"w-4 h-4"})})}),e[1]=f):f=e[1],e[2]!==t||e[3]!==i||e[4]!==r?(p=t&&S.jsxs(S.Fragment,{children:[S.jsxs(ct,{onSelect:i,id:"notebook-action-show-code",children:[S.jsx($s,{className:"mr-2",size:14,strokeWidth:1.5}),S.jsx("span",{className:"flex-1",children:"Show code"}),r&&S.jsx(po,{className:"h-4 w-4"})]}),S.jsx(Xs,{})]}),e[2]=t,e[3]=i,e[4]=r,e[5]=p):p=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(x=S.jsxs(ct,{onSelect:c,id:"notebook-action-download-html",children:[S.jsx(un,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as HTML"]}),e[6]=x):x=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(w=S.jsxs(ct,{onSelect:a,id:"notebook-action-download-png",children:[S.jsx(dn,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as PNG"]}),e[7]=w):w=e[7],e[8]!==p?(s=S.jsx("div",{id:"notebook-actions-dropdown",className:u,children:S.jsxs(Jt,{modal:!1,children:[f,S.jsxs(Zt,{align:"end",className:"no-print w-[220px]",children:[p,x,w]})]})}),e[8]=p,e[9]=s):s=e[9],s},At=ee.memo(n=>{const e=F.c(55),{output:t,consoleOutputs:r,cellOutputArea:i,cellId:a,status:c,stopped:u,errored:f,config:p,interrupted:x,staleInputs:w,runStartTimestamp:s,code:o,showCode:l,mode:d,name:y,kiosk:h}=n,v=ee.useRef(null);let O;e[0]!==x||e[1]!==t||e[2]!==s||e[3]!==w||e[4]!==c?(O=Fs({status:c,output:t,interrupted:x,runStartTimestamp:s,staleInputs:w},!1),e[0]=x,e[1]=t,e[2]=s,e[3]=w,e[4]=c,e[5]=O):O=e[5];const D=O;let k;e[6]!==c?(k=Yt(c),e[6]=c,e[7]=k):k=e[7];const P=k,z=h&&d!=="present";let M,_;if(e[8]!==o||e[9]!==f||e[10]!==z||e[11]!==d||e[12]!==l||e[13]!==u){M=new Gs().isSupported(o);const m=!l&&!z;_=te("marimo-cell","hover-actions-parent empty:invisible",{published:m,interactive:d==="edit","has-error":f,stopped:u,borderless:M&&!m}),e[8]=o,e[9]=f,e[10]=z,e[11]=d,e[12]=l,e[13]=u,e[14]=M,e[15]=_}else M=e[14],_=e[15];const R=_;let E;e[16]!==a?(E=Vs.create(a),e[16]=a,e[17]=E):E=e[17];const N=E;if(d==="read"&&l||z){let m;e[18]!==a||e[19]!==P||e[20]!==t||e[21]!==D?(m=S.jsx(_t,{allowExpand:!0,output:t,className:"output-area",cellId:a,stale:D,loading:P}),e[18]=a,e[19]=P,e[20]=t,e[21]=D,e[22]=m):m=e[22];const j=m,L=o.trim()==="",I=i==="above"&&j;let H;e[23]!==o||e[24]!==p||e[25]!==L||e[26]!==M||e[27]!==h?(H=!M&&!L&&S.jsx("div",{className:"tray",children:S.jsx(Us,{initiallyHideCode:p.hide_code||h,code:o})}),e[23]=o,e[24]=p,e[25]=L,e[26]=M,e[27]=h,e[28]=H):H=e[28];const A=i==="below"&&j;let G,$;return e[29]!==a||e[30]!==r||e[31]!==y||e[32]!==D?(G=S.jsx(xn,{consoleOutputs:r,stale:D,cellName:y,onSubmitDebugger:ka,cellId:a,debuggerActive:!1}),e[29]=a,e[30]=r,e[31]=y,e[32]=D,e[33]=G):G=e[33],e[34]!==N||e[35]!==a||e[36]!==R||e[37]!==y||e[38]!==I||e[39]!==H||e[40]!==A||e[41]!==G?($=S.jsxs("div",{tabIndex:-1,id:N,ref:v,className:R,"data-cell-id":a,"data-cell-name":y,children:[I,H,A,G]}),e[34]=N,e[35]=a,e[36]=R,e[37]=y,e[38]=I,e[39]=H,e[40]=A,e[41]=G,e[42]=$):$=e[42],$}const C=Ys(t==null?void 0:t.mimetype);if(f||x||u||C)return null;const T=d==="edit";let g,b;return e[43]!==a||e[44]!==P||e[45]!==t||e[46]!==D||e[47]!==T?(g=S.jsx(_t,{allowExpand:T,output:t,className:"output-area",cellId:a,stale:D,loading:P}),e[43]=a,e[44]=P,e[45]=t,e[46]=D,e[47]=T,e[48]=g):g=e[48],e[49]!==N||e[50]!==a||e[51]!==R||e[52]!==y||e[53]!==g?(b=S.jsx("div",{tabIndex:-1,id:N,ref:v,className:R,"data-cell-id":a,"data-cell-name":y,children:g}),e[49]=N,e[50]=a,e[51]=R,e[52]=y,e[53]=g,e[54]=b):b=e[54],b}),At.displayName="VerticalCell";const Oa={type:"vertical",name:"Vertical",validator:he.any(),Component:n=>{const e=F.c(33),{cells:t,appConfig:r,mode:i}=n,{invisible:a}=On(t.length,i),c=qe(nn),[u]=Bs();let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=new URLSearchParams(window.location.search),e[0]=f):f=e[0];const p=f;let x;e[1]!==c?(x=()=>{if(!bo())return!1;const _=p.get(dt.showCode);return _===null?rn()||on()||c:_==="true"},e[1]=c,e[2]=x):x=e[2];const[w,s]=ee.useState(x);let o;e[3]!==t||e[4]!==c||e[5]!==i?(o=()=>{const _=t.some(ja);if(c)return!0;const R=p.get(dt.includeCode);return i==="read"&&R!=="false"&&_},e[3]=t,e[4]=c,e[5]=i,e[6]=o):o=e[6];const l=o;let d;e[7]!==l?(d=l(),e[7]=l,e[8]=d):d=e[8];const y=d;let h;e[9]!==y||e[10]!==c||e[11]!==i||e[12]!==w||e[13]!==u?(h=_=>S.jsx(At,{cellId:_.id,output:_.output,consoleOutputs:_.consoleOutputs,status:_.status,code:_.code,config:_.config,cellOutputArea:u.display.cell_output,stopped:_.stopped,showCode:w&&y,errored:_.errored,mode:i,runStartTimestamp:_.runStartTimestamp,interrupted:_.interrupted,staleInputs:_.staleInputs,name:_.name,kiosk:c},_.id),e[9]=y,e[10]=c,e[11]=i,e[12]=w,e[13]=u,e[14]=h):h=e[14];const v=h;let O;e[15]!==r.width||e[16]!==t||e[17]!==v?(O=()=>{if(r.width==="columns"){const _=function(R){const E=new Map;let N=0;return R.forEach(C=>{var g;const T=C.config.column??N;N=T,E.has(T)||E.set(T,[]),(g=E.get(T))==null||g.push(C)}),[...E.entries()].sort(([C],[T])=>C-T)}(t);return S.jsx("div",{className:"flex flex-row gap-8 w-full",children:_.map(R=>{const[E,N]=R;return S.jsx("div",{className:"flex-1 flex flex-col gap-2 w-contentWidth",children:N.map(v)},E)})})}return S.jsx(S.Fragment,{children:t.map(v)})},e[15]=r.width,e[16]=t,e[17]=v,e[18]=O):O=e[18];const D=O;let k,P,z,M;return e[19]!==y||e[20]!==D||e[21]!==w?(k=w&&y?S.jsxs("div",{className:"flex flex-col gap-5",children:[" ",D()]}):D(),e[19]=y,e[20]=D,e[21]=w,e[22]=k):k=e[22],e[23]!==y||e[24]!==i||e[25]!==w?(P=i==="read"&&S.jsx(Gr,{canShowCode:y,showCode:w,onToggleShowCode:()=>s(Da)}),e[23]=y,e[24]=i,e[25]=w,e[26]=P):P=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(z=S.jsx(Dn,{}),e[27]=z):z=e[27],e[28]!==r||e[29]!==a||e[30]!==k||e[31]!==P?(M=S.jsxs(jn,{invisible:a,appConfig:r,children:[k,P,z]}),e[28]=r,e[29]=a,e[30]=k,e[31]=P,e[32]=M):M=e[32],M},deserializeLayout:n=>n,serializeLayout:n=>n,getInitialLayout:()=>null};function ja(n){return!!n.code}function Da(n){return!n}async function Ea(){const n=document.getElementById("App");n&&await Ks(n,document.title)}async function Ca(){document.getElementById("App")&&await vn({filename:document.title,includeCode:!0})}function ka(){return null}const Na=we.lazy(()=>Qs(()=>import("./slides-component-CgrrphxW.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),Vr=ee.memo(n=>{const e=F.c(6),{output:t,cellId:r,status:i}=n;let a;e[0]!==i?(a=Yt(i),e[0]=i,e[1]=a):a=e[1];const c=a;let u;return e[2]!==r||e[3]!==c||e[4]!==t?(u=S.jsx(_t,{className:"contents",allowExpand:!1,output:t,cellId:r,stale:c,loading:c}),e[2]=r,e[3]=c,e[4]=t,e[5]=u):u=e[5],u});Vr.displayName="Slide";const qt=[Pr,{type:"slides",name:"Slides",validator:he.object({}),deserializeLayout:(n,e)=>({}),serializeLayout:(n,e)=>({}),Component:n=>{const e=F.c(11),{cells:t,mode:r}=n,i=r==="read";let a,c;if(e[0]!==t||e[1]!==r){let p;e[3]!==r?(p=x=>x.output==null||x.output.data===""?null:S.jsx(Vr,{cellId:x.id,code:x.code,status:x.status,output:x.output,mode:r},x.id),e[3]=r,e[4]=p):p=e[4],a=t.map(p),e[0]=t,e[1]=r,e[2]=a}else a=e[2];e[5]!==a?(c=S.jsx(Na,{forceKeyboardNavigation:!0,children:a}),e[5]=a,e[6]=c):c=e[6];const u=c;if(i){let p;return e[7]!==u?(p=S.jsx("div",{className:"p-4",children:u}),e[7]=u,e[8]=p):p=e[8],p}let f;return e[9]!==u?(f=S.jsx("div",{className:"pr-9",children:u}),e[9]=u,e[10]=f):f=e[10],f},getInitialLayout:()=>({})},Oa];function Pa(){return{selectedLayout:"vertical",layoutData:{}}}let Ur;({valueAtom:Nt,useActions:Ur}=Dt(Pa,{setLayoutView:(n,e)=>({...n,selectedLayout:e}),setLayoutData:(n,e)=>({...n,selectedLayout:e.layoutView,layoutData:{...n.layoutData,[e.layoutView]:e.data}}),setCurrentLayoutData:(n,e)=>({...n,layoutData:{...n.layoutData,[n.selectedLayout]:e}})})),bn=()=>qe(Nt),kt=()=>Ur(),Ho=function(){const n=Ot(),{layoutData:e,selectedLayout:t}=vo.get(Nt);if(t==="vertical"||e===void 0)return;const r=e[t],i=qt.find(a=>a.type===t);if(i!==void 0)return{type:t,data:i.serializeLayout(r,Zs(n))};ve.error(`Unknown layout type: ${t}`)};let Yr;Mo=["vertical","grid","slides"],Yr=["slides"],ln=ee.memo(n=>{const e=F.c(8),{appConfig:t,mode:r,children:i}=n,{selectedLayout:a,layoutData:c}=bn(),u=qe(nn);if(r==="edit"&&!u)return i;let f;f=a;const p=new URLSearchParams(window.location.search);if(r==="read"&&p.has(dt.viewAs)){const o=p.get(dt.viewAs);Yr.includes(o)&&(f=o)}let x;e[0]!==f?(x=qt.find(o=>o.type===f),e[0]=f,e[1]=x):x=e[1];const w=x;if(!w)return i;let s;return e[2]!==t||e[3]!==f||e[4]!==c||e[5]!==r||e[6]!==w?(s=S.jsx(Ra,{appConfig:t,mode:r,plugin:w,layoutData:c,finalLayout:f}),e[2]=t,e[3]=f,e[4]=c,e[5]=r,e[6]=w,e[7]=s):s=e[7],s}),ln.displayName="CellsRenderer";const Ra=n=>{const e=F.c(18),{appConfig:t,mode:r,plugin:i,layoutData:a,finalLayout:c}=n,u=Js(),{setCurrentLayoutData:f}=kt();let p,x,w,s,o,l;if(e[0]!==t||e[1]!==c||e[2]!==a||e[3]!==r||e[4]!==u||e[5]!==i){const d=ei(u);p=i.Component,x=t,w=r,s=d,o=a[c]||i.getInitialLayout(d),e[0]=t,e[1]=c,e[2]=a,e[3]=r,e[4]=u,e[5]=i,e[6]=p,e[7]=x,e[8]=w,e[9]=s,e[10]=o}else p=e[6],x=e[7],w=e[8],s=e[9],o=e[10];return e[11]!==p||e[12]!==f||e[13]!==x||e[14]!==w||e[15]!==s||e[16]!==o?(l=S.jsx(p,{appConfig:x,mode:w,cells:s,layout:o,setLayout:f}),e[11]=p,e[12]=f,e[13]=x,e[14]=w,e[15]=s,e[16]=o,e[17]=l):l=e[17],l};function Ma(){const{cellRuntime:n}=vo.get(ti),e=Kt.entries(n).find(([t,r])=>r.status==="running");e&&ni(e[0],"focus")}const za=n=>{const e=F.c(17),{connection:t,isRunning:r}=n;let i,a,c,u,f;return e[0]!==t.state||e[1]!==r?(i=t.state===xe.OPEN&&r&&S.jsx(Ia,{}),e[0]=t.state,e[1]=r,e[2]=i):i=e[2],e[3]!==t.canTakeover||e[4]!==t.state?(a=t.state===xe.CLOSED&&!t.canTakeover&&S.jsx(Ha,{}),e[3]=t.canTakeover,e[4]=t.state,e[5]=a):a=e[5],e[6]!==t.canTakeover||e[7]!==t.state?(c=t.state===xe.CLOSED&&!t.canTakeover&&S.jsx(Ta,{}),e[6]=t.canTakeover,e[7]=t.state,e[8]=c):c=e[8],e[9]!==t.canTakeover||e[10]!==t.state?(u=t.state===xe.CLOSED&&t.canTakeover&&S.jsx(La,{}),e[9]=t.canTakeover,e[10]=t.state,e[11]=u):u=e[11],e[12]!==i||e[13]!==a||e[14]!==c||e[15]!==u?(f=S.jsxs(S.Fragment,{children:[i,a,c,u]}),e[12]=i,e[13]=a,e[14]=c,e[15]=u,e[16]=f):f=e[16],f},Bt="absolute top-4 left-4 m-0 flex items-center space-x-3 min-h-[28px] no-print pointer-events-auto z-50 hover:cursor-pointer",Ta=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Me,{content:"App disconnected",children:S.jsx("div",{className:Bt,children:S.jsx(In,{className:"w-[25px] h-[25px] text-[var(--red-11)]"})})}),n[0]=e):e=n[0],e},La=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Me,{content:"Notebook locked",children:S.jsx("div",{className:Bt,children:S.jsx(fo,{className:"w-[25px] h-[25px] text-[var(--blue-11)]"})})}),n[0]=e):e=n[0],e},Ia=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Me,{content:"Jump to running cell",side:"right",children:S.jsx("div",{className:Bt,"data-testid":"loading-indicator",onClick:Ma,children:S.jsx(Pn,{className:"running-app-icon",size:30,strokeWidth:1})})}),n[0]=e):e=n[0],e},Ha=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"noise"}),S.jsx("div",{className:"disconnected-gradient"})]}),n[0]=e):e=n[0],e},Wa=ui,Aa=ci,qa=ri(oi),$r=we.forwardRef((n,e)=>{const t=F.c(9);let r,i,a,c;return t[0]!==n?({className:r,...i}=n,t[0]=n,t[1]=r,t[2]=i):(r=t[1],i=t[2]),t[3]!==r?(a=te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),t[3]=r,t[4]=a):a=t[4],t[5]!==i||t[6]!==e||t[7]!==a?(c=S.jsx(wo,{className:a,...i,ref:e}),t[5]=i,t[6]=e,t[7]=a,t[8]=c):c=t[8],c});$r.displayName=wo.displayName;const Ba=ai("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Xr=we.forwardRef((n,e)=>{const t=F.c(15);let r,i,a,c;t[0]!==n?({side:c,className:i,children:r,...a}=n,t[0]=n,t[1]=r,t[2]=i,t[3]=a,t[4]=c):(r=t[1],i=t[2],a=t[3],c=t[4]);const u=c===void 0?"right":c;let f,p,x,w;return t[5]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx($r,{}),t[5]=f):f=t[5],t[6]!==i||t[7]!==u?(p=te(Ba({side:u}),i),t[6]=i,t[7]=u,t[8]=p):p=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(x=S.jsxs(ii,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[S.jsx(li,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]}),t[9]=x):x=t[9],t[10]!==r||t[11]!==a||t[12]!==e||t[13]!==p?(w=S.jsx(qa,{children:S.jsxs(si,{children:[f,S.jsxs(xo,{ref:e,className:p,...a,children:[r,x]})]})}),t[10]=r,t[11]=a,t[12]=e,t[13]=p,t[14]=w):w=t[14],w});Xr.displayName=xo.displayName,we.forwardRef((n,e)=>{const t=F.c(9);let r,i,a,c;return t[0]!==n?({className:r,...i}=n,t[0]=n,t[1]=r,t[2]=i):(r=t[1],i=t[2]),t[3]!==r?(a=te("text-lg font-semibold text-foreground",r),t[3]=r,t[4]=a):a=t[4],t[5]!==i||t[6]!==e||t[7]!==a?(c=S.jsx(So,{ref:e,className:a,...i}),t[5]=i,t[6]=e,t[7]=a,t[8]=c):c=t[8],c}).displayName=So.displayName,we.forwardRef((n,e)=>{const t=F.c(9);let r,i,a,c;return t[0]!==n?({className:r,...i}=n,t[0]=n,t[1]=r,t[2]=i):(r=t[1],i=t[2]),t[3]!==r?(a=te("text-sm text-muted-foreground",r),t[3]=r,t[4]=a):a=t[4],t[5]!==i||t[6]!==e||t[7]!==a?(c=S.jsx(_o,{ref:e,className:a,...i}),t[5]=i,t[6]=e,t[7]=a,t[8]=c):c=t[8],c}).displayName=_o.displayName;const Ft=ee.memo(()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(di,{name:Oo.SIDEBAR}),n[0]=e):e=n[0],e});Ft.displayName="SidebarSlot";const Fa=n=>{const e=F.c(6),{openWidth:t}=n;let r,i,a,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(Aa,{className:"lg:hidden",asChild:!0,children:S.jsx(ze,{variant:"ghost",className:"bg-background",children:S.jsx(pn,{className:"w-5 h-5"})})}),e[0]=r):r=e[0],e[1]!==t?(i={maxWidth:t},e[1]=t,e[2]=i):i=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(a=S.jsx(Ft,{}),e[3]=a):a=e[3],e[4]!==i?(c=S.jsxs(Wa,{children:[r,S.jsx(Xr,{className:"w-full px-3 h-full flex flex-col overflow-y-auto",style:i,side:"left",children:a})]}),e[4]=i,e[5]=c):c=e[5],c},Ga=n=>{const e=F.c(7),{isOpen:t,toggle:r}=n,i=t?"rotate-0":"rotate-180";let a,c,u;return e[0]!==i?(a=te("h-5 w-5 transition-transform ease-in-out duration-700",i),e[0]=i,e[1]=a):a=e[1],e[2]!==a?(c=S.jsx(pi,{className:a}),e[2]=a,e[3]=c):c=e[3],e[4]!==c||e[5]!==r?(u=S.jsx("div",{className:"invisible lg:visible absolute top-[12px] right-[16px] z-20",children:S.jsx(ze,{onClick:r,className:"w-10 h-8",variant:"ghost",size:"icon",children:c})}),e[4]=c,e[5]=r,e[6]=u):u=e[6],u},Va=n=>{const e=F.c(11),{isOpen:t,toggle:r,width:i}=n,a=t?i:fi;let c,u,f,p,x;return e[0]!==a?(c={width:a},e[0]=a,e[1]=c):c=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(u=te("app-sidebar auto-collapse-nav","top-0 left-0 z-20 h-full hidden lg:block relative transition-[width] ease-in-out duration-300"),e[2]=u):u=e[2],e[3]!==t||e[4]!==r?(f=S.jsx(Ga,{isOpen:t,toggle:r}),e[3]=t,e[4]=r,e[5]=f):f=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx("div",{className:"relative h-full flex flex-col px-3 pb-16 pt-14 overflow-y-auto shadow-sm border-l",children:S.jsx(Ft,{})}),e[6]=p):p=e[6],e[7]!==t||e[8]!==c||e[9]!==f?(x=S.jsxs("aside",{"data-expanded":t,style:c,className:u,children:[f,p]}),e[7]=t,e[8]=c,e[9]=f,e[10]=x):x=e[10],x},Ua=n=>{const e=F.c(15),{children:t}=n,[r,i]=jo(hi),{isOpen:a,width:c}=r;if(mi(Oo.SIDEBAR).length===0)return t;let u;e[0]!==c?(u=gi(c),e[0]=c,e[1]=u):u=e[1];const f=u;let p,x,w,s;return e[2]!==i||e[3]!==a?(p=()=>i({type:"toggle",isOpen:!a}),e[2]=i,e[3]=a,e[4]=p):p=e[4],e[5]!==a||e[6]!==f||e[7]!==p?(x=S.jsx(Va,{isOpen:a,width:f,toggle:p}),e[5]=a,e[6]=f,e[7]=p,e[8]=x):x=e[8],e[9]!==f?(w=S.jsx("div",{className:"absolute top-3 left-4 flex items-center z-50",children:S.jsx(Fa,{openWidth:f})}),e[9]=f,e[10]=w):w=e[10],e[11]!==t||e[12]!==x||e[13]!==w?(s=S.jsxs("div",{className:"inset-0 absolute flex",children:[x,w,t]}),e[11]=t,e[12]=x,e[13]=w,e[14]=s):s=e[14],s},Ya=n=>{const e=F.c(10),{title:t}=n,[r,i]=ee.useState(t),[a,c]=ee.useState(!0);let u,f,p;e[0]!==r||e[1]!==t?(u=()=>{if(t!==r){c(!1);const o=setTimeout(()=>{i(t),c(!0)},300);return()=>clearTimeout(o)}},f=[t,r],e[0]=r,e[1]=t,e[2]=u,e[3]=f):(u=e[2],f=e[3]),ee.useEffect(u,f),e[4]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx(yi,{className:"size-20 animate-spin text-primary","data-testid":"large-spinner",strokeWidth:1}),e[4]=p):p=e[4];const x=a?"opacity-100":"opacity-0";let w,s;return e[5]!==x?(w=te("mt-2 text-muted-foreground font-semibold text-lg transition-opacity duration-300",x),e[5]=x,e[6]=w):w=e[6],e[7]!==r||e[8]!==w?(s=S.jsxs("div",{className:"flex flex-col h-full flex-1 items-center justify-center p-4",children:[p,S.jsx("div",{className:w,children:r})]}),e[7]=r,e[8]=w,e[9]=s):s=e[9],s},$a=n=>{const e=F.c(2),{children:t}=n;if(!on())return t;let r;return e[0]!==t?(r=S.jsx(Xa,{children:t}),e[0]=t,e[1]=r):r=e[1],r},Xa=n=>{const e=F.c(3),{children:t}=n;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const{loading:i,error:a}=bi(Ka,r),c=qe(vi);if(i){let u;return e[1]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(Kr,{}),e[1]=u):u=e[1],u}if(!c&&yo==="read"&&(wi(dt.showCode,"false")||!bo())){let u;return e[2]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(Kr,{}),e[2]=u):u=e[2],u}if(a)throw a;return t},Kr=n=>{const e=F.c(2),t=qe(xi);let r;return e[0]!==t?(r=S.jsx(Ya,{title:t}),e[0]=t,e[1]=r):r=e[1],r};async function Ka(){return await Do.INSTANCE.initialized.promise,!0}const Qa={idle:"./favicon.ico",success:"./circle-check.ico",running:"./circle-play.ico",error:"./circle-x.ico"},Gt=new Map;async function ot(n){const e=Gt.get(n);if(e)return e;const t=await fetch(Qa[n]),r=await t.blob(),i=URL.createObjectURL(r);return Gt.set(n,i),i}const Za=n=>{const e=F.c(15),{isRunning:t}=n,r=Si();let i,a,c,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=document.querySelector("link[rel~='icon']"),i||(i=document.createElement("link"),i.rel="icon",document.getElementsByTagName("head")[0].append(i)),e[0]=i):i=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[1]=a):a=e[1],ee.useEffect(ts,a),e[2]!==r||e[3]!==t?(c=()=>{!t&&i.href.includes("favicon")||(async()=>{let s;if(s=t?"running":r.length===0?"success":"error",i.href=await ot(s),!document.hasFocus())return;const o=setTimeout(async()=>{i.href=await ot("idle")},3e3)})()},e[2]=r,e[3]=t,e[4]=c):c=e[4],e[5]!==r||e[6]!==t?(u=[t,r,i],e[5]=r,e[6]=t,e[7]=u):u=e[7],ee.useEffect(c,u);const f=_i(t)??t;let p,x,w;return e[8]!==r||e[9]!==t||e[10]!==f?(p=()=>{f&&!t&&function(s){if(document.visibilityState==="visible")return;const o=async()=>{s===0?new Notification("Execution completed",{body:"Your notebook run completed successfully.",icon:await ot("success")}):new Notification("Execution failed",{body:`Your notebook run encountered ${s} error(s).`,icon:await ot("error")})};"Notification"in window&&Notification.permission!=="denied"&&(Notification.permission==="granted"?o():Notification.permission==="default"&&Notification.requestPermission().then(l=>{l==="granted"&&o()}))}(r.length)},x=[r,f,t],e[8]=r,e[9]=t,e[10]=f,e[11]=p,e[12]=x):(p=e[11],x=e[12]),ee.useEffect(p,x),e[13]!==t?(w=async s=>{t||(i.href=await ot("idle"))},e[13]=t,e[14]=w):w=e[14],Oi(window,"focus",w),null};function Ja(n){return URL.revokeObjectURL(n)}function es(){Gt.forEach(Ja)}function ts(){return es}let Qr;Ro=n=>{const e=F.c(18),{width:t,connection:r,isRunning:i,children:a}=n,c=r.state;let u,f;e[0]!==i?(u=S.jsx(Za,{isRunning:i}),e[0]=i,e[1]=u):u=e[1],e[2]!==r||e[3]!==i?(f=S.jsx(za,{connection:r,isRunning:i}),e[2]=r,e[3]=i,e[4]=f):f=e[4];const p=c===xe.CLOSED&&"disconnected",x=t==="full"&&"config-width-full",w=t==="columns"?"overflow-x-auto":"overflow-x-hidden";let s,o,l;return e[5]!==p||e[6]!==x||e[7]!==w?(s=te("mathjax_ignore",p,"bg-background w-full h-full text-textColor","flex flex-col overflow-y-auto",x,w,"print:height-fit"),e[5]=p,e[6]=x,e[7]=w,e[8]=s):s=e[8],e[9]!==a||e[10]!==c||e[11]!==s||e[12]!==t?(o=S.jsx($a,{children:S.jsx(Ua,{children:S.jsx("div",{id:"App","data-config-width":t,"data-connection-state":c,className:s,children:a})})}),e[9]=a,e[10]=c,e[11]=s,e[12]=t,e[13]=o):o=e[13],e[14]!==u||e[15]!==f||e[16]!==o?(l=S.jsxs(S.Fragment,{children:[u,f,o]}),e[14]=u,e[15]=f,e[16]=o,e[17]=l):l=e[17],l},Qr=n=>{const e=F.c(10),{reason:t,canTakeover:r}=n,i=r!==void 0&&r,a=ns;if(i){let u,f,p,x;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx("div",{className:"flex justify-between",children:S.jsx("span",{className:"font-bold text-xl flex items-center mb-2",children:"Notebook already connected"})}),e[0]=u):u=e[0],e[1]!==t?(f=S.jsx("span",{children:t}),e[1]=t,e[2]=f):f=e[2],e[3]!==i?(p=i&&S.jsxs(ze,{onClick:a,variant:"outline","data-testid":"takeover-button",className:"flex-shrink-0",children:[S.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Take over session"]}),e[3]=i,e[4]=p):p=e[4],e[5]!==f||e[6]!==p?(x=S.jsx("div",{className:"flex justify-center",children:S.jsxs(ji,{kind:"info",className:"mt-10 flex flex-col rounded p-3 max-w-[800px] mx-4",children:[u,S.jsxs("div",{className:"flex justify-between items-end text-base gap-20",children:[f,p]})]})}),e[5]=f,e[6]=p,e[7]=x):x=e[7],x}let c;return e[8]!==t?(c=S.jsx("div",{className:"font-mono text-center text-base text-[var(--red-11)]",children:S.jsx("p",{children:t})}),e[8]=t,e[9]=c):c=e[9],c};async function ns(){try{const n=new URL(window.location.href).searchParams;await Di.post(`/kernel/takeover?${n.toString()}`,{}),Eo()}catch(n){an({title:"Failed to take over session",description:Co(n),variant:"danger"})}}To=n=>{const e=F.c(8),{connection:t,className:r,children:i}=n;let a,c;return e[0]!==t.canTakeover||e[1]!==t.reason||e[2]!==t.state?(a=t.state===xe.CLOSED&&S.jsx(Qr,{reason:t.reason,canTakeover:t.canTakeover}),e[0]=t.canTakeover,e[1]=t.reason,e[2]=t.state,e[3]=a):a=e[3],e[4]!==i||e[5]!==r||e[6]!==a?(c=S.jsxs("div",{className:r,children:[i,a]}),e[4]=i,e[5]=r,e[6]=a,e[7]=c):c=e[7],c},globalThis.EventTarget&&globalThis.Event||console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var Zr,Jr=class extends Event{constructor(e,t){super("error",t);ne(this,"message");ne(this,"error");this.message=e.message,this.error=e}},eo=class extends Event{constructor(e=1e3,t="",r){super("close",r);ne(this,"code");ne(this,"reason");ne(this,"wasClean",!0);this.code=e,this.reason=t}},to=Jr,rs=eo;let at,He,Vt;at=typeof process<"u"&&((Zr=process.versions)==null?void 0:Zr.node)!==void 0&&typeof document>"u"?function(n){return"data"in n?new MessageEvent(n.type,n):"code"in n||"reason"in n?new eo(n.code||1999,n.reason||"unknown reason",n):"error"in n?new Jr(n.error,n):new Event(n.type,n)}:function(n){return new n.constructor(n.type,n)},He={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},Vt=!1,wn=class Ge extends EventTarget{constructor(t,r,i={}){super();ne(this,"_ws");ne(this,"_retryCount",-1);ne(this,"_uptimeTimeout");ne(this,"_connectTimeout");ne(this,"_shouldReconnect",!0);ne(this,"_connectLock",!1);ne(this,"_binaryType","blob");ne(this,"_closeCalled",!1);ne(this,"_messageQueue",[]);ne(this,"_debugLogger",console.log.bind(console));ne(this,"_url");ne(this,"_protocols");ne(this,"_options");ne(this,"onclose",null);ne(this,"onerror",null);ne(this,"onmessage",null);ne(this,"onopen",null);ne(this,"_handleOpen",t=>{this._debug("open event");const{minUptime:r=He.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),function(i,a){if(!i)throw new Error(a)}(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(i=>{var a;return(a=this._ws)==null?void 0:a.send(i)}),this._messageQueue=[],this.onopen&&this.onopen(t),this.dispatchEvent(at(t))});ne(this,"_handleMessage",t=>{this._debug("message event"),this.onmessage&&this.onmessage(t),this.dispatchEvent(at(t))});ne(this,"_handleError",t=>{this._debug("error event",t.message),this._disconnect(void 0,t.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(t),this._debug("exec error listeners"),this.dispatchEvent(at(t)),this._connect()});ne(this,"_handleClose",t=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(t),this.dispatchEvent(at(t))});this._url=t,this._protocols=r,this._options=i,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Ge.CONNECTING}get OPEN(){return Ge.OPEN}get CLOSING(){return Ge.CLOSING}get CLOSED(){return Ge.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((t,r)=>(typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Ge.CLOSED:Ge.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(t=1e3,r){this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,r):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")}reconnect(t,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,r),this._connect()):this._connect()}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{const{maxEnqueuedMessages:r=He.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){const{reconnectionDelayGrowFactor:t=He.reconnectionDelayGrowFactor,minReconnectionDelay:r=He.minReconnectionDelay,maxReconnectionDelay:i=He.maxReconnectionDelay}=this._options;let a=0;return this._retryCount>0&&(a=r*t**(this._retryCount-1),a>i&&(a=i)),this._debug("next delay",a),a}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_getNextProtocols(t){if(!t)return Promise.resolve(null);if(typeof t=="string"||Array.isArray(t))return Promise.resolve(t);if(typeof t=="function"){const r=t();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){const r=t();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:t=He.maxRetries,connectionTimeout:r=He.connectionTimeout}=this._options;this._retryCount>=t?this._debug("max retries reached",this._retryCount,">=",t):(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([i,a])=>{if(this._closeCalled)return void(this._connectLock=!1);this._options.WebSocket||typeof WebSocket<"u"||Vt||(console.error(`\u203C\uFE0F No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),Vt=!0);const c=this._options.WebSocket||WebSocket;this._debug("connect",{url:i,protocols:a}),this._ws=a?new c(i,a):new c(i),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(i=>{this._connectLock=!1,this._handleError(new to(Error(i.message),this))}))}_handleTimeout(){this._debug("timeout event"),this._handleError(new to(Error("TIMEOUT"),this))}_disconnect(t=1e3,r){if(this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(t,r),this._handleClose(new rs(t,r,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};class os{constructor(){this.CONNECTING=WebSocket.CONNECTING,this.OPEN=WebSocket.OPEN,this.CLOSING=WebSocket.CLOSING,this.CLOSED=WebSocket.CLOSED,this.binaryType="blob",this.bufferedAmount=0,this.extensions="",this.protocol="",this.url="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.readyState=WebSocket.OPEN,this.retryCount=0,this.shouldReconnect=!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}dispatchEvent(e){return!1}reconnect(e,t){}send(e){}close(){}}let no,ro;Nn=new sn("sql-table-preview",async(n,e)=>{await ki({requestId:n,...e})}),kn=new sn("sql-table-list-preview",async(n,e)=>{await Ci({requestId:n,...e})}),{valueAtom:no,useActions:ro}=Dt(()=>({banners:[]}),{addBanner:(n,e)=>({...n,banners:[...n.banners,{...e,id:ko()}]}),removeBanner:(n,e)=>({...n,banners:n.banners.filter(t=>t.id!==e)}),clearBanners:n=>({...n,banners:[]})}),Wo=()=>qe(no),Sn=function(){return ro()},qo=function(n){return n.kind==="missing"},Bo=function(n){return n.kind==="installing"};let oo,ao;({valueAtom:oo,useActions:ao}=Dt(()=>({packageAlert:null}),{addPackageAlert:(n,e)=>({...n,packageAlert:{id:ko(),...e}}),clearPackageAlert:(n,e)=>n.packageAlert!==null&&n.packageAlert.id===e?{...n,packageAlert:null}:n})),Ao=()=>qe(oo),_n=function(){return ao()};function as(n,e){const{autoInstantiate:t,setCells:r,setLayoutData:i,onError:a,setAppConfig:c,setCapabilities:u}=e,{codes:f,names:p,layout:x,configs:w,resumed:s,ui_values:o,cell_ids:l,last_executed_code:d,last_execution_time:y={},app_config:h,capabilities:v}=n,O=d||{},D=y||{},k=f.map((R,E)=>{const N=l[E];let C=!1;const T=O[N];return T&&(C=T!==R),Ni({id:N,code:R,edited:C,name:p[E],lastCodeRun:O[N]??null,lastExecutionTime:D[N]??null,config:w[E]})}),P={selectedLayout:"vertical",layoutData:{}};if(x){const R=x.type,E=function(N,C,T){const g=qt.find(b=>b.type===N);if(g===void 0)throw new Error(`Unknown layout type: ${N}`);return g.deserializeLayout(C,T)}(R,x.data,k);P.selectedLayout=R,P.layoutData[R]=E,i({layoutView:R,data:E})}r(k,P);const z=Pi.safeParse(h);if(z.success&&c(z.data),u(v),s){for(const[R,E]of Kt.entries(o||{}))lt.set(R,E);return}const M=[],_=[];lt.entries.forEach((R,E)=>{M.push(E),_.push(R.value)}),Ri({objectIds:M,values:_,autoRun:t}).catch(R=>{a(new Error("Failed to instantiate",{cause:R}))})}const ss=n=>{const e=new URL(window.location.href);e.searchParams.append(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},is=n=>{const e=new URL(window.location.href);Array.isArray(n.value)?(e.searchParams.delete(n.key),n.value.forEach(t=>e.searchParams.append(n.key,t))):e.searchParams.set(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},ls=n=>{const e=new URL(window.location.href);n.value==null?e.searchParams.delete(n.key):e.searchParams.delete(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},cs=()=>{const n=new URL(window.location.href);n.search="",window.history.pushState({},"",`${n.pathname}${n.search}`)};let so;({valueAtom:Fo,useActions:yn}=Dt(function(){return{runIds:[],runMap:new Map}},{addCellOperation:(n,e)=>{const{cellOperation:t,code:r}=e,i=t.run_id;if(!i)return n;const a=n.runMap.get(i);if(!a&&function(w){return w.startsWith("mo.md(")&&so.test(w)}(r))return n;const c=t.output&&(t.output.channel==="marimo-error"||t.output.channel==="stderr");let u=c?"error":t.status==="queued"?"queued":t.status==="running"?"running":"success";if(!a){const w={runId:i,cellRuns:new Map([[t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:u,startTime:t.timestamp}]]),runStartTime:t.timestamp},s=[i,...n.runIds],o=new Map(n.runMap);if(s.length>50){const l=s.pop();l&&o.delete(l)}return o.set(i,w),{runIds:s,runMap:o}}const f=new Map(a.cellRuns),p=f.get(t.cell_id);if(p&&!c&&t.status==="queued")return n;if(p){u=p.status==="error"||c?"error":u;const w=t.status==="running"?t.timestamp:p.startTime,s=u==="success"||u==="error"?t.timestamp-p.startTime:void 0;f.set(t.cell_id,{...p,startTime:w,elapsedTime:s,status:u})}else f.set(t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:u,startTime:t.timestamp});const x=new Map(n.runMap);return x.set(i,{...a,cellRuns:f}),{...n,runMap:x}},clearRuns:n=>({...n,runIds:[],runMap:new Map}),removeRun:(n,e)=>{const t=n.runIds.filter(i=>i!==e),r=new Map(n.runMap);return r.delete(e),{...n,runIds:t,runMap:r}}})),so=/mo\.md\(\s*r?('''|""")/,gn=new sn("secrets-result",async(n,e)=>{await Mi({requestId:n,...e})}),Go=function(n){const e=F.c(25),t=ee.useRef(!0),{autoInstantiate:r,sessionId:i,setCells:a}=n,{showBoundary:c}=zi(),{handleCellMessage:u,setCellCodes:f,setCellIds:p}=mo(),{addCellOperation:x}=yn(),w=Ti(),{setVariables:s,setMetadata:o}=Li(),{addColumnPreview:l}=No(),{addDatasets:d,filterDatasetsFromVariables:y}=No(),{addDataSourceConnection:h,filterDataSourcesFromVariables:v}=Ii(),{setLayoutData:O}=kt(),[D,k]=jo(Hi),{addBanner:P}=Sn(),{addPackageAlert:z}=_n(),M=Po(nn),_=Po(Wi);let R;e[0]!==P||e[1]!==x||e[2]!==l||e[3]!==h||e[4]!==d||e[5]!==z||e[6]!==r||e[7]!==v||e[8]!==y||e[9]!==u||e[10]!==w||e[11]!==_||e[12]!==f||e[13]!==p||e[14]!==a||e[15]!==M||e[16]!==O||e[17]!==o||e[18]!==s||e[19]!==c?(R=b=>{const m=qi(b.data);switch(m.op){case"reload":return void Eo();case"kernel-ready":return as(m.data,{autoInstantiate:r,setCells:a,setLayoutData:O,setAppConfig:w,setCapabilities:_,onError:c}),void M(m.data.kiosk);case"completed-run":case"interrupted":case"reconnected":return;case"send-ui-element-message":{const j=m.data.model_id,L=m.data.ui_element,I=m.data.message,H=m.data.buffers??[];return j&&Yi(I)&&$i(j,I,H,Xi),void(L&&lt.broadcastMessage(L,m.data.message,H))}case"remove-ui-elements":return void function(j){const L=j.cell_id;lt.removeElementsByCell(L),Xe.INSTANCE.removeForCellId(L)}(m.data);case"completion-result":return void Ui.resolve(m.data.completion_id,m.data);case"function-call-result":return void Vi.resolve(m.data.function_call_id,m.data);case"cell-op":{(function(L,I){I(L),Xe.INSTANCE.track(L)})(m.data,u);const j=Ot().cellData[m.data.cell_id];return j?void x({cellOperation:m.data,code:j.code}):void 0}case"variables":return s(m.data.variables.map(hs)),y(m.data.variables.map(fs)),void v(m.data.variables.map(ps));case"variable-values":return void o(m.data.variables.map(ds));case"alert":return void an({title:m.data.title,description:Gi({html:m.data.description}),variant:m.data.variant});case"banner":return void P(m.data);case"missing-package-alert":return void z({...m.data,kind:"missing"});case"installing-package-alert":return void z({...m.data,kind:"installing"});case"query-params-append":return void ss(m.data);case"query-params-set":return void is(m.data);case"query-params-delete":return void ls(m.data);case"query-params-clear":return void cs();case"datasets":return void d(m.data);case"data-column-preview":return void l(m.data);case"sql-table-preview":return void Nn.resolve(m.data.request_id,m.data);case"sql-table-list-preview":return void kn.resolve(m.data.request_id,m.data);case"secret-keys-result":return void gn.resolve(m.data.request_id,m.data);case"data-source-connections":return void h({connections:m.data.connections.map(us)});case"focus-cell":return void Fi(m.data.cell_id);case"update-cell-codes":return void f({codes:m.data.codes,ids:m.data.cell_ids,codeIsStale:m.data.code_is_stale});case"update-cell-ids":return void p({cellIds:m.data.cell_ids});default:Bi(m)}},e[0]=P,e[1]=x,e[2]=l,e[3]=h,e[4]=d,e[5]=z,e[6]=r,e[7]=v,e[8]=y,e[9]=u,e[10]=w,e[11]=_,e[12]=f,e[13]=p,e[14]=a,e[15]=M,e[16]=O,e[17]=o,e[18]=s,e[19]=c,e[20]=R):R=e[20];const E=R,N=(b,m)=>{t.current&&(t.current=!1,T.reconnect(b,m))};let C;e[21]!==E?(C=b=>{try{E(b)}catch(m){const j=m;ve.error("Failed to handle message",j),an({title:"Failed to handle message",description:Co(j),variant:"danger"})}},e[21]=E,e[22]=C):C=e[22];const T=function(b){const{onOpen:m,onMessage:j,onClose:L,onError:I,...H}=b,[A]=ee.useState(()=>{const G=on()?new Ei(Do.INSTANCE):b.static?new os:new wn(H.url,void 0,{maxRetries:10,debug:!1,startClosed:!0,connectionTimeout:1e4});return m&&G.addEventListener("open",m),L&&G.addEventListener("close",L),I&&G.addEventListener("error",I),j&&G.addEventListener("message",j),G});return ee.useEffect(()=>(A.readyState===WebSocket.CLOSED&&A.reconnect(),()=>{ve.warn("useWebSocket is unmounting. This likely means there is a bug."),A.close(),m&&A.removeEventListener("open",m),L&&A.removeEventListener("close",L),I&&A.removeEventListener("error",I),j&&A.removeEventListener("message",j)}),[A]),A}({static:rn(),url:Ai(i),onOpen:()=>{t.current=!0,k({state:xe.OPEN})},onMessage:C,onClose:b=>{switch(ve.warn("WebSocket closed",b.code,b.reason),b.reason){case"MARIMO_ALREADY_CONNECTED":return k({state:xe.CLOSED,code:Et.ALREADY_RUNNING,reason:"another browser tab is already connected to the kernel",canTakeover:!0}),void T.close();case"MARIMO_WRONG_KERNEL_ID":case"MARIMO_NO_FILE_KEY":case"MARIMO_NO_SESSION_ID":case"MARIMO_NO_SESSION":case"MARIMO_SHUTDOWN":return k({state:xe.CLOSED,code:Et.KERNEL_DISCONNECTED,reason:"kernel not found"}),void T.close();case"MARIMO_MALFORMED_QUERY":return void k({state:xe.CLOSED,code:Et.MALFORMED_QUERY,reason:"the kernel did not recognize a request; please file a bug with marimo"});default:k({state:xe.CONNECTING}),N(b.code,b.reason)}},onError:b=>{ve.warn("WebSocket error",b),k({state:xe.CLOSED,code:Et.KERNEL_DISCONNECTED,reason:"kernel not found"}),N()}});let g;return e[23]!==D?(g={connection:D},e[23]=D,e[24]=g):g=e[24],g};function us(n){return{...n,name:n.name}}function ds(n){return{name:n.name,dataType:n.datatype,value:n.value}}function ps(n){return n.name}function fs(n){return n.name}function hs(n){return{name:n.name,declaredBy:n.declared_by,usedBy:n.used_by}}});export{Ro as A,ln as C,cn as E,un as F,dn as I,Mo as L,pn as M,zo as N,fn as O,hn as P,mn as R,gn as S,Ct as T,Xe as V,Zi as __tla,To as a,yn as b,bn as c,kt as d,Lo as e,Io as f,vn as g,Ho as h,wn as i,xn as j,Wo as k,Nt as l,Sn as m,Ao as n,_n as o,qo as p,Bo as q,Fo as r,On as s,jn as t,Go as u,Dn as v,En as w,Cn as x,kn as y,Nn as z};
