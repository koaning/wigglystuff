import{s as y}from"./chunk-LvLJmgfZ.js";import{t as C}from"./react-XTZdWHwa.js";import{P as j,R as N}from"./zod-BBqism5D.js";import{t as E}from"./compiler-runtime-QczY1yfQ.js";import{u as O}from"./hotkeys-sK-kaEBC.js";import{t as T}from"./jsx-runtime-B4_2-8Ho.js";import{n as F,t as I}from"./cn-f3ruLt4G.js";import{a as J,c as U,i as V,l as z,n as A,s as D,t as R}from"./alert-dialog-CYJZg0vV.js";var g=j({detail:N()}),v=j({error:N()});function S(r){if(!r)return"Unknown error";if(r instanceof Error){let e=g.safeParse(r.cause);return e.success?e.data.detail:q(r.message)}if(typeof r=="object"){let e=g.safeParse(r);if(e.success)return e.data.detail;let a=v.safeParse(r);if(a.success)return a.data.error}try{return JSON.stringify(r)}catch{return String(r)}}function q(r){let e=B(r);if(!e)return r;let a=g.safeParse(e);if(a.success)return a.data.detail;let s=v.safeParse(e);return s.success?s.data.error:r}function B(r){try{return JSON.parse(r)}catch{return r}}var G=class extends Error{constructor(r="The cell containing this UI element has not been run yet. Please run the cell first."){super(r),this.name="CellNotInitializedError"}},_=E(),H=y(C(),1),t=y(T(),1);const K=r=>{let e=(0,_.c)(23),{error:a,className:s,action:l}=r,[c,i]=(0,H.useState)(!1);if(!a)return null;O.error(a);let n;e[0]===a?n=e[1]:(n=S(a),e[0]=a,e[1]=n);let o=n,p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>i(!0),e[2]=p):p=e[2];let d;e[3]===o?d=e[4]:(d=(0,t.jsx)("span",{className:"line-clamp-4",children:o}),e[3]=o,e[4]=d);let m;e[5]===l?m=e[6]:(m=l&&(0,t.jsx)("div",{className:"flex justify-end",children:l}),e[5]=l,e[6]=m);let f;e[7]!==s||e[8]!==d||e[9]!==m?(f=(0,t.jsxs)(P,{kind:"danger",className:s,clickable:!0,onClick:p,children:[d,m]}),e[7]=s,e[8]=d,e[9]=m,e[10]=f):f=e[10];let b;e[11]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)(U,{children:(0,t.jsx)(z,{className:"text-error",children:"Error"})}),e[11]=b):b=e[11];let u;e[12]===o?u=e[13]:(u=(0,t.jsx)(J,{asChild:!0,className:"text-error text-sm p-2 font-mono overflow-auto whitespace-pre-wrap",children:(0,t.jsx)("pre",{children:o})}),e[12]=o,e[13]=u);let k;e[14]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)(D,{children:(0,t.jsx)(A,{autoFocus:!0,onClick:()=>i(!1),children:"Ok"})}),e[14]=k):k=e[14];let h;e[15]===u?h=e[16]:(h=(0,t.jsxs)(V,{className:"max-w-[80%] max-h-[80%] overflow-hidden flex flex-col",children:[b,u,k]}),e[15]=u,e[16]=h);let x;e[17]!==c||e[18]!==h?(x=(0,t.jsx)(R,{open:c,onOpenChange:i,children:h}),e[17]=c,e[18]=h,e[19]=x):x=e[19];let w;return e[20]!==x||e[21]!==f?(w=(0,t.jsxs)(t.Fragment,{children:[f,x]}),e[20]=x,e[21]=f,e[22]=w):w=e[22],w};var L=F("text-sm p-2 border whitespace-pre-wrap overflow-hidden",{variants:{kind:{danger:"text-error border-(--red-6) shadow-md-solid shadow-error bg-(--red-1)",info:"text-primary border-(--blue-6) shadow-md-solid shadow-accent bg-(--blue-1)",warn:"border-(--yellow-6) bg-(--yellow-2) dark:bg-(--yellow-4) text-(--yellow-11) dark:text-(--yellow-12)"},clickable:{true:"cursor-pointer"}},compoundVariants:[{clickable:!0,kind:"danger",className:"hover:bg-(--red-3)"},{clickable:!0,kind:"info",className:"hover:bg-(--blue-3)"},{clickable:!0,kind:"warn",className:"hover:bg-(--yellow-3)"}],defaultVariants:{kind:"info"}});const P=r=>{let e=(0,_.c)(14),a,s,l,c,i;e[0]===r?(a=e[1],s=e[2],l=e[3],c=e[4],i=e[5]):({kind:c,clickable:l,className:s,children:a,...i}=r,e[0]=r,e[1]=a,e[2]=s,e[3]=l,e[4]=c,e[5]=i);let n;e[6]!==s||e[7]!==l||e[8]!==c?(n=I(L({kind:c,clickable:l}),s),e[6]=s,e[7]=l,e[8]=c,e[9]=n):n=e[9];let o;return e[10]!==a||e[11]!==i||e[12]!==n?(o=(0,t.jsx)("div",{className:n,...i,children:a}),e[10]=a,e[11]=i,e[12]=n,e[13]=o):o=e[13],o};export{S as i,K as n,G as r,P as t};
