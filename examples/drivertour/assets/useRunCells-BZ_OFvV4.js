import{d as g,n as i,p as k}from"./useEvent-DlWF5OMa.js";import{C as v,_n as w,hr as F,p as f,rt as b,yr as _}from"./cells-D_SkyFDn.js";import{t as x}from"./compiler-runtime-DeeZ7FnK.js";import{d as C}from"./hotkeys-uKX61F1_.js";import{o as D}from"./dist-DKNOF5xd.js";import{r as H}from"./requests-C0HaHO6a.js";var u=x();const y=k(!1);function V(){let r=(0,u.c)(2),n=p(),t;return r[0]===n?t=r[1]:(t=()=>n(_(f())),r[0]=n,r[1]=t),i(t)}function j(r){let n=(0,u.c)(3),t=p(),e;return n[0]!==r||n[1]!==t?(e=()=>{r!==void 0&&t([r])},n[0]=r,n[1]=t,n[2]=e):e=n[2],i(e)}function q(){let r=(0,u.c)(2),n=p(),t;return r[0]===n?t=r[1]:(t=()=>n(F(f())),r[0]=n,r[1]=t),i(t)}function p(){let r=(0,u.c)(4),{prepareForRun:n}=v(),{sendRun:t}=H(),e=g(y),o;return r[0]!==n||r[1]!==t||r[2]!==e?(o=async s=>{if(s.length===0)return;let c=f();return e(!0),I({cellIds:s,sendRun:t,prepareForRun:n,notebook:c})},r[0]=n,r[1]=t,r[2]=e,r[3]=o):o=r[3],i(o)}async function I({cellIds:r,sendRun:n,prepareForRun:t,notebook:e}){var m,h,R;if(r.length===0)return;let{cellHandles:o,cellData:s}=e,c=[];for(let a of r){let l=(h=(m=o[a])==null?void 0:m.current)==null?void 0:h.editorView,d;l?(w(l)!=="markdown"&&D(l),d=b(l)):d=((R=s[a])==null?void 0:R.code)||"",c.push(d),t({cellId:a})}await n({cellIds:r,codes:c}).catch(a=>{C.error(a)})}export{p as a,j as i,I as n,V as o,q as r,y as t};
