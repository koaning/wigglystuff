import{s as O}from"./chunk-LvLJmgfZ.js";import{d as K,l as Q,n as q,p as W,u as X}from"./useEvent-DlWF5OMa.js";import{t as Y}from"./react-BGmjiNul.js";import{U as Z}from"./cells-CpvLRFsM.js";import{t as E}from"./compiler-runtime-DeeZ7FnK.js";import{t as $}from"./jsx-runtime-DN_bIXfG.js";import{t as ee}from"./cn-C1rgT0yh.js";import{t as te}from"./createLucideIcon-CW2xpJ57.js";import{t as le}from"./useCellActionButton-DVvrlYYf.js";import{a as re,n as ae,o as se,t as ne}from"./tooltip-CvjcEpZC.js";import{d as oe}from"./alert-dialog-jcHA5geR.js";import{i as L,r as ie,t as M}from"./popover-DtnzNVk-.js";import{a as ce,c as me,i as de,o as he,r as pe,t as fe,u as ue}from"./command-CiJW14cR.js";import{n as xe}from"./focus-DmVMvj8M.js";import{a as je,i as be}from"./renderShortcut-eU5Hsfml.js";var ye=te("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),U=E(),h=O(Y(),1),t=O($(),1);const V=h.memo(h.forwardRef((n,r)=>{let e=(0,U.c)(41),l,o,i;e[0]===n?(l=e[1],o=e[2],i=e[3]):({children:l,showTooltip:i,...o}=n,e[0]=n,e[1]=l,e[2]=o,e[3]=i);let p=i===void 0?!0:i,[d,T]=(0,h.useState)(!1),g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=()=>T(!1),e[4]=g):g=e[4];let J=g,A=(0,h.useRef)(null),N;e[5]===o?N=e[6]:(N={cell:o,closePopover:J},e[5]=o,e[6]=N);let f=le(N),R=oe(),_;e[7]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{Z(()=>{A.current&&A.current.scrollIntoView({behavior:"auto",block:"nearest"})})},e[7]=_):_=e[7];let z=q(_),w;e[8]===z?w=e[9]:(w=a=>{T(m=>{let v=typeof a=="function"?a(m):a;return v&&z(),v})},e[8]=z,e[9]=w);let c=q(w),S;e[10]===c?S=e[11]:(S=()=>({toggle:()=>c(ve)}),e[10]=c,e[11]=S),(0,h.useImperativeHandle)(r,S);let k;e[12]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)(ce,{placeholder:"Search actions...",className:"h-6 m-1"}),e[12]=k):k=e[12];let C;e[13]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)(pe,{children:"No results"}),e[13]=C):C=e[13];let u;if(e[14]!==f){let a;e[16]===f.length?a=e[17]:(a=(m,v)=>(0,t.jsxs)(h.Fragment,{children:[(0,t.jsx)(de,{children:m.map(s=>{if(s.redundant)return null;let H=(0,t.jsxs)("div",{className:"flex items-center flex-1",children:[s.icon&&(0,t.jsx)("div",{className:"mr-2 w-5 text-muted-foreground",children:s.icon}),(0,t.jsx)("div",{className:"flex-1",children:s.label}),(0,t.jsxs)("div",{className:"shrink-0 text-sm",children:[s.hotkey&&be(s.hotkey),s.rightElement]})]});return s.tooltip&&(H=(0,t.jsx)(ne,{content:s.tooltip,delayDuration:100,children:H})),(0,t.jsx)(he,{className:ee(s.disabled&&"opacity-50!"),onSelect:()=>{s.disableClick||s.disabled||(s.handle(),T(!1))},variant:s.variant,children:H},s.label)})},v),v<f.length-1&&(0,t.jsx)(me,{})]},v),e[16]=f.length,e[17]=a),u=f.map(a),e[14]=f,e[15]=u}else u=e[15];let x;e[18]===u?x=e[19]:(x=(0,t.jsxs)(fe,{children:[k,(0,t.jsxs)(ue,{children:[C,u]})]}),e[18]=u,e[19]=x);let D;e[20]!==R||e[21]!==x?(D=(0,t.jsx)(ie,{className:"w-[300px] p-0 pt-1 overflow-auto",scrollable:!0,...R,children:x}),e[20]=R,e[21]=x,e[22]=D):D=e[22];let j=D;if(!p){let a;e[23]===l?a=e[24]:(a=(0,t.jsx)(L,{asChild:!0,children:l}),e[23]=l,e[24]=a);let m;return e[25]!==j||e[26]!==c||e[27]!==d||e[28]!==a?(m=(0,t.jsxs)(M,{open:d,onOpenChange:c,children:[a,j]}),e[25]=j,e[26]=c,e[27]=d,e[28]=a,e[29]=m):m=e[29],m}let I;e[30]===Symbol.for("react.memo_cache_sentinel")?(I=(0,t.jsx)(ae,{tabIndex:-1,children:je("cell.cellActions")}),e[30]=I):I=e[30];let F=!d&&I,b;e[31]===l?b=e[32]:(b=(0,t.jsx)(se,{ref:A,children:(0,t.jsx)(L,{className:"flex",children:l})}),e[31]=l,e[32]=b);let y;e[33]!==F||e[34]!==b?(y=(0,t.jsxs)(re,{delayDuration:200,disableHoverableContent:!0,children:[F,b]}),e[33]=F,e[34]=b,e[35]=y):y=e[35];let P;return e[36]!==j||e[37]!==c||e[38]!==d||e[39]!==y?(P=(0,t.jsxs)(M,{open:d,onOpenChange:c,children:[y,j]}),e[36]=j,e[37]=c,e[38]=d,e[39]=y,e[40]=P):P=e[40],P})),B=h.memo(n=>{let r=(0,U.c)(5),{children:e,cellId:l}=n,o;r[0]===l?o=r[1]:(o=xe(l),r[0]=l,r[1]=o);let i=X(o);if(!i)return null;let p;return r[2]!==e||r[3]!==i?(p=(0,t.jsx)(V,{showTooltip:!1,...i,children:e}),r[2]=e,r[3]=i,r[4]=p):p=r[4],p});B.displayName="ConnectionCellActionsDropdown";function ve(n){return!n}var ge=E();const G=W("minimap");function Ne(){let n=(0,ge.c)(3),[r,e]=Q(G),l;return n[0]!==r||n[1]!==e?(l={dependencyPanelTab:r,setDependencyPanelTab:e},n[0]=r,n[1]=e,n[2]=l):l=n[2],l}function _e(){return K(G)}export{ye as a,B as i,_e as n,V as r,Ne as t};
