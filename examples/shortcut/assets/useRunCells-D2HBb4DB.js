import{d as I,n as i,p as g}from"./useEvent-BhXAndur.js";import{Cr as k,it as v,m as p,w as F,xn as b,yr as x}from"./cells-DPp5cDaO.js";import{t as C}from"./compiler-runtime-B3qBwwSJ.js";import{d as D}from"./hotkeys-BHHWjLlp.js";import{o as H}from"./dist-ChS0Dc_R.js";import{r as V}from"./requests-B4FYHTZl.js";var u=C();const w=g(!1);function _(){let r=(0,u.c)(2),n=d(),t;return r[0]===n?t=r[1]:(t=()=>n(k(p())),r[0]=n,r[1]=t),i(t)}function j(r){let n=(0,u.c)(3),t=d(),e;return n[0]!==r||n[1]!==t?(e=()=>{r!==void 0&&t([r])},n[0]=r,n[1]=t,n[2]=e):e=n[2],i(e)}function q(){let r=(0,u.c)(2),n=d(),t;return r[0]===n?t=r[1]:(t=()=>n(x(p())),r[0]=n,r[1]=t),i(t)}function d(){let r=(0,u.c)(4),{prepareForRun:n}=F(),{sendRun:t}=V(),e=I(w),o;return r[0]!==n||r[1]!==t||r[2]!==e?(o=async s=>{if(s.length===0)return;let c=p();return e(!0),y({cellIds:s,sendRun:t,prepareForRun:n,notebook:c})},r[0]=n,r[1]=t,r[2]=e,r[3]=o):o=r[3],i(o)}async function y({cellIds:r,sendRun:n,prepareForRun:t,notebook:e}){var m,R,h;if(r.length===0)return;let{cellHandles:o,cellData:s}=e,c=[];for(let a of r){let l=(R=(m=o[a])==null?void 0:m.current)==null?void 0:R.editorView,f;l?(b(l)!=="markdown"&&H(l),f=v(l)):f=((h=s[a])==null?void 0:h.code)||"",c.push(f),t({cellId:a})}await n({cellIds:r,codes:c}).catch(a=>{D.error(a)})}export{d as a,j as i,y as n,_ as o,q as r,w as t};
