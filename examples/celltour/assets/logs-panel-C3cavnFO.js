import{s as x}from"./chunk-LvLJmgfZ.js";import"./useEvent-BhXAndur.js";import{t as f}from"./react-Bj1aDYRI.js";import{A as h,Hn as g,W as u,w as j}from"./cells-DPp5cDaO.js";import"./react-dom-CSu739Rf.js";import{t as y}from"./compiler-runtime-B3qBwwSJ.js";import{t as v}from"./jsx-runtime-ZmTK25f3.js";import{t as m}from"./cn-BKtXLv3a.js";import"./dist-DBwNzi3C.js";import"./cjs-CH5Rj0g8.js";import"./main-U5Goe76G.js";import"./useNonce-CS26E0hA.js";import"./dist-bBwmhqty.js";import"./dist-Btv5Rh1v.js";import"./dist-Dcqqg9UU.js";import"./dist-sMh6mJ2d.js";import"./dist-CoCQUAeM.js";import"./session-BOFn9QrD.js";import"./Combination-BAEdC-rz.js";import{t as N}from"./cell-link-B9b7J8QK.js";import{t as b}from"./empty-state-B8Cxr9nj.js";import{t as w}from"./clear-button-DMZhBF9S.js";var n=y();f();var s=x(v(),1),_=()=>{let r=(0,n.c)(9),e=h(),{clearLogs:i}=j();if(e.length===0){let o;r[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,s.jsx)("code",{className:"border rounded px-1",children:"stdout"}),r[0]=o):o=r[0];let l;return r[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)(b,{title:"No logs",description:(0,s.jsxs)("span",{children:[o," and"," ",(0,s.jsx)("code",{className:"border rounded px-1",children:"stderr"})," logs will appear here."]}),icon:(0,s.jsx)(g,{})}),r[1]=l):l=r[1],l}let a;r[2]===i?a=r[3]:(a=(0,s.jsx)("div",{className:"flex flex-row justify-start px-2 py-1",children:(0,s.jsx)(w,{dataTestId:"clear-logs-button",onClick:i})}),r[2]=i,r[3]=a);let t;r[4]===e?t=r[5]:(t=(0,s.jsx)(d,{logs:e,className:"min-w-[300px]"}),r[4]=e,r[5]=t);let c;return r[6]!==a||r[7]!==t?(c=(0,s.jsxs)("div",{className:"flex flex-col h-full overflow-auto",children:[a,t]}),r[6]=a,r[7]=t,r[8]=c):c=r[8],c};const d=r=>{let e=(0,n.c)(10),{logs:i,className:a}=r,t;e[0]===a?t=e[1]:(t=m("flex flex-col",a),e[0]=a,e[1]=t);let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c={whiteSpace:"pre-wrap"},e[2]=c):c=e[2];let o;e[3]===i?o=e[4]:(o=i.map(I),e[3]=i,e[4]=o);let l;e[5]===o?l=e[6]:(l=(0,s.jsx)("pre",{className:"grid text-xs font-mono gap-1 whitespace-break-spaces font-semibold align-left",children:(0,s.jsx)("div",{className:"grid grid-cols-[30px_1fr]",style:c,children:o})}),e[5]=o,e[6]=l);let p;return e[7]!==t||e[8]!==l?(p=(0,s.jsx)("div",{className:t,children:l}),e[7]=t,e[8]=l,e[9]=p):p=e[9],p};function k(r){let e=u(r.timestamp),i=S[r.level],a=r.level.toUpperCase();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"shrink-0 text-(--gray-10) dark:text-(--gray-11)",children:["[",e,"]"]}),(0,s.jsx)("span",{className:m("shrink-0",i),children:a}),(0,s.jsxs)("span",{className:"shrink-0 text-(--gray-10)",children:["(",(0,s.jsx)(N,{cellId:r.cellId}),")"]}),r.message]})}var S={stdout:"text-(--grass-9)",stderr:"text-(--red-9)"};function I(r,e){return(0,s.jsxs)("div",{className:"contents group",children:[(0,s.jsx)("span",{className:m("opacity-70 group-hover:bg-(--gray-3) group-hover:opacity-100","text-right col-span-1 py-1 pr-1"),children:e+1}),(0,s.jsx)("span",{className:m("opacity-70 group-hover:bg-(--gray-3) group-hover:opacity-100","px-2 flex gap-x-1.5 py-1 flex-wrap"),children:k(r)})]},e)}export{d as LogViewer,_ as default};
