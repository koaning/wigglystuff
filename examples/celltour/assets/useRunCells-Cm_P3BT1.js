import{d as w,n as l,p as I}from"./useEvent-DlWF5OMa.js";import{br as b,gr as k,it as y,m as p,vn as F,w as x}from"./cells-CpvLRFsM.js";import{t as D}from"./compiler-runtime-DeeZ7FnK.js";import{d as H}from"./hotkeys-uKX61F1_.js";import{o as V}from"./dist-DKNOF5xd.js";import{r as _}from"./requests-C0HaHO6a.js";var u=D();const g=I(!1);function j(){let r=(0,u.c)(2),n=d(),t;return r[0]===n?t=r[1]:(t=()=>n(b(p())),r[0]=n,r[1]=t),l(t)}function q(r){let n=(0,u.c)(3),t=d(),e;return n[0]!==r||n[1]!==t?(e=()=>{r!==void 0&&t([r])},n[0]=r,n[1]=t,n[2]=e):e=n[2],l(e)}function z(){let r=(0,u.c)(2),n=d(),t;return r[0]===n?t=r[1]:(t=()=>n(k(p())),r[0]=n,r[1]=t),l(t)}function d(){let r=(0,u.c)(4),{prepareForRun:n}=x(),{sendRun:t}=_(),e=w(g),o;return r[0]!==n||r[1]!==t||r[2]!==e?(o=async s=>{if(s.length===0)return;let c=p();return e(!0),v({cellIds:s,sendRun:t,prepareForRun:n,notebook:c})},r[0]=n,r[1]=t,r[2]=e,r[3]=o):o=r[3],l(o)}async function v({cellIds:r,sendRun:n,prepareForRun:t,notebook:e}){var m,R,h;if(r.length===0)return;let{cellHandles:o,cellData:s}=e,c=[];for(let a of r){let i=(R=(m=o[a])==null?void 0:m.current)==null?void 0:R.editorView,f;i?(F(i)!=="markdown"&&V(i),f=y(i)):f=((h=s[a])==null?void 0:h.code)||"",c.push(f),t({cellId:a})}await n({cellIds:r,codes:c}).catch(a=>{H.error(a)})}export{d as a,q as i,v as n,j as o,z as r,g as t};
