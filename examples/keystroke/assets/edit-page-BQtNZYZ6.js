const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./terminal-BfEtaTu5.js","./renderShortcut-CLenKJO6.js","./dropdown-menu-Ciqx4yT-.js","./Combination-D2HqSOvH.js","./useEventListener-4mpeqPxW.js","./compiler-runtime-QczY1yfQ.js","./react-XTZdWHwa.js","./chunk-LvLJmgfZ.js","./react-dom-BZDtXk6t.js","./jsx-runtime-DUsrKwmN.js","./menu-items-B57SjdWM.js","./cn-Cs2e4A8T.js","./clsx-FpJB9huX.js","./dist-Dj-O1Spr.js","./createLucideIcon-BJ2I6csQ.js","./check-CWbw3kKW.js","./chevron-right-B_qBg_RU.js","./kbd-EdFdwHEs.js","./tooltip-DqNvr2Rw.js","./utils-x9KlwLm7.js","./hotkeys-Dh4gy4JD.js","./jotai-D74Ef_p1.js","./_baseIsEqual-C8v2yRqO.js","./_getTag-BWqNuuwU.js","./_Uint8Array-BGESiCQL.js","./invariant-Amh6wt4N.js","./merge-5YNOh9ZD.js","./isArrayLikeObject-BkJc8lDE.js","./zod-BBqism5D.js","./state-CuOOdMwf.js","./createReducer-VgoBNe3M.js","./uuid-B8w6pjWV.js","./constants-BmIIVBf_.js","./config-CbG7e0K6.js","./Deferred-9HYzcD3r.js","./connection-B11rCPnY.js","./useDebounce-C9S6xmGh.js","./debounce-Bgq-wc7M.js","./toNumber-GB_lFVaq.js","./isSymbol-BGkTcW3U.js","./now-CAWn5i9V.js","./useEvent-l9BzRqpK.js","./copy-BS3uwoaq.js","./clipboard-paste-CyQmCtzV.js","./copy-DhmkXAPp.js","./trash-2-Du5ITnDv.js","./terminal-ByuMlBP_.css","./chat-panel-DmB_d0Jr.js","./preload-helper-g1IWzEZ-.js","./ai-model-dropdown-CO52rzQt.js","./multi-map-D3NvLiI9.js","./select-CgZgQ5hV.js","./button-D8mnDDLX.js","./requests-THIDPq-F.js","./once-BxRirs3K.js","./toDate-Y5T6FHPx.js","./capitalize-L9-XHPtm.js","./useLifecycle-8fgb5Nue.js","./toString-DlRqgfqz.js","./_baseSlice-BoaxdS7L.js","./_hasUnicode-CNlKPr15.js","./state-Blep1SQC.js","./cells-DoKM12vd.js","./badge-Cm0WUI-_.js","./use-toast-DKTyV2AR.js","./DeferredRequestRegistry-DfLQSvoS.js","./useNonce-D8CLFIrY.js","./capabilities-Bdlrhekp.js","./dist-0z0sEYV-.js","./dist-C3a_7WFa.js","./dist-BzfTz_Dx.js","./dist-DsSBESho.js","./dist-_bGPtAsk.js","./dist-DmruaXMM.js","./dist-DU0YrNRK.js","./dist-B2TjmP7E.js","./dist-BzDb7E9f.js","./stex-C4ZxI0N3.js","./cjs-Ba5CQnxe.js","./type-kFt-n-jZ.js","./_arrayReduce-DdxhySYh.js","./_baseProperty-D0ckTA0L.js","./toInteger-Cl1doThW.js","./main-CC_mbgxK.js","./cells-wU8qigWB.css","./spinner-DpaQpaiI.js","./alert-D5BMn3Et.js","./dialog-BPIq0Dmw.js","./alert-dialog-D9SwG8oA.js","./textarea-BnZHy5Jt.js","./label-4Nancvon.js","./dist-D1pae9A2.js","./input-CVoLDDk-.js","./numbers-BigybruE.js","./useNumberFormatter-B5HAJDUq.js","./context-CO64Gasq.js","./SSRProvider-DlZbKHsu.js","./usePress-DHxqjtDm.js","./links-Iv0WhyKW.js","./popover-DZBXSGEz.js","./switch-Ct8mUApv.js","./table-CesNYRF-.js","./tabs-BjAbB8w_.js","./client-DDEDbGlo.js","./useHotkey-B0ylhc2m.js","./api-CoLss8_O.js","./mode-DKDAYLK9.js","./useAsyncData-_-DLduEH.js","./error-banner-C9tkg1MX.js","./useTheme-DpA-8Qyy.js","./VisuallyHidden-RqykLBKh.js","./get-CyLJYAfP.js","./memoize-DN0TMY36.js","./plug-IYnVc4GF.js","./circle-x-Cc9X6U_B.js","./plus-CiGrWbgb.js","./refresh-cw-BOc7UXm9.js","./triangle-alert-Bf1kg4xT.js","./shim-D-ElLTBO.js","./useDeleteCell-BDBSmjLV.js","./lazy-Cbg8zRvU.js","./tooltip-CSAGVmjx.js","./vega-loader.browser-DZ31-605.js","./precisionRound-CQhbsDNz.js","./defaultLocale-8c1ixjJ_.js","./defaultLocale-BECdiY5x.js","./chat-components-BVZ6LIFC.js","./file-text-O5IflCIn.js","./file-CqXxt3_J.js","./image-pHMJgfaR.js","./add-cell-with-ai-85tnyxYo.js","./Output-DxdWGPFi.js","./ErrorBoundary-6EjkHrSV.js","./MarimoErrorOutput-Bh7Bgl2Z.js","./cell-link-BiAu_8pk.js","./ImperativeModal-ameyIrhc.js","./state-i7G4J1VS.js","./copy-icon-Lyk2_Z8G.js","./focus-CyxSol0W.js","./RenderHTML-Dlz0Ew2i.js","./useRunCells-DT1En-Te.js","./purify.es-hXMlfS4W.js","./add-missing-import-DV1FOw9w.js","./useIframeCapabilities-r0LQMxAQ.js","./LazyAnyLanguageCodeMirror-C7KtNlRp.js","./formats-C3exma5i.js","./maps-D4abje2p.js","./en-US-Lc4gASCJ.js","./isValid-Cd_L_2Pm.js","./download-CCvBQ7qL.js","./extends-C2lJEiP_.js","./emotion-is-prop-valid.esm-c4A1huxA.js","./useDateFormatter-BMdQ9MI_.js","./chunk-T7OEMACY-CdGEwedE.js","./katex-BmfUoCWW.js","./marked.esm-idL59iHw.js","./range-Bbli-TEL.js","./table-kHJ0xpFt.js","./Output-DUep6sC9.css","./ConsoleOutput-D8ETq-cc.js","./name-cell-input-C6ZYU6mN.js","./esm-DnNh7vdQ.js","./dist-CqHWOZu2.js","./dist-BcLYYUSi.js","./dist-BVXr6b5T.js","./dist-BrEX5EQl.js","./dist-CalRK9ms.js","./dist-Cc4T7UUX.js","./dist-D3MC5WiF.js","./dist-DgaCIZAa.js","./dist-rqHtY98i.js","./dist-tj-jaP-y.js","./dist-w7c0BKrD.js","./dist-CCZcRJI9.js","./dist-CrDb6akR.js","./apl-BQt6lLuE.js","./asciiarmor-BjX7bs0j.js","./asn1-xn1MtyoW.js","./brainfuck-BjO-UY1i.js","./clike-DW9tQWfF.js","./clojure-BSW96HRx.js","./cmake-C7UlMfz3.js","./cobol-CyWIev3Y.js","./coffeescript-DTvziYTK.js","./commonlisp-yMdkdGMi.js","./crystal-BGnoSp3z.js","./css-D7fWzevp.js","./cypher-Cr1dl0Qf.js","./d-C2bS5bA6.js","./diff-B2mHQyn6.js","./dtd-Cy-lUE7p.js","./dylan-mm60grwk.js","./ecl-Cqi05Wy1.js","./eiffel-FkvfLQq7.js","./elm-Da5txHw0.js","./erlang-CdnCEH5x.js","./factor-CamlR8EJ.js","./simple-mode-B185hCuE.js","./forth-UcMX0m31.js","./fortran-DZ_vNVsP.js","./gas-CM88o6Zj.js","./gherkin-BhrpTeN9.js","./groovy-BFju68Wx.js","./haskell-CrWHY4et.js","./haxe-1eKW-tbO.js","./idl-Do4AwvU2.js","./javascript-CTXZKRYd.js","./julia-BRynwHI4.js","./livescript-ZmIBNA-I.js","./lua-mUfZ-MRC.js","./mathematica-Dil5dTHO.js","./mbox-Dnkn9wSr.js","./mirc-auEWieOB.js","./mllike-xVJsauJ8.js","./modelica-B8kajVDm.js","./mscgen-Bsnta1jn.js","./mumps-CMw16b5q.js","./nsis-DwPdi8sw.js","./ntriples-O5lQxirn.js","./octave-CMfAar-E.js","./oz-CLRI9Qww.js","./pascal-D2M_3HBx.js","./perl-B8lV7aKt.js","./pig-Bima2bfE.js","./powershell-v_t41ydu.js","./properties-ChrStSby.js","./protobuf-Bin6kmlf.js","./pug-UWVdYLYW.js","./puppet-DYrtWvYn.js","./python-BuKrulde.js","./q-CrXUTiVN.js","./r-Bk2Tiso2.js","./rpm-CmmZphz3.js","./ruby-ElyOTVeQ.js","./sas-jE3ZlG0K.js","./scheme-CZF1tRbv.js","./shell-LqT3ZqMa.js","./sieve-y15yT7Pp.js","./smalltalk-pk5PvsMs.js","./sparql-DTZ_gfPQ.js","./stylus-CrGj0eNT.js","./swift-tt3PlBbI.js","./tcl-1P4b0GMJ.js","./textile-BHDIuMYh.js","./toml-C8qoqk_i.js","./troff-DMiF5Zmz.js","./ttcn-cfg-qLZtNU-E.js","./ttcn-BAUp3RZn.js","./turtle-BizIwmKv.js","./vb-Bn_uCxNL.js","./vbscript-BTKW8Atx.js","./velocity-CcB05fpi.js","./verilog-BWdtOJH8.js","./vhdl-CzFOaOHx.js","./webidl-DDEKCqSy.js","./xquery-BcF6ZhQP.js","./yacas-BARQAiXa.js","./z80-DO_Ep0iT.js","./esm-Crqxhl3F.js","./objectWithoutPropertiesLoose-DDabolgJ.js","./trash-Df8Wb7xS.js","./ConsoleOutput-BFFTcC5Y.css","./icons-BgmgMjOV.js","./blob-LiDbeYko.js","./empty-state-CtIzF2yM.js","./isEmpty-BfhpmxfA.js","./send-LAFRRDPT.js","./settings-DznrHqbd.js","./square-DhlBDqyx.js","./prop-types-WJwGTMoZ.js","./dist-DL3W3q-2.js","./agent-panel-DYImRX_E.js","./dist-BFEiMwlb.js","./file-video-camera-BGBfFNDn.js","./square-terminal-B06884s0.js","./agent-panel-uD4NfS9H.css","./dependency-graph-panel-BBQM7WwP.js","./useCellActionButton-DRUjpqMM.js","./useSplitCell-wt-T-D4e.js","./multi-icon-Dnb94CLD.js","./multi-icon-DSUEmPTU.css","./circle-plus-CWw6FFFQ.js","./code-xml-DdSOsi73.js","./eye-off-BUwXWtH0.js","./link-sJ9629pM.js","./TinyCode-JBJVbMa1.js","./TinyCode-ujOhus_y.css","./cell-actions-CBajTMlK.js","./common-_SQxO_7D.js","./timer-D2G71OJg.js","./src-QnP78R9F.js","./ellipsis-vertical-BwOc6684.js","./square-function-D5EEjILG.js","./workflow-P45nvvj1.js","./dependency-graph-panel-DZccg5W0.css","./datasources-panel-BR7VWQHN.js","./column-preview-DGBk0umL.js","./useInstallPackage-BaAhpZlP.js","./useAddCell-DYfGo4T8.js","./write-secret-modal-BzN5guwU.js","./field-Dov6YyOV.js","./add-database-form-DBS3hYh9.js","./form-600t_Civ.js","./toggle-PGHtwx2G.js","./refresh-ccw-aU2rUkrI.js","./request-registry-C63UedrO.js","./_createAggregator-B8OM2ewp.js","./_baseEach-BF2kwG5N.js","./hasIn-CE-pxQP-.js","./_baseFlatten-rM2FaX4x.js","./_baseMap-YVENDCRp.js","./sortBy-CfggJgsW.js","./documentation-panel-CZOARzaH.js","./text-search-CcPZiv5m.js","./error-panel-CoRMSyS6.js","./file-explorer-panel-A-HgEq7S.js","./icon-32x32-f_4ruwk4.js","./types-BMriRmf-.js","./Inputs-BO2OWWt5.js","./Inputs-DhSJqk9N.css","./links-0dNkuE8k.js","./es-DAmFxw3U.js","./tree-DsO47ckh.js","./arrow-left-AxrVesxI.js","./download-Dmmu2U4a.js","./file-plus-corner-D68rHl-l.js","./save-CdEr1MvH.js","./bundle.esm-C-9IAWQU.js","./logs-panel-DF3rTPtw.js","./clear-button-ugfNDMMT.js","./outline-panel-B9b7jg_T.js","./floating-outline-DmCT2Mvg.js","./scroll-text-DsPtN8SD.js","./outline-panel-CznnMchd.css","./packages-panel-Cd2wcawn.js","./constants-BHucZ-1O.js","./scratchpad-panel-CLxfQphC.js","./loro_wasm_bg-CTr3_1Qc.js","./cell-editor-CNIw28Dr.js","./readonly-python-code-CkaJ4Tks.js","./layout-D1r2uzeH.js","./ellipsis-CTI4YSrp.js","./layout-BMz7tbdg.css","./globals-oV9pRUSB.js","./useInterval-DwG7yiQ-.js","./circle-check-CnXWPDK7.js","./ws-DMpROw4m.js","./cell-editor-C7k6JBQn.css","./kiosk-mode-Bbz5NAh7.js","./secrets-panel-BQ5Z5pFE.js","./snippets-panel-y1TFQ2Lx.js","./snippets-panel-CWBErCuZ.css","./tracing-panel-N7N0uMFT.js","./variable-panel-XIW0Hu1K.js","./cache-panel-Sj4ZMN3Y.js","./requests-Bk4IAcHu.js","./database-zap-B1rUtjms.js","./command-palette-DzEvWYma.js","./useNotebookActions-BHR_ldsB.js","./types-DQ8fCbJK.js","./share-DjbnD3WE.js","./activity-DtMyQYx4.js","./youtube-DGOqQjPk.js","./globe-vMZtva7z.js"])))=>i.map(i=>d[i]);
var am=Object.defineProperty;var sm=(Ue,Ke,xt)=>Ke in Ue?am(Ue,Ke,{enumerable:!0,configurable:!0,writable:!0,value:xt}):Ue[Ke]=xt;var ra=(Ue,Ke,xt)=>sm(Ue,typeof Ke!="symbol"?Ke+"":Ke,xt);import{s as na}from"./chunk-LvLJmgfZ.js";import{a as im,c as ee,d as or,l as jt,n as ht,r as om,s as At,u as la}from"./jotai-D74Ef_p1.js";import{t as cm}from"./react-XTZdWHwa.js";import{$ as dm,At as aa,Br as um,C as mm,Ct as hm,En as pm,J as sa,Ln as fm,M as Pt,Mt as Be,N as xm,Nr as gm,O as bm,P as vm,Rn as ia,S as ym,St as jm,T as Lt,Tn as wm,Ur as _m,Vn as Qr,X as Nm,Z as Cm,_ as km,_n as Zr,_r as Sm,a as oa,at as Im,b as Em,bn as zm,d as ca,dr as da,et as ua,gn as cr,k as en,kt as dr,l as ur,m as Rm,mn as Dm,o as Mm,on as Tm,p as mr,q as tn,qt as ma,r as Om,s as Am,t as Pm,tt as Lm,ur as Fm,v as Wm,vn as Vm,w as Fe,wr as Bm,y as rn,yt as hr,__tla as Hm}from"./cells-DoKM12vd.js";import{t as qm}from"./react-dom-BZDtXk6t.js";import{I as $m,P as ha,R as pa,V as Um}from"./zod-BBqism5D.js";import{t as q}from"./compiler-runtime-QczY1yfQ.js";import"./_Uint8Array-BGESiCQL.js";import"./isSymbol-BGkTcW3U.js";import"./toString-DlRqgfqz.js";import"./toNumber-GB_lFVaq.js";import"./toInteger-Cl1doThW.js";import"./isArrayLikeObject-BkJc8lDE.js";import"./_getTag-BWqNuuwU.js";import"./_baseIsEqual-C8v2yRqO.js";import"./get-CyLJYAfP.js";import"./memoize-DN0TMY36.js";import"./merge-5YNOh9ZD.js";import"./_baseSlice-BoaxdS7L.js";import{i as fa,t as xa}from"./useLifecycle-8fgb5Nue.js";import"./_hasUnicode-CNlKPr15.js";import"./capitalize-L9-XHPtm.js";import"./_arrayReduce-DdxhySYh.js";import{a as Km}from"./type-kFt-n-jZ.js";import"./_baseEach-BF2kwG5N.js";import"./hasIn-CE-pxQP-.js";import"./_baseProperty-D0ckTA0L.js";import"./_createAggregator-B8OM2ewp.js";import"./now-CAWn5i9V.js";import{t as Gm}from"./debounce-Bgq-wc7M.js";import"./tooltip-CSAGVmjx.js";import"./_baseSet-CKSmZC_I.js";import"./add-database-form-DBS3hYh9.js";import"./range-Bbli-TEL.js";import{A as ga,C as Ft,D as Xm,E as ba,O as pr,S as fr,_ as Ym,a as nn,b as Wt,c as va,d as Jm,f as Qm,g as ya,h as Zm,i as e0,k as ja,l as xr,m as Vt,n as wt,o as _t,p as ln,r as an,s as Xe,t as gr,u as sn,v as rt,w as t0,x as br,y as Bt}from"./utilities.esm-DvrcU9Ky.js";import{a as r0,c as wa,i as n0,o as l0,r as a0}from"./client-DDEDbGlo.js";import{d as Nt,u as We}from"./hotkeys-Dh4gy4JD.js";import{t as Ht}from"./invariant-Amh6wt4N.js";import{E as s0,T as i0,_ as o0,b as c0,f as d0,g as u0,n as m0,r as _a,v as on,x as h0}from"./utils-x9KlwLm7.js";import{n as cn,r as p0,t as dn}from"./constants-BmIIVBf_.js";import{_ as Ct,a as f0,o as x0}from"./config-CbG7e0K6.js";import"./api-CoLss8_O.js";import{n as g0}from"./globals-oV9pRUSB.js";import{t as Na}from"./ErrorBoundary-6EjkHrSV.js";import{t as b0}from"./useEventListener-4mpeqPxW.js";import{t as v0}from"./jsx-runtime-DUsrKwmN.js";import{i as y0,r as vr,t as ie}from"./button-D8mnDDLX.js";import{n as yr}from"./clsx-FpJB9huX.js";import{n as j0,t as K}from"./cn-Cs2e4A8T.js";import{at as w0,zt as un}from"./dist-C3a_7WFa.js";import{o as _0}from"./dist-BzfTz_Dx.js";import{$ as mn,T as hn,d as N0,f as C0,h as k0,it as S0,m as I0,nt as E0,p as z0,t as pn}from"./Output-DxdWGPFi.js";import{r as R0,u as D0}from"./once-BxRirs3K.js";import"./capabilities-Bdlrhekp.js";import"./cjs-Ba5CQnxe.js";import"./createReducer-VgoBNe3M.js";import{r as Ye,t as M0}from"./requests-THIDPq-F.js";import{c as T0,l as O0,o as A0}from"./dist-0z0sEYV-.js";import"./dist-BzDb7E9f.js";import{t as Re}from"./createLucideIcon-BJ2I6csQ.js";import"./activity-DtMyQYx4.js";import{c as P0,l as fn,__tla as L0}from"./layout-D1r2uzeH.js";import{t as F0}from"./arrow-left-AxrVesxI.js";import{r as W0,t as V0}from"./cell-actions-CBajTMlK.js";import{a as B0,b as Ca,o as H0,r as q0,t as $0,v as xn}from"./add-cell-with-ai-85tnyxYo.js";import{r as U0,t as K0}from"./CellStatus-CyzBn3dY.js";import{__tla as G0}from"./LazyAnyLanguageCodeMirror-C7KtNlRp.js";import"./ai-model-dropdown-CO52rzQt.js";import{a as kt,f as X0,l as Y0,n as ka,p as gn}from"./state-Blep1SQC.js";import{i as J0,r as Q0,t as Z0}from"./useBoolean-Dmwks1uh.js";import"./table-kHJ0xpFt.js";import{t as eh}from"./check-CWbw3kKW.js";import{_ as pt,g as bn,h as He,l as vn}from"./select-CgZgQ5hV.js";import{t as yn}from"./chevron-right-B_qBg_RU.js";import{c as th}from"./download-CCvBQ7qL.js";import"./maps-D4abje2p.js";import{a as rh,c as nh,i as qe,n as lh,r as $e,s as ah,t as sh}from"./useCellActionButton-DRUjpqMM.js";import"./plug-IYnVc4GF.js";import{t as Sa}from"./circle-check-CnXWPDK7.js";import{a as Ia,c as ih,d as oh,i as ch,l as dh,n as uh,o as mh,r as hh,s as ph,t as fh,u as xh}from"./useNotebookActions-BHR_ldsB.js";import"./circle-plus-CWw6FFFQ.js";import{u as Ea}from"./toDate-Y5T6FHPx.js";import{t as gh}from"./circle-x-Cc9X6U_B.js";import{P as bh,a as nt,c as ft,d as vh,f as yh,n as za,o as jh,p as lt,r as at,s as wh,t as st,u as _h}from"./dropdown-menu-Ciqx4yT-.js";import{t as Nh}from"./clipboard-paste-CyQmCtzV.js";import{t as Ch}from"./code-xml-DdSOsi73.js";import{t as kh}from"./copy-DhmkXAPp.js";import"./database-zap-B1rUtjms.js";import"./download-Dmmu2U4a.js";import{t as jn}from"./ellipsis-CTI4YSrp.js";import{t as Sh}from"./eye-off-BUwXWtH0.js";import"./file-video-camera-BGBfFNDn.js";import"./types-BMriRmf-.js";import{_ as Ih,a as wn,c as Eh,d as zh,f as Ra,g as Rh,h as Dh,i as Mh,l as Th,m as qt,n as Da,o as Oh,p as Ah,r as Ph,s as Ma,t as Ta,u as Lh,v as _n,__tla as Fh}from"./cell-editor-CNIw28Dr.js";import"./file-plus-corner-D68rHl-l.js";import"./file-text-O5IflCIn.js";import"./file-CqXxt3_J.js";import"./youtube-DGOqQjPk.js";import"./globe-vMZtva7z.js";import{a as Wh,c as Vh,d as Bh,f as Hh,i as qh,l as Oa,n as $h,o as Uh,p as Kh,r as Aa,s as Gh,t as Xh,u as Pa}from"./panels-Cv8l8sD5.js";import{t as Yh}from"./image-pHMJgfaR.js";import"./DeferredRequestRegistry-DfLQSvoS.js";import"./link-sJ9629pM.js";import{n as Jh,t as jr}from"./spinner-DpaQpaiI.js";import{t as Qh}from"./readonly-python-code-CkaJ4Tks.js";import"./MarimoErrorOutput-Bh7Bgl2Z.js";import{r as $t}from"./name-cell-input-C6ZYU6mN.js";import{t as Nn}from"./plus-CiGrWbgb.js";import{n as Zh,r as Ut,t as e1}from"./app-config-button-DJ3IRas4.js";import{t as t1}from"./refresh-ccw-aU2rUkrI.js";import"./refresh-cw-BOc7UXm9.js";import{n as r1,t as n1}from"./square-terminal-B06884s0.js";import"./save-CdEr1MvH.js";import"./scroll-text-DsPtN8SD.js";import{J as l1,ot as La,q as a1,r as Cn,st as s1}from"./input-CVoLDDk-.js";import"./settings-DznrHqbd.js";import{t as Fa}from"./ConsoleOutput-D8ETq-cc.js";import{a as wr,n as Wa}from"./state-i7G4J1VS.js";import{t as i1}from"./square-function-D5EEjILG.js";import{a as o1,c as c1,d as d1,g as u1,i as m1,l as h1,p as p1,y as f1}from"./textarea-BnZHy5Jt.js";import{t as Va}from"./square-DhlBDqyx.js";import"./text-search-CcPZiv5m.js";import{t as Ba}from"./trash-2-Du5ITnDv.js";import"./trash-Df8Wb7xS.js";import{t as kn}from"./triangle-alert-Bf1kg4xT.js";import"./workflow-P45nvvj1.js";import"./badge-Cm0WUI-_.js";import{t as Ne}from"./preload-helper-g1IWzEZ-.js";import"./dist-DsSBESho.js";import"./dist-_bGPtAsk.js";import"./dist-DmruaXMM.js";import"./dist-DU0YrNRK.js";import"./dist-B2TjmP7E.js";import"./stex-C4ZxI0N3.js";import"./Deferred-9HYzcD3r.js";import"./uuid-B8w6pjWV.js";import{t as Kt}from"./use-toast-DKTyV2AR.js";import"./main-CC_mbgxK.js";import"./useNonce-D8CLFIrY.js";import{i as x1,n as g1,r as Ha,s as it,t as St}from"./connection-B11rCPnY.js";import{n as b1}from"./useTheme-DpA-8Qyy.js";import"./Combination-D2HqSOvH.js";import"./dist-Dj-O1Spr.js";import{i as qa,s as _r,t as ne}from"./tooltip-DqNvr2Rw.js";import{o as v1}from"./menu-items-B57SjdWM.js";import"./en-US-Lc4gASCJ.js";import"./isValid-Cd_L_2Pm.js";import{a as y1,r as j1}from"./mode-DKDAYLK9.js";import"./alert-dialog-D9SwG8oA.js";import{a as w1,c as _1,n as N1,r as C1}from"./dialog-BPIq0Dmw.js";import{i as Sn,o as k1}from"./VisuallyHidden-RqykLBKh.js";import{I as S1,T as $a}from"./usePress-DHxqjtDm.js";import"./SSRProvider-DlZbKHsu.js";import"./useDateFormatter-BMdQ9MI_.js";import{t as Ua}from"./context-CO64Gasq.js";import{t as Nr}from"./useNumberFormatter-B5HAJDUq.js";import"./shim-D-ElLTBO.js";import{t as Se}from"./useHotkey-B0ylhc2m.js";import"./numbers-BigybruE.js";import{n as je,t as I1}from"./useEvent-l9BzRqpK.js";import"./useDebounce-C9S6xmGh.js";import{n as E1}from"./ImperativeModal-ameyIrhc.js";import"./share-DjbnD3WE.js";import{t as It}from"./error-banner-C9tkg1MX.js";import"./vega-loader.browser-DZ31-605.js";import"./precisionRound-CQhbsDNz.js";import"./defaultLocale-8c1ixjJ_.js";import"./defaultLocale-BECdiY5x.js";import{t as z1}from"./copy-BS3uwoaq.js";import"./copy-icon-Lyk2_Z8G.js";import{t as R1}from"./RenderHTML-Dlz0Ew2i.js";import"./purify.es-hXMlfS4W.js";import{a as Ka,i as In,o as D1,r as M1}from"./useRunCells-DT1En-Te.js";import"./multi-map-D3NvLiI9.js";import"./emotion-is-prop-valid.esm-c4A1huxA.js";import"./extends-C2lJEiP_.js";import"./prop-types-WJwGTMoZ.js";import"./objectWithoutPropertiesLoose-DDabolgJ.js";import"./alert-D5BMn3Et.js";import{n as En}from"./useAsyncData-_-DLduEH.js";import{t as T1}from"./kbd-EdFdwHEs.js";import{a as Je,i as O1,n as A1,r as zn,t as P1}from"./renderShortcut-CLenKJO6.js";import"./dist-D1pae9A2.js";import"./label-4Nancvon.js";import{i as L1,r as F1,t as W1}from"./popover-DZBXSGEz.js";import{a as V1,i as B1,o as H1,t as q1}from"./cell-link-BiAu_8pk.js";import"./dist-CqHWOZu2.js";import"./dist-BcLYYUSi.js";import"./dist-BVXr6b5T.js";import"./dist-BrEX5EQl.js";import"./dist-CalRK9ms.js";import"./dist-Cc4T7UUX.js";import"./dist-D3MC5WiF.js";import"./dist-DgaCIZAa.js";import"./dist-rqHtY98i.js";import"./dist-w7c0BKrD.js";import"./dist-CCZcRJI9.js";import"./dist-CrDb6akR.js";import"./apl-BQt6lLuE.js";import"./asciiarmor-BjX7bs0j.js";import"./asn1-xn1MtyoW.js";import"./brainfuck-BjO-UY1i.js";import"./cobol-CyWIev3Y.js";import"./clike-DW9tQWfF.js";import"./clojure-BSW96HRx.js";import"./css-D7fWzevp.js";import"./cmake-C7UlMfz3.js";import"./coffeescript-DTvziYTK.js";import"./commonlisp-yMdkdGMi.js";import"./cypher-Cr1dl0Qf.js";import"./python-BuKrulde.js";import"./crystal-BGnoSp3z.js";import"./d-C2bS5bA6.js";import"./diff-B2mHQyn6.js";import"./dtd-Cy-lUE7p.js";import"./dylan-mm60grwk.js";import"./ecl-Cqi05Wy1.js";import"./eiffel-FkvfLQq7.js";import"./elm-Da5txHw0.js";import"./erlang-CdnCEH5x.js";import"./simple-mode-B185hCuE.js";import"./factor-CamlR8EJ.js";import"./forth-UcMX0m31.js";import"./fortran-DZ_vNVsP.js";import"./mllike-xVJsauJ8.js";import"./gas-CM88o6Zj.js";import"./gherkin-BhrpTeN9.js";import"./groovy-BFju68Wx.js";import"./haskell-CrWHY4et.js";import"./haxe-1eKW-tbO.js";import"./idl-Do4AwvU2.js";import"./javascript-CTXZKRYd.js";import"./esm-DnNh7vdQ.js";import"./julia-BRynwHI4.js";import"./livescript-ZmIBNA-I.js";import"./lua-mUfZ-MRC.js";import"./mirc-auEWieOB.js";import"./mathematica-Dil5dTHO.js";import"./modelica-B8kajVDm.js";import"./mumps-CMw16b5q.js";import"./mbox-Dnkn9wSr.js";import"./nsis-DwPdi8sw.js";import"./ntriples-O5lQxirn.js";import"./octave-CMfAar-E.js";import"./oz-CLRI9Qww.js";import"./pascal-D2M_3HBx.js";import"./perl-B8lV7aKt.js";import"./pig-Bima2bfE.js";import"./powershell-v_t41ydu.js";import"./properties-ChrStSby.js";import"./protobuf-Bin6kmlf.js";import"./pug-UWVdYLYW.js";import"./puppet-DYrtWvYn.js";import"./q-CrXUTiVN.js";import"./r-Bk2Tiso2.js";import"./rpm-CmmZphz3.js";import"./ruby-ElyOTVeQ.js";import"./sas-jE3ZlG0K.js";import"./scheme-CZF1tRbv.js";import"./shell-LqT3ZqMa.js";import"./sieve-y15yT7Pp.js";import"./smalltalk-pk5PvsMs.js";import"./sparql-DTZ_gfPQ.js";import"./stylus-CrGj0eNT.js";import"./swift-tt3PlBbI.js";import"./verilog-BWdtOJH8.js";import"./tcl-1P4b0GMJ.js";import"./textile-BHDIuMYh.js";import"./toml-C8qoqk_i.js";import"./troff-DMiF5Zmz.js";import"./ttcn-BAUp3RZn.js";import"./ttcn-cfg-qLZtNU-E.js";import"./turtle-BizIwmKv.js";import"./webidl-DDEKCqSy.js";import"./vb-Bn_uCxNL.js";import"./vbscript-BTKW8Atx.js";import"./velocity-CcB05fpi.js";import"./vhdl-CzFOaOHx.js";import"./xquery-BcF6ZhQP.js";import"./yacas-BARQAiXa.js";import"./z80-DO_Ep0iT.js";import"./mscgen-Bsnta1jn.js";import"./dist-tj-jaP-y.js";import"./esm-Crqxhl3F.js";import{t as $1}from"./links-Iv0WhyKW.js";import"./useIframeCapabilities-r0LQMxAQ.js";import{__tla as U1}from"./lazy-Cbg8zRvU.js";import{i as Ga,r as K1,t as G1}from"./tabs-BjAbB8w_.js";import{a as X1,t as Y1}from"./focus-CyxSol0W.js";import"./formats-C3exma5i.js";import{__tla as J1}from"./chunk-T7OEMACY-CdGEwedE.js";import"./katex-BmfUoCWW.js";import"./marked.esm-idL59iHw.js";import"./dist-DL3W3q-2.js";import{n as Cr}from"./add-missing-import-DV1FOw9w.js";import"./table-CesNYRF-.js";import"./blob-LiDbeYko.js";import{n as Xa,r as Q1,t as Ya}from"./useDeleteCell-BDBSmjLV.js";import{n as Z1,t as ep}from"./icons-BgmgMjOV.js";import"./form-600t_Civ.js";import"./useAddCell-DYfGo4T8.js";import{t as Rn}from"./toggle-PGHtwx2G.js";import"./field-Dov6YyOV.js";import{t as Ja}from"./switch-Ct8mUApv.js";import{t as tp}from"./floating-outline-DmCT2Mvg.js";import"./dist-BFEiMwlb.js";import"./requests-Bk4IAcHu.js";import"./request-registry-C63UedrO.js";import"./write-secret-modal-BzN5guwU.js";import"./TinyCode-JBJVbMa1.js";import"./multi-icon-Dnb94CLD.js";import"./useSplitCell-wt-T-D4e.js";import"./links-0dNkuE8k.js";import{t as ot}from"./Inputs-BO2OWWt5.js";import"./constants-BHucZ-1O.js";import{__tla as rp}from"./loro_wasm_bg-CTr3_1Qc.js";import"./ws-DMpROw4m.js";import{t as Qa}from"./useInterval-DwG7yiQ-.js";import{n as np,t as Za}from"./kiosk-mode-Bbz5NAh7.js";import"./types-DQ8fCbJK.js";import"./runs-Ba7Js-Mw.js";let es,lp=Promise.all([(()=>{try{return Hm}catch{}})(),(()=>{try{return L0}catch{}})(),(()=>{try{return G0}catch{}})(),(()=>{try{return Fh}catch{}})(),(()=>{try{return U1}catch{}})(),(()=>{try{return J1}catch{}})(),(()=>{try{return rp}catch{}})()]).then(async()=>{var Ue=Re("cloud-download",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]),Ke=Re("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),xt=Re("hard-drive-download",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]),ts=Re("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),rs=Re("memory-stick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]),ns=Re("message-circle-question-mark",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ls=Re("microchip",[["path",{d:"M18 12h2",key:"quuxs7"}],["path",{d:"M18 16h2",key:"zsn3lv"}],["path",{d:"M18 20h2",key:"9x5y9y"}],["path",{d:"M18 4h2",key:"1luxfb"}],["path",{d:"M18 8h2",key:"nxqzg"}],["path",{d:"M4 12h2",key:"1ltxp0"}],["path",{d:"M4 16h2",key:"8a5zha"}],["path",{d:"M4 20h2",key:"27dk57"}],["path",{d:"M4 4h2",key:"10groj"}],["path",{d:"M4 8h2",key:"18vq6w"}],["path",{d:"M8 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-1.5c-.276 0-.494.227-.562.495a2 2 0 0 1-3.876 0C9.994 2.227 9.776 2 9.5 2z",key:"1681fp"}]]),as=Re("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]),ss=Re("package-check",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Dn=Re("package-x",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]),is=Re("regex",[["path",{d:"M17 3v10",key:"15fgeh"}],["path",{d:"m12.67 5.5 8.66 5",key:"1gpheq"}],["path",{d:"m12.67 10.5 8.66-5",key:"1dkfa6"}],["path",{d:"M9 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2z",key:"swwfx4"}]]),os=Re("square-code",[["path",{d:"m10 9-3 3 3 3",key:"1oro0q"}],["path",{d:"m14 15 3-3-3-3",key:"bz13h7"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]),cs=Re("square-m",[["path",{d:"M8 16V8.5a.5.5 0 0 1 .9-.3l2.7 3.599a.5.5 0 0 0 .8 0l2.7-3.6a.5.5 0 0 1 .9.3V16",key:"1ywlsj"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]),ds=Re("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),us=Re("whole-word",[["circle",{cx:"7",cy:"12",r:"3",key:"12clwm"}],["path",{d:"M10 9v6",key:"17i7lo"}],["circle",{cx:"17",cy:"12",r:"3",key:"gl7c2s"}],["path",{d:"M14 7v8",key:"dl84cr"}],["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]]),y=na(cm(),1);function ms(t,e){let{"aria-label":r,"aria-labelledby":l,orientation:a="horizontal"}=t,[s,i]=(0,y.useState)(!1);S1(()=>{var f;i(!!(e.current&&((f=e.current.parentElement)!=null&&f.closest('[role="toolbar"]'))))});let{direction:o}=Ua(),d=o==="rtl"&&a==="horizontal",c=k1(e),m=f=>{if(f.currentTarget.contains(f.target)){if(a==="horizontal"&&f.key==="ArrowRight"||a==="vertical"&&f.key==="ArrowDown")d?c.focusPrevious():c.focusNext();else if(a==="horizontal"&&f.key==="ArrowLeft"||a==="vertical"&&f.key==="ArrowUp")d?c.focusNext():c.focusPrevious();else if(f.key==="Tab"){f.stopPropagation(),u.current=document.activeElement,f.shiftKey?c.focusFirst():c.focusLast();return}else return;f.stopPropagation(),f.preventDefault()}},u=(0,y.useRef)(null),h=f=>{!f.currentTarget.contains(f.relatedTarget)&&!u.current&&(u.current=f.target)},p=f=>{var x;if(u.current&&!f.currentTarget.contains(f.relatedTarget)&&((x=e.current)!=null&&x.contains(f.target))){var g;(g=u.current)==null||g.focus(),u.current=null}};return{toolbarProps:{...La(t,{labelable:!0}),role:s?"group":"toolbar","aria-orientation":a,"aria-label":r,"aria-labelledby":r==null?l:void 0,onKeyDownCapture:s?void 0:m,onFocusCapture:s?void 0:p,onBlurCapture:s?void 0:h}}}var hs=(0,y.createContext)({}),ps=(0,y.forwardRef)(function(t,e){[t,e]=a1(t,e,hs);let{toolbarProps:r}=ms(t,e),l=l1({...t,values:{orientation:t.orientation||"horizontal"},defaultClassName:"react-aria-Toolbar"}),a=La(t,{global:!0});return delete a.id,y.createElement("div",{...$a(a,l,r),ref:e,slot:t.slot||void 0,"data-orientation":t.orientation||"horizontal"},l.children)}),fs=q(),n=na(v0(),1);const xs=t=>{let e=(0,fs.c)(33),{disabled:r,tooltip:l}=t,a=r===void 0?!1:r,s=l===void 0?"Actions":l,i=fh(),{locale:o}=Ua(),d;e[0]===s?d=e[1]:(d=(0,n.jsx)("div",{children:s}),e[0]=s,e[1]=d);let c;e[2]===a?c=e[3]:(c=!a&&(0,n.jsxs)("div",{className:"text-xs text-muted-foreground font-medium pt-1 -mt-2 border-t border-border flex items-center gap-2",children:[(0,n.jsx)("span",{children:"Open command palette"}),Je("global.commandPalette",!1)]}),e[2]=a,e[3]=c);let m;e[4]!==d||e[5]!==c?(m=(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[d,c]}),e[4]=d,e[5]=c,e[6]=m):m=e[6];let u=m,h=a?"disabled":"hint-green",p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsx)(Kh,{strokeWidth:1.8}),e[7]=p):p=e[7];let f;e[8]===u?f=e[9]:(f=(0,n.jsx)(ne,{content:u,children:p}),e[8]=u,e[9]=f);let g;e[10]!==a||e[11]!==h||e[12]!==f?(g=(0,n.jsx)(ot,{"aria-label":"Config",shape:"circle",size:"small",className:"h-[27px] w-[27px]","data-testid":"notebook-menu-dropdown",disabled:a,color:h,children:f}),e[10]=a,e[11]=h,e[12]=f,e[13]=g):g=e[13];let x=g,b=gs,v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=z=>{let R=(0,n.jsx)(nt,{variant:z.variant,disabled:z.disabled,onSelect:T=>z.handle(T),"data-testid":`notebook-menu-dropdown-${z.label}`,children:b(z)},z.label);return z.tooltip?(0,n.jsx)(ne,{content:z.tooltip,side:"left",delayDuration:100,children:(0,n.jsx)("span",{children:R})},z.label):R},e[14]=v):v=e[14];let j=v,w;e[15]!==x||e[16]!==a?(w=(0,n.jsx)(lt,{asChild:!0,disabled:a,children:x}),e[15]=x,e[16]=a,e[17]=w):w=e[17];let _;if(e[18]!==i){let z;e[20]===Symbol.for("react.memo_cache_sentinel")?(z=R=>R.hidden?null:R.dropdown?(0,n.jsxs)(_h,{children:[(0,n.jsx)(yh,{"data-testid":`notebook-menu-dropdown-${R.label}`,children:b(R)}),(0,n.jsx)(wh,{children:(0,n.jsx)(vh,{children:R.dropdown.map(T=>(0,n.jsxs)(y.Fragment,{children:[T.divider&&(0,n.jsx)(ft,{}),j(T)]},T.label))})})]},R.label):(0,n.jsxs)(y.Fragment,{children:[R.divider&&(0,n.jsx)(ft,{}),j(R)]},R.label),e[20]=z):z=e[20],_=i.map(z),e[18]=i,e[19]=_}else _=e[19];let N;e[21]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.jsx)(ft,{}),e[21]=N):N=e[21];let C;e[22]===o?C=e[23]:(C=(0,n.jsxs)("span",{children:["Locale: ",o]}),e[22]=o,e[23]=C);let S;e[24]===Symbol.for("react.memo_cache_sentinel")?(S=(0,n.jsxs)("span",{children:["Version: ",g0()]}),e[24]=S):S=e[24];let I;e[25]===C?I=e[26]:(I=(0,n.jsxs)("div",{className:"flex-1 px-2 text-xs text-muted-foreground flex flex-col gap-1",children:[C,S]}),e[25]=C,e[26]=I);let k;e[27]!==_||e[28]!==I?(k=(0,n.jsxs)(at,{align:"end",className:"no-print w-[240px]",children:[_,N,I]}),e[27]=_,e[28]=I,e[29]=k):k=e[29];let E;return e[30]!==w||e[31]!==k?(E=(0,n.jsxs)(st,{modal:!1,children:[w,k]}),e[30]=w,e[31]=k,e[32]=E):E=e[32],E};function gs(t){return(0,n.jsxs)(n.Fragment,{children:[t.icon&&(0,n.jsx)("span",{className:"flex-0 mr-2",children:t.icon}),(0,n.jsx)("span",{className:"flex-1",children:t.labelElement||t.label}),t.hotkey&&(0,n.jsx)(zn,{shortcut:t.hotkey,className:"ml-4"}),t.rightElement]})}function Gt(t){return()=>{let e=ht.get(qt),r=new _0({search:e.findText,caseSensitive:e.caseSensitive,regexp:e.regexp,replace:e.replaceText,wholeWord:e.wholeWord});return r.valid?t({query:Rh(r).create(),search:r}):!1}}var Mn=t=>Gt(({query:e})=>{let r=ur(),l=ht.get(qt).currentView||{view:r[0],range:{from:0,to:0}},a=l.range.to;t==="prev"&&(r.reverse(),a=l.range.from);let s=r.indexOf(l.view);s<0&&(s=0);let i=[...r,...r].slice(s);for(let o of i){let d=t==="next"?e.nextMatch(o.state,0,a??0):e.prevMatch(o.state,a??o.state.doc.length,o.state.doc.length);if(!d){a=null,o.dispatch({selection:un.single(0)});continue}let c=un.single(d.from,d.to);return o.dispatch({selection:c,effects:[w0.scrollIntoView(c.main,{y:"center"})],userEvent:"select.search"}),ht.set(qt,{type:"setCurrentView",view:o,range:{from:d.from,to:d.to}}),d}return!1});const Xt=Mn("next"),kr=Mn("prev"),bs=Gt(({query:t})=>{var l;let e=ur(),r=[];for(let a of e){if(a.state.readOnly)continue;let s=(l=t.matchAll(a.state,1e9))==null?void 0:l.map(o=>{let{from:d,to:c}=o;return{from:d,to:c,insert:t.getReplacement(o)}});if(!s||s.length===0)continue;let i=a.state.doc.toString();r.push(()=>{Sm(a,i,{userEvent:"input.replace.all"})}),a.dispatch({changes:s,userEvent:"input.replace.all"})}return()=>{for(let a of r)a()}}),vs=Gt(({query:t})=>{let e=ur(),r=ht.get(qt).currentView||{view:e[0],range:{from:0,to:0}},l=r.range.from,a=e.indexOf(r.view);a<0&&(a=0);let s=[...e,...e].slice(a);for(let i of s){let o=t.nextMatch(i.state,0,l??0);if(!o){l=null,i.dispatch({selection:un.single(0)});continue}let d=i.state.toText(t.getReplacement(o));return i.dispatch({changes:[{from:o.from,to:o.to,insert:d}],userEvent:"input.replace"}),Xt()}return!1}),ys=Gt(({query:t})=>{let e=ur(),r=0,l=new Map;for(let a of e){let s=t.matchAll(a.state,1e9)||[];for(let i of s){let{from:o,to:d}=i,c=l.get(a)||new Map;c.set(`${o}:${d}`,r++),l.set(a,c)}}return{count:r,position:l}});var js=q();const ws=()=>{var le;let t=(0,js.c)(102),[e,r]=(0,y.useState)(!1),[l,a]=At(qt),[s,i]=(0,y.useState)(),o=(0,y.useRef)(null),d=ee(d0),c;t[0]!==e||t[1]!==l.isOpen?(c=()=>e&&l.isOpen?!1:Dh(),t[0]=e,t[1]=l.isOpen,t[2]=c):c=t[2],Se("cell.findAndReplace",c);let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{let X=ys();i(X===!1?void 0:X)},t[3]=m):m=t[3];let u=m,h,p;t[4]===l.isOpen?(h=t[5],p=t[6]):(h=()=>{l.isOpen&&o.current&&(o.current.focus(),o.current.select())},p=[l.isOpen],t[4]=l.isOpen,t[5]=h,t[6]=p),(0,y.useEffect)(h,p);let f;t[7]!==l.findText||t[8]!==l.isOpen?(f=()=>{if(!l.isOpen){Ra();return}if(l.findText===""){i(void 0),Ra();return}u(),Ah()},t[7]=l.findText,t[8]=l.isOpen,t[9]=f):f=t[9];let g;if(t[10]!==l.caseSensitive||t[11]!==l.findText||t[12]!==l.isOpen||t[13]!==l.regexp||t[14]!==l.wholeWord?(g=[l.findText,l.isOpen,l.caseSensitive,l.regexp,l.wholeWord],t[10]=l.caseSensitive,t[11]=l.findText,t[12]=l.isOpen,t[13]=l.regexp,t[14]=l.wholeWord,t[15]=g):g=t[15],(0,y.useEffect)(f,g),!l.isOpen)return null;let x=l.currentView,b;t[16]!==s||t[17]!==x?(b=x&&s?(le=s.position.get(x.view))==null?void 0:le.get(`${x.range.from}:${x.range.to}`):void 0,t[16]=s,t[17]=x,t[18]=b):b=t[18];let v=b,j;t[19]===Symbol.for("react.memo_cache_sentinel")?(j=()=>r(!0),t[19]=j):j=t[19];let w;t[20]===Symbol.for("react.memo_cache_sentinel")?(w=()=>r(!1),t[20]=w):w=t[20];let _;t[21]===a?_=t[22]:(_=X=>{X.key==="Escape"&&a({type:"setIsOpen",isOpen:!1})},t[21]=a,t[22]=_);let N;t[23]===a?N=t[24]:(N=()=>a({type:"setIsOpen",isOpen:!1}),t[23]=a,t[24]=N);let C;t[25]===Symbol.for("react.memo_cache_sentinel")?(C=(0,n.jsx)(He,{className:"w-4 h-4"}),t[25]=C):C=t[25];let S;t[26]===N?S=t[27]:(S=(0,n.jsx)("div",{className:"absolute top-0 right-0",children:(0,n.jsx)(ie,{"data-testid":"close-find-replace-button",onClick:N,size:"xs",variant:"text",children:C})}),t[26]=N,t[27]=S);let I;t[28]===a?I=t[29]:(I=X=>{a({type:"setFind",find:X.target.value})},t[28]=a,t[29]=I);let k;t[30]!==l.findText||t[31]!==I?(k=(0,n.jsx)(Cn,{ref:o,"data-testid":"find-input",value:l.findText,autoFocus:!0,className:"mr-2 mb-0",placeholder:"Find",onKeyDown:Ns,onChange:I}),t[30]=l.findText,t[31]=I,t[32]=k):k=t[32];let E;t[33]===a?E=t[34]:(E=X=>{a({type:"setReplace",replace:X.target.value})},t[33]=a,t[34]=E);let z;t[35]!==l.replaceText||t[36]!==E?(z=(0,n.jsx)(Cn,{"data-testid":"replace-input",value:l.replaceText,placeholder:"Replace",onChange:E}),t[35]=l.replaceText,t[36]=E,t[37]=z):z=t[37];let R;t[38]!==k||t[39]!==z?(R=(0,n.jsxs)("div",{className:"flex flex-col flex-2 gap-2 w-[55%]",children:[k,z]}),t[38]=k,t[39]=z,t[40]=R):R=t[40];let T=l.caseSensitive?"on":"off",P;t[41]===a?P=t[42]:(P=X=>a({type:"setCaseSensitive",caseSensitive:X}),t[41]=a,t[42]=P);let D;t[43]===Symbol.for("react.memo_cache_sentinel")?(D=(0,n.jsx)(J0,{className:"w-4 h-4"}),t[43]=D):D=t[43];let M;t[44]!==l.caseSensitive||t[45]!==T||t[46]!==P?(M=(0,n.jsx)(ne,{content:"Case Sensitive",children:(0,n.jsx)(Rn,{size:"sm",pressed:l.caseSensitive,"data-state":T,onPressedChange:P,children:D})}),t[44]=l.caseSensitive,t[45]=T,t[46]=P,t[47]=M):M=t[47];let O=l.wholeWord?"on":"off",L;t[48]===a?L=t[49]:(L=X=>a({type:"setWholeWord",wholeWord:X}),t[48]=a,t[49]=L);let A;t[50]===Symbol.for("react.memo_cache_sentinel")?(A=(0,n.jsx)(us,{className:"w-4 h-4"}),t[50]=A):A=t[50];let V;t[51]!==l.wholeWord||t[52]!==O||t[53]!==L?(V=(0,n.jsx)(ne,{content:"Match Whole Word",children:(0,n.jsx)(Rn,{size:"sm",pressed:l.wholeWord,"data-state":O,onPressedChange:L,children:A})}),t[51]=l.wholeWord,t[52]=O,t[53]=L,t[54]=V):V=t[54];let $=l.regexp?"on":"off",U;t[55]===a?U=t[56]:(U=X=>a({type:"setRegex",regexp:X}),t[55]=a,t[56]=U);let H;t[57]===Symbol.for("react.memo_cache_sentinel")?(H=(0,n.jsx)(is,{className:"w-4 h-4"}),t[57]=H):H=t[57];let G;t[58]!==l.regexp||t[59]!==$||t[60]!==U?(G=(0,n.jsx)(ne,{content:"Use Regular Expression",children:(0,n.jsx)(Rn,{size:"sm",pressed:l.regexp,"data-state":$,onPressedChange:U,children:H})}),t[58]=l.regexp,t[59]=$,t[60]=U,t[61]=G):G=t[61];let F;t[62]!==M||t[63]!==V||t[64]!==G?(F=(0,n.jsxs)("div",{className:"flex items-center gap-[2px]",children:[M,V,G]}),t[62]=M,t[63]=V,t[64]=G,t[65]=F):F=t[65];let Y;t[66]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>{vs()&&u()},t[66]=Y):Y=t[66];let W=l.findText==="",B;t[67]===W?B=t[68]:(B=(0,n.jsx)(ie,{"data-testid":"replace-next-button",size:"xs",variant:"outline",className:"h-6 text-xs",onClick:Y,disabled:W,children:"Replace Next"}),t[67]=W,t[68]=B);let J;t[69]===Symbol.for("react.memo_cache_sentinel")?(J=()=>{let X=bs();if(!X)return;u();let{dismiss:Le}=Kt({title:"Replaced all occurrences",action:(0,n.jsx)(Q1,{"data-testid":"undo-replace-all-button",onClick:()=>{X(),Qe()}})}),Qe=Le},t[69]=J):J=t[69];let Q=l.findText==="",Z;t[70]===Q?Z=t[71]:(Z=(0,n.jsx)(ie,{"data-testid":"replace-all-button",size:"xs",variant:"outline",className:"h-6 text-xs",onClick:J,disabled:Q,children:"Replace All"}),t[70]=Q,t[71]=Z);let re;t[72]!==B||t[73]!==Z?(re=(0,n.jsxs)("div",{className:"flex items-center gap-[2px]",children:[B,Z]}),t[72]=B,t[73]=Z,t[74]=re):re=t[74];let te;t[75]!==F||t[76]!==re?(te=(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[F,re]}),t[75]=F,t[76]=re,t[77]=te):te=t[77];let ce;t[78]!==R||t[79]!==te?(ce=(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[R,te]}),t[78]=R,t[79]=te,t[80]=ce):ce=t[80];let ue;t[81]===Symbol.for("react.memo_cache_sentinel")?(ue=(0,n.jsx)(ne,{content:"Find Previous",children:(0,n.jsx)(ie,{"data-testid":"find-prev-button",size:"xs",variant:"secondary",onClick:Cs,children:(0,n.jsx)(F0,{className:"w-4 h-4"})})}),t[81]=ue):ue=t[81];let ye;t[82]===Symbol.for("react.memo_cache_sentinel")?(ye=(0,n.jsx)(ne,{content:"Find Next",children:(0,n.jsx)(ie,{"data-testid":"find-next-button",size:"xs",variant:"secondary",onClick:ks,children:(0,n.jsx)(W0,{className:"w-4 h-4"})})}),t[82]=ye):ye=t[82];let me;t[83]!==v||t[84]!==s?(me=s!=null&&v==null&&(0,n.jsxs)("span",{className:"text-sm",children:[s.count," matches"]}),t[83]=v,t[84]=s,t[85]=me):me=t[85];let he;t[86]!==v||t[87]!==s?(he=s!=null&&v!=null&&(0,n.jsxs)("span",{className:"text-sm",children:[v+1," of ",s.count]}),t[86]=v,t[87]=s,t[88]=he):he=t[88];let se;t[89]!==me||t[90]!==he?(se=(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[ue,ye,me,he]}),t[89]=me,t[90]=he,t[91]=se):se=t[91];let oe;t[92]===d?oe=t[93]:(oe=d.getHotkey("cell.findAndReplace"),t[92]=d,t[93]=oe);let de;t[94]===oe.key?de=t[95]:(de=(0,n.jsxs)("div",{className:"text-xs text-muted-foreground flex gap-1 mt-2",children:["Press"," ",(0,n.jsx)(P1,{shortcut:oe.key})," ","again to open the native browser search."]}),t[94]=oe.key,t[95]=de);let be;return t[96]!==S||t[97]!==ce||t[98]!==se||t[99]!==de||t[100]!==_?(be=(0,n.jsx)(Sn,{restoreFocus:!0,autoFocus:!0,children:(0,n.jsxs)("div",{onFocus:j,onClick:_s,onBlur:w,className:"fixed top-0 right-0 w-[500px] flex flex-col bg-(--sage-1) p-4 z-50 mt-2 mr-3 rounded-md shadow-lg border gap-2 print:hidden",onKeyDown:_,children:[S,ce,se,de]})}),t[96]=S,t[97]=ce,t[98]=se,t[99]=de,t[100]=_,t[101]=be):be=t[101],be};function _s(t){t.stopPropagation(),t.preventDefault()}function Ns(t){t.key==="Enter"&&(t.shiftKey?kr():Xt()),(t.metaKey||t.ctrlKey)&&t.key.toLowerCase()==="g"&&(t.preventDefault(),t.shiftKey?kr():Xt())}function Cs(){return kr()}function ks(){return Xt()}var Ss=q(),Is=200;function Tn(t){let e=(0,Ss.c)(3),[r,l]=(0,y.useState)(!1),a,s;return e[0]===t?(a=e[1],s=e[2]):(a=()=>{if(!t)return;l(!1);let i=setTimeout(()=>{l(!0)},Is);return()=>clearTimeout(i)},s=[t],e[0]=t,e[1]=a,e[2]=s),(0,y.useEffect)(a,s),t&&r}var Es=q();const zs=()=>{let t=(0,Es.c)(6),e=jt(ch),r;t[0]===e?r=t[1]:(r=()=>e(Rs),t[0]=e,t[1]=r);let l=r,a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=Je("global.commandPalette"),t[2]=a):a=t[2];let s;t[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(xh,{strokeWidth:1.5,size:18}),t[3]=s):s=t[3];let i;return t[4]===l?i=t[5]:(i=(0,n.jsx)(ne,{content:a,children:(0,n.jsx)(ot,{"data-testid":"command-palette-button",onClick:l,shape:"rectangle",color:"hint-green",children:s})}),t[4]=l,t[5]=i),i};function Rs(t){return!t}var Sr=q();const Ds=t=>{let e=(0,Sr.c)(47),{presenting:r,onTogglePresenting:l,onInterrupt:a,onRun:s,connectionState:i,running:o,appConfig:d}=t,c=d.width,m=ee(Pm),u=ee(Wm),{undoDeleteCell:h}=Fe(),p=i===it.CLOSED,f=null;if(!p&&m){let L;e[0]===Symbol.for("react.memo_cache_sentinel")?(L=(0,n.jsx)(ph,{size:16,strokeWidth:1.5}),e[0]=L):L=e[0];let A;e[1]===h?A=e[2]:(A=(0,n.jsx)(ne,{content:"Undo cell deletion",children:(0,n.jsx)(ot,{"data-testid":"undo-delete-cell",size:"medium",color:"hint-green",shape:"circle",onClick:h,children:L})}),e[1]=h,e[2]=A),f=A}let g;e[3]===i?g=e[4]:(g=Be(i),e[3]=i,e[4]=g);let x=g,b;e[5]!==i||e[6]!==x?(b=x?dr(i):void 0,e[5]=i,e[6]=x,e[7]=b):b=e[7];let v=b,j;e[8]===r?j=e[9]:(j=!r&&(0,n.jsx)(ws,{}),e[8]=r,e[9]=j);let w;e[10]!==p||e[11]!==v||e[12]!==x||e[13]!==r?(w=!p&&(0,n.jsxs)("div",{className:Os,children:[r&&(0,n.jsx)(hh,{}),(0,n.jsx)(xs,{disabled:x,tooltip:v}),(0,n.jsx)(e1,{disabled:x,tooltip:v}),(0,n.jsx)(Zh,{description:"This will terminate the Python kernel. You'll lose all data that's in memory.",disabled:x,tooltip:v})]}),e[10]=p,e[11]=v,e[12]=x,e[13]=r,e[14]=w):w=e[14];let _=c==="compact"&&"xl:flex-row items-end",N;e[15]===_?N=e[16]:(N=K(As,_),e[15]=_,e[16]=N);let C;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=(0,n.jsx)(Za,{children:(0,n.jsx)(Eh,{kioskMode:!1})}),e[17]=C):C=e[17];let S;e[18]===Symbol.for("react.memo_cache_sentinel")?(S=Je("global.hideCode"),e[18]=S):S=e[18];let I;e[19]===r?I=e[20]:(I=r?(0,n.jsx)(f1,{strokeWidth:1.5,size:18}):(0,n.jsx)(ih,{strokeWidth:1.5,size:18}),e[19]=r,e[20]=I);let k;e[21]!==l||e[22]!==I?(k=(0,n.jsx)(ne,{content:S,children:(0,n.jsx)(ot,{"data-testid":"hide-code-button",id:"preview-button",shape:"rectangle",color:"hint-green",onClick:l,children:I})}),e[21]=l,e[22]=I,e[23]=k):k=e[23];let E,z,R;e[24]===Symbol.for("react.memo_cache_sentinel")?(E=(0,n.jsx)(zs,{}),z=(0,n.jsx)(Y0,{}),R=(0,n.jsx)("div",{}),e[24]=E,e[25]=z,e[26]=R):(E=e[24],z=e[25],R=e[26]);let T;e[27]!==p||e[28]!==a||e[29]!==o?(T=!p&&(0,n.jsx)(Ts,{running:o,onInterrupt:a}),e[27]=p,e[28]=a,e[29]=o,e[30]=T):T=e[30];let P;e[31]!==p||e[32]!==u||e[33]!==s?(P=!p&&(0,n.jsx)(Ms,{needsRun:u,onRun:s}),e[31]=p,e[32]=u,e[33]=s,e[34]=P):P=e[34];let D;e[35]!==T||e[36]!==P||e[37]!==f?(D=(0,n.jsx)(Za,{children:(0,n.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[f,T,P]})}),e[35]=T,e[36]=P,e[37]=f,e[38]=D):D=e[38];let M;e[39]!==k||e[40]!==D||e[41]!==N?(M=(0,n.jsxs)("div",{className:N,children:[C,k,E,z,R,D]}),e[39]=k,e[40]=D,e[41]=N,e[42]=M):M=e[42];let O;return e[43]!==M||e[44]!==j||e[45]!==w?(O=(0,n.jsxs)(n.Fragment,{children:[j,w,M]}),e[43]=M,e[44]=j,e[45]=w,e[46]=O):O=e[46],O};var Ms=t=>{let e=(0,Sr.c)(8),{needsRun:r,onRun:l}=t,a=ee(Ha);if(r){let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=Je("global.runStale"),e[0]=d):d=e[0];let c=a?l:void 0,m=!a,u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)($t,{strokeWidth:1.5,size:16}),e[1]=u):u=e[1];let h;return e[2]!==c||e[3]!==m?(h=(0,n.jsx)(ne,{content:d,children:(0,n.jsx)(ot,{"data-testid":"run-button",size:"medium",color:"yellow",shape:"circle",onClick:c,disabled:m,children:u})}),e[2]=c,e[3]=m,e[4]=h):h=e[4],h}let s=!a,i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)($t,{strokeWidth:1.5,size:16}),e[5]=i):i=e[5];let o;return e[6]===s?o=e[7]:(o=(0,n.jsx)(ne,{content:"Nothing to run",children:(0,n.jsx)(ot,{"data-testid":"run-button",className:"inactive-button",color:"disabled",size:"medium",shape:"circle",disabled:s,children:i})}),e[6]=s,e[7]=o),o},Ts=t=>{let e=(0,Sr.c)(8),{running:r,onInterrupt:l}=t,a=Tn(r),s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=Je("global.interrupt"),e[0]=s):s=e[0];let i=!a&&"inactive-button active:shadow-xs-solid",o;e[1]===i?o=e[2]:(o=K(i),e[1]=i,e[2]=o);let d=a?"yellow":"disabled",c=a?l:Nt.NOOP,m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(Va,{strokeWidth:1.5,size:16}),e[3]=m):m=e[3];let u;return e[4]!==o||e[5]!==d||e[6]!==c?(u=(0,n.jsx)(ne,{content:s,children:(0,n.jsx)(ot,{className:o,"data-testid":"interrupt-button",size:"medium",color:d,shape:"circle",onClick:c,children:m})}),e[4]=o,e[5]=d,e[6]=c,e[7]=u):u=e[7],u},Os="absolute top-3 right-5 m-0 flex items-center gap-2 min-h-[28px] no-print pointer-events-auto z-30 print:hidden",As="absolute bottom-5 right-5 flex flex-col gap-2 items-center no-print pointer-events-auto z-30 print:hidden",Ps=q();const Ls=t=>{let e=(0,Ps.c)(7),{filename:r}=t,l=H1(),a;e[0]===r?a=e[1]:(a=r?ma.basename(r):"untitled marimo notebook",e[0]=r,e[1]=a);let s=r===null?"missing-filename":"filename",i;return e[2]!==r||e[3]!==l||e[4]!==a||e[5]!==s?(i=(0,n.jsx)(Lh,{placeholderText:a,initialValue:r,onNameChange:l,flexibleWidth:!0,resetOnBlur:!0,"data-testid":"filename-input",className:s}),e[2]=r,e[3]=l,e[4]=a,e[5]=s,e[6]=i):i=e[6],i};var gt=q(),Fs=t=>{let e=(0,gt.c)(14),{actions:r,cellIds:l,disabled:a}=t,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(jn,{size:13,strokeWidth:1.5}),e[0]=s):s=e[0];let i;e[1]===a?i=e[2]:(i=(0,n.jsx)(lt,{asChild:!0,children:(0,n.jsx)(ie,{variant:"ghost",size:"sm",className:"h-8 px-2 gap-1",title:"More actions",disabled:a,children:s})}),e[1]=a,e[2]=i);let o;if(e[3]!==r||e[4]!==l){let m;e[6]!==r.length||e[7]!==l?(m=(u,h)=>{let p=u.map(f=>(0,n.jsx)(nt,{onSelect:()=>f.handle(l),className:"flex items-center gap-2",children:(0,n.jsxs)("div",{className:"flex items-center flex-1",children:[f.icon&&(0,n.jsx)("div",{className:"mr-2 w-5 text-muted-foreground",children:f.icon}),(0,n.jsx)("div",{className:"flex-1",children:f.label}),f.hotkey&&(0,n.jsx)(zn,{shortcut:f.hotkey,className:"ml-4"})]})},f.label));return(0,n.jsxs)(y.Fragment,{children:[p,h<r.length-1&&(0,n.jsx)(ft,{})]},h)},e[6]=r.length,e[7]=l,e[8]=m):m=e[8],o=r.flatMap(m),e[3]=r,e[4]=l,e[5]=o}else o=e[5];let d;e[9]===o?d=e[10]:(d=(0,n.jsx)(at,{align:"start","data-keep-cell-selection":!0,children:o}),e[9]=o,e[10]=d);let c;return e[11]!==i||e[12]!==d?(c=(0,n.jsxs)(st,{children:[i,d]}),e[11]=i,e[12]=d,e[13]=c):c=e[13],c};function Ws(t){let e=(0,gt.c)(31),{updateCellConfig:r,moveCell:l,clearCellOutput:a,sendToTop:s,sendToBottom:i}=Fe(),o=Xa(),d=ee(km),c=wn(),m=Ka(),u=_n(),h=ee(h0),{saveCellConfig:p}=Ye(),f=t.length,g=!d||f<t.length,x;e[0]!==o||e[1]!==u||e[2]!==c||e[3]!==h?(x=D=>{if(u.idle&&h.keymap.destructive_delete){u.submit(D);return}o({cellIds:D}),u.clear(),c.clear()},e[0]=o,e[1]=u,e[2]=c,e[3]=h,e[4]=x):x=e[4];let b=je(x),v;e[5]===l?v=e[6]:(v=(D,M)=>{if(M==="down"){let O=D[D.length-1];if(ht.get(rn).cellIds.findWithId(O).last()===O)return}if(M==="up"){let O=D[0];if(ht.get(rn).cellIds.findWithId(O).first()===O)return}(M==="up"?D:[...D].reverse()).forEach(O=>{l({cellId:O,before:M==="up"})})},e[5]=l,e[6]=v);let j=je(v),w;e[7]===s?w=e[8]:(w=D=>{[...D].reverse().forEach(M=>{s({cellId:M})})},e[7]=s,e[8]=w);let _=je(w),N;e[9]===i?N=e[10]:(N=D=>{D.forEach(M=>{i({cellId:M})})},e[9]=i,e[10]=N);let C=je(N),S=je(Ks),I;e[11]===a?I=e[12]:(I=D=>{D.forEach(M=>{a({cellId:M})})},e[11]=a,e[12]=I);let k=je(I),E;e[13]!==p||e[14]!==r?(E=async(D,M,O)=>{let L={};D.forEach(A=>{L[A]={[M]:O}}),await p({configs:L}),D.forEach(A=>{r({cellId:A,config:L[A]})})},e[13]=p,e[14]=r,e[15]=E):E=e[15];let z=je(E),R;e[16]===Symbol.for("react.memo_cache_sentinel")?(R=(0,n.jsx)($t,{size:13,strokeWidth:1.5}),e[16]=R):R=e[16];let T;e[17]===m?T=e[18]:(T=D=>m(D),e[17]=m,e[18]=T);let P;if(e[19]!==g||e[20]!==k||e[21]!==b||e[22]!==S||e[23]!==j||e[24]!==C||e[25]!==_||e[26]!==T||e[27]!==z){let D=[[{icon:R,label:"Run cells",handle:T,hotkey:"cell.run"}],[{icon:(0,n.jsx)(bn,{size:13,strokeWidth:1.5}),label:"Move up",handle:A=>j(A,"up"),hotkey:"cell.moveUp"},{icon:(0,n.jsx)(pt,{size:13,strokeWidth:1.5}),label:"Move down",handle:A=>j(A,"down"),hotkey:"cell.moveDown"}],[{icon:(0,n.jsx)(Ba,{size:13,strokeWidth:1.5}),label:"Delete cells",variant:"danger",hidden:!g,handle:b}]],M=[[{icon:(0,n.jsx)(Ch,{size:13,strokeWidth:1.5}),label:"Format cells",handle:S,hotkey:"cell.format"},{icon:(0,n.jsx)(gh,{size:13,strokeWidth:1.5}),label:"Clear outputs",handle:k}],[{icon:(0,n.jsx)(Sh,{size:13,strokeWidth:1.5}),label:"Hide code",handle:A=>z(A,"hide_code",!0),hotkey:"cell.hideCode"},{icon:(0,n.jsx)(fm,{size:13,strokeWidth:1.5}),label:"Show code",handle:A=>z(A,"hide_code",!1),hotkey:"cell.hideCode"}],[{icon:(0,n.jsx)(bn,{size:13,strokeWidth:1.5}),label:"Move up",handle:A=>j(A,"up"),hotkey:"cell.moveUp"},{icon:(0,n.jsx)(pt,{size:13,strokeWidth:1.5}),label:"Move down",handle:A=>j(A,"down"),hotkey:"cell.moveDown"},{icon:(0,n.jsx)(ah,{size:13,strokeWidth:1.5}),label:"Send to top",handle:_,hotkey:"cell.sendToTop"},{icon:(0,n.jsx)(nh,{size:13,strokeWidth:1.5}),label:"Send to bottom",handle:C,hotkey:"cell.sendToBottom"}],[{icon:(0,n.jsx)(qe,{size:13,strokeWidth:1.5}),label:"Disable cells",handle:A=>z(A,"disabled",!0)},{icon:(0,n.jsx)($e,{size:13,strokeWidth:1.5}),label:"Enable cells",handle:A=>z(A,"disabled",!1)}]],O=D.map($s),L;e[29]===O?L=e[30]:(L=O.filter(qs),e[29]=O,e[30]=L),P={actions:L,moreActions:M.map(Bs).filter(Vs)},e[19]=g,e[20]=k,e[21]=b,e[22]=S,e[23]=j,e[24]=C,e[25]=_,e[26]=T,e[27]=z,e[28]=P}else P=e[28];return P}function Vs(t){return t.length>0}function Bs(t){return t.filter(Hs)}function Hs(t){return!t.hidden}function qs(t){return t.length>0}function $s(t){return t.filter(Us)}function Us(t){return!t.hidden}function Ks(t){let e={};t.forEach(r=>{let l=ca(r);l&&(e[r]=l)}),pm(e)}const Gs=()=>{let t=(0,gt.c)(4),e=Oh(),r;t[0]===e.selected?r=t[1]:(r=[...e.selected],t[0]=e.selected,t[1]=r);let l=r;if(l.length<2)return null;let a;return t[2]===l?a=t[3]:(a=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ys,{cellIds:l}),(0,n.jsx)(Xs,{cellIds:l})]}),t[2]=l,t[3]=a),a};var Ir=()=>{let t=(0,gt.c)(1),e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"h-4 w-px bg-border mx-1"}),t[0]=e):e=t[0],e},Xs=t=>{let e=(0,gt.c)(12),{cellIds:r}=t,l=_n(),a=Xa(),s=wn();if(!l.shouldConfirmDelete)return null;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(kn,{className:"w-4 h-4 text-(--amber-11) mt-0.5 shrink-0"}),e[0]=i):i=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsxs)("div",{className:"font-code text-sm text-[0.84375rem]",children:[(0,n.jsx)("p",{className:"text-(--amber-11) font-medium",children:"Some cells in selection may contain expensive operations."}),(0,n.jsx)("p",{className:"text-(--amber-11) mt-1",children:"Are you sure you want to delete?"})]}),e[1]=o):o=e[1];let d;e[2]===l?d=e[3]:(d=(0,n.jsx)(ie,{size:"xs",variant:"ghost",onClick:()=>l.clear(),className:"text-(--amber-11) hover:bg-(--amber-4) hover:text-(--amber-11)",children:"Cancel"}),e[2]=l,e[3]=d);let c;e[4]!==r||e[5]!==a||e[6]!==l||e[7]!==s?(c=(0,n.jsx)(ie,{size:"xs",variant:"secondary",onClick:()=>{a({cellIds:r}),l.clear(),s.clear()},className:"bg-(--amber-11) hover:bg-(--amber-12) text-white border-(--amber-11)",children:"Delete"}),e[4]=r,e[5]=a,e[6]=l,e[7]=s,e[8]=c):c=e[8];let m;return e[9]!==d||e[10]!==c?(m=(0,n.jsx)("div",{className:"absolute top-12 justify-center flex w-full left-0 right-0 z-50","data-keep-cell-selection":!0,children:(0,n.jsx)("div",{className:"mx-20",children:(0,n.jsx)("div",{className:"bg-(--amber-2) border border-(--amber-6) rounded-lg shadow-lg mt-14 px-4 py-3 animate-in slide-in-from-top-2 duration-200",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[i,(0,n.jsxs)("div",{className:"flex-1",children:[o,(0,n.jsx)(Sn,{restoreFocus:!0,autoFocus:!0,children:(0,n.jsxs)("div",{className:"flex items-center gap-2 mt-3",onKeyDown:Js,children:[d,c]})})]})]})})})}),e[9]=d,e[10]=c,e[11]=m):m=e[11],m},Ys=t=>{let e=(0,gt.c)(23),{cellIds:r}=t,l=wn(),a=_n(),{actions:s,moreActions:i}=Ws(r),o=r.length,d;e[0]!==a||e[1]!==l?(d=x=>{(x.target instanceof HTMLElement||x.target instanceof SVGElement)&&x.target.closest("[data-keep-cell-selection]")!==null||x.target instanceof HTMLHtmlElement||(a.clear(),l.clear())},e[0]=a,e[1]=l,e[2]=d):d=e[2],b0(window,"mousedown",d);let c=!a.idle,m;e[3]===o?m=e[4]:(m=(0,n.jsxs)("span",{className:"text-sm font-medium text-muted-foreground px-2 shrink-0",children:[o," cells selected"]}),e[3]=o,e[4]=m);let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(Ir,{}),e[5]=u):u=e[5];let h;if(e[6]!==s||e[7]!==r||e[8]!==c){let x;e[10]!==s.length||e[11]!==r||e[12]!==c?(x=(b,v)=>(0,n.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[b.map(j=>(0,n.jsxs)(ie,{variant:j.variant==="danger"?"linkDestructive":"ghost",size:"sm",onClick:()=>j.handle(r),className:"h-8 px-2 gap-1 shrink-0 flex items-center",title:j.label,disabled:c&&j.label!=="Delete cells",children:[j.icon,(0,n.jsx)("span",{className:"text-xs",children:j.label}),j.hotkey&&(0,n.jsx)("div",{className:"ml-1 border bg-muted rounded-md px-1",children:(0,n.jsx)(zn,{shortcut:j.hotkey})})]},j.label)),v<s.length-1&&(0,n.jsx)(Ir,{})]},v),e[10]=s.length,e[11]=r,e[12]=c,e[13]=x):x=e[13],h=s.map(x),e[6]=s,e[7]=r,e[8]=c,e[9]=h}else h=e[9];let p;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsx)(Ir,{}),e[14]=p):p=e[14];let f;e[15]!==r||e[16]!==c||e[17]!==i?(f=(0,n.jsx)(Fs,{actions:i,cellIds:r,disabled:c}),e[15]=r,e[16]=c,e[17]=i,e[18]=f):f=e[18];let g;return e[19]!==m||e[20]!==h||e[21]!==f?(g=(0,n.jsx)("div",{className:"absolute top-12 justify-center flex w-full left-0 right-0 z-50","data-keep-cell-selection":!0,children:(0,n.jsx)("div",{className:"bg-background/95 backdrop-blur-sm supports-backdrop-filter:bg-background/60 border border-(--slate-7) rounded-lg shadow-lg p-2 overflow-x-auto overflow-y-hidden mx-20 scrollbar-thin",children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[m,u,h,p,f]})})}),e[19]=m,e[20]=h,e[21]=f,e[22]=g):g=e[22],g};function Js(t){t.stopPropagation()}var Et=qm(),Qs={display:"none"};function Zs(t){let{id:e,value:r}=t;return y.createElement("div",{id:e,style:Qs},r)}function ei(t){let{id:e,announcement:r,ariaLiveType:l="assertive"}=t;return y.createElement("div",{id:e,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":l,"aria-atomic":!0},r)}function ti(){let[t,e]=(0,y.useState)("");return{announce:(0,y.useCallback)(r=>{r!=null&&e(r)},[]),announcement:t}}var On=(0,y.createContext)(null);function ri(t){let e=(0,y.useContext)(On);(0,y.useEffect)(()=>{if(!e)throw Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function ni(){let[t]=(0,y.useState)(()=>new Set),e=(0,y.useCallback)(r=>(t.add(r),()=>t.delete(r)),[t]);return[(0,y.useCallback)(r=>{let{type:l,event:a}=r;t.forEach(s=>{var i;return(i=s[l])==null?void 0:i.call(s,a)})},[t]),e]}var li={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ai={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function si(t){let{announcements:e=ai,container:r,hiddenTextDescribedById:l,screenReaderInstructions:a=li}=t,{announce:s,announcement:i}=ti(),o=Ft("DndLiveRegion"),[d,c]=(0,y.useState)(!1);if((0,y.useEffect)(()=>{c(!0)},[]),ri((0,y.useMemo)(()=>({onDragStart(u){let{active:h}=u;s(e.onDragStart({active:h}))},onDragMove(u){let{active:h,over:p}=u;e.onDragMove&&s(e.onDragMove({active:h,over:p}))},onDragOver(u){let{active:h,over:p}=u;s(e.onDragOver({active:h,over:p}))},onDragEnd(u){let{active:h,over:p}=u;s(e.onDragEnd({active:h,over:p}))},onDragCancel(u){let{active:h,over:p}=u;s(e.onDragCancel({active:h,over:p}))}}),[s,e])),!d)return null;let m=y.createElement(y.Fragment,null,y.createElement(Zs,{id:l,value:a.draggable}),y.createElement(ei,{id:o,announcement:i}));return r?(0,Et.createPortal)(m,r):m}var we;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(we||(we={}));function Yt(){}function An(t,e){return(0,y.useMemo)(()=>({sensor:t,options:e??{}}),[t,e])}function ii(){var t=[...arguments];return(0,y.useMemo)(()=>[...t].filter(e=>e!=null),[...t])}var Ae=Object.freeze({x:0,y:0});function Er(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function zr(t,e){let{data:{value:r}}=t,{data:{value:l}}=e;return r-l}function oi(t,e){let{data:{value:r}}=t,{data:{value:l}}=e;return l-r}function Rr(t){let{left:e,top:r,height:l,width:a}=t;return[{x:e,y:r},{x:e+a,y:r},{x:e,y:r+l},{x:e+a,y:r+l}]}function Dr(t,e){if(!t||t.length===0)return null;let[r]=t;return e?r[e]:r}function Pn(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}var Mr=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:l}=t,a=Pn(e,e.left,e.top),s=[];for(let i of l){let{id:o}=i,d=r.get(o);if(d){let c=Er(Pn(d),a);s.push({id:o,data:{droppableContainer:i,value:c}})}}return s.sort(zr)},ci=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:l}=t,a=Rr(e),s=[];for(let i of l){let{id:o}=i,d=r.get(o);if(d){let c=Rr(d),m=a.reduce((h,p,f)=>h+Er(c[f],p),0),u=Number((m/4).toFixed(4));s.push({id:o,data:{droppableContainer:i,value:u}})}}return s.sort(zr)};function di(t,e){let r=Math.max(e.top,t.top),l=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),i=a-l,o=s-r;if(l<a&&r<s){let d=e.width*e.height,c=t.width*t.height,m=i*o,u=m/(d+c-m);return Number(u.toFixed(4))}return 0}var Ln=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:l}=t,a=[];for(let s of l){let{id:i}=s,o=r.get(i);if(o){let d=di(o,e);d>0&&a.push({id:i,data:{droppableContainer:s,value:d}})}}return a.sort(oi)};function ui(t,e){let{top:r,left:l,bottom:a,right:s}=e;return r<=t.y&&t.y<=a&&l<=t.x&&t.x<=s}var mi=t=>{let{droppableContainers:e,droppableRects:r,pointerCoordinates:l}=t;if(!l)return[];let a=[];for(let s of e){let{id:i}=s,o=r.get(i);if(o&&ui(l,o)){let d=Rr(o).reduce((m,u)=>m+Er(l,u),0),c=Number((d/4).toFixed(4));a.push({id:i,data:{droppableContainer:s,value:c}})}}return a.sort(zr)};function hi(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function Fn(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ae}function pi(t){return function(e){return[...arguments].slice(1).reduce((r,l)=>({...r,top:r.top+t*l.y,bottom:r.bottom+t*l.y,left:r.left+t*l.x,right:r.right+t*l.x}),{...e})}}var fi=pi(1);function xi(t){if(t.startsWith("matrix3d(")){let e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){let e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function gi(t,e,r){let l=xi(e);if(!l)return t;let{scaleX:a,scaleY:s,x:i,y:o}=l,d=t.left-i-(1-a)*parseFloat(r),c=t.top-o-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),m=a?t.width/a:t.width,u=s?t.height/s:t.height;return{width:m,height:u,top:c,right:d+m,bottom:c+u,left:d}}var bi={ignoreTransform:!1};function bt(t,e){e===void 0&&(e=bi);let r=t.getBoundingClientRect();if(e.ignoreTransform){let{transform:c,transformOrigin:m}=Xe(t).getComputedStyle(t);c&&(r=gi(r,c,m))}let{top:l,left:a,width:s,height:i,bottom:o,right:d}=r;return{top:l,left:a,width:s,height:i,bottom:o,right:d}}function Wn(t){return bt(t,{ignoreTransform:!0})}function vi(t){let e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function yi(t,e){return e===void 0&&(e=Xe(t).getComputedStyle(t)),e.position==="fixed"}function ji(t,e){e===void 0&&(e=Xe(t).getComputedStyle(t));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{let a=e[l];return typeof a=="string"?r.test(a):!1})}function Jt(t,e){let r=[];function l(a){if(e!=null&&r.length>=e||!a)return r;if(va(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!xr(a)||Qm(a)||r.includes(a))return r;let s=Xe(t).getComputedStyle(a);return a!==t&&ji(a,s)&&r.push(a),yi(a,s)?r:l(a.parentNode)}return t?l(t):r}function Vn(t){let[e]=Jt(t,1);return e??null}function Tr(t){return!an||!t?null:ln(t)?t:Jm(t)?va(t)||t===_t(t).scrollingElement?window:xr(t)?t:null:null}function Bn(t){return ln(t)?t.scrollX:t.scrollLeft}function Hn(t){return ln(t)?t.scrollY:t.scrollTop}function Or(t){return{x:Bn(t),y:Hn(t)}}var Ce;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ce||(Ce={}));function qn(t){return!an||!t?!1:t===document.scrollingElement}function $n(t){let e={x:0,y:0},r=qn(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},l={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height};return{isTop:t.scrollTop<=e.y,isLeft:t.scrollLeft<=e.x,isBottom:t.scrollTop>=l.y,isRight:t.scrollLeft>=l.x,maxScroll:l,minScroll:e}}var wi={x:.2,y:.2};function _i(t,e,r,l,a){let{top:s,left:i,right:o,bottom:d}=r;l===void 0&&(l=10),a===void 0&&(a=wi);let{isTop:c,isBottom:m,isLeft:u,isRight:h}=$n(t),p={x:0,y:0},f={x:0,y:0},g={height:e.height*a.y,width:e.width*a.x};return!c&&s<=e.top+g.height?(p.y=Ce.Backward,f.y=l*Math.abs((e.top+g.height-s)/g.height)):!m&&d>=e.bottom-g.height&&(p.y=Ce.Forward,f.y=l*Math.abs((e.bottom-g.height-d)/g.height)),!h&&o>=e.right-g.width?(p.x=Ce.Forward,f.x=l*Math.abs((e.right-g.width-o)/g.width)):!u&&i<=e.left+g.width&&(p.x=Ce.Backward,f.x=l*Math.abs((e.left+g.width-i)/g.width)),{direction:p,speed:f}}function Ni(t){if(t===document.scrollingElement){let{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}let{top:e,left:r,right:l,bottom:a}=t.getBoundingClientRect();return{top:e,left:r,right:l,bottom:a,width:t.clientWidth,height:t.clientHeight}}function Un(t){return t.reduce((e,r)=>wt(e,Or(r)),Ae)}function Ci(t){return t.reduce((e,r)=>e+Bn(r),0)}function ki(t){return t.reduce((e,r)=>e+Hn(r),0)}function Si(t,e){if(e===void 0&&(e=bt),!t)return;let{top:r,left:l,bottom:a,right:s}=e(t);Vn(t)&&(a<=0||s<=0||r>=window.innerHeight||l>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}var Ii=[["x",["left","right"],Ci],["y",["top","bottom"],ki]],Ar=class{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=Jt(e),l=Un(r);this.rect={...t},this.width=t.width,this.height=t.height;for(let[a,s,i]of Ii)for(let o of s)Object.defineProperty(this,o,{get:()=>{let d=i(r),c=l[a]-d;return this.rect[o]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},zt=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...e)})},this.target=t}add(t,e,r){var l;(l=this.target)==null||l.addEventListener(t,e,r),this.listeners.push([t,e,r])}};function Ei(t){let{EventTarget:e}=Xe(t);return t instanceof e?t:_t(t)}function Pr(t,e){let r=Math.abs(t.x),l=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+l**2)>e:"x"in e&&"y"in e?r>e.x&&l>e.y:"x"in e?r>e.x:"y"in e?l>e.y:!1}var Pe;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Pe||(Pe={}));function Kn(t){t.preventDefault()}function zi(t){t.stopPropagation()}var ae;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ae||(ae={}));var Gn={start:[ae.Space,ae.Enter],cancel:[ae.Esc],end:[ae.Space,ae.Enter,ae.Tab]},Ri=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case ae.Right:return{...r,x:r.x+25};case ae.Left:return{...r,x:r.x-25};case ae.Down:return{...r,y:r.y+25};case ae.Up:return{...r,y:r.y-25}}},Lr=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:e}}=t;this.props=t,this.listeners=new zt(_t(e)),this.windowListeners=new zt(Xe(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pe.Resize,this.handleCancel),this.windowListeners.add(Pe.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Pe.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:e}=this.props,r=t.node.current;r&&Si(r),e(Ae)}handleKeyDown(t){if(sn(t)){let{active:e,context:r,options:l}=this.props,{keyboardCodes:a=Gn,coordinateGetter:s=Ri,scrollBehavior:i="smooth"}=l,{code:o}=t;if(a.end.includes(o)){this.handleEnd(t);return}if(a.cancel.includes(o)){this.handleCancel(t);return}let{collisionRect:d}=r.current,c=d?{x:d.left,y:d.top}:Ae;this.referenceCoordinates||(this.referenceCoordinates=c);let m=s(t,{active:e,context:r.current,currentCoordinates:c});if(m){let u=Vt(m,c),h={x:0,y:0},{scrollableAncestors:p}=r.current;for(let f of p){let g=t.code,{isTop:x,isRight:b,isLeft:v,isBottom:j,maxScroll:w,minScroll:_}=$n(f),N=Ni(f),C={x:Math.min(g===ae.Right?N.right-N.width/2:N.right,Math.max(g===ae.Right?N.left:N.left+N.width/2,m.x)),y:Math.min(g===ae.Down?N.bottom-N.height/2:N.bottom,Math.max(g===ae.Down?N.top:N.top+N.height/2,m.y))},S=g===ae.Right&&!b||g===ae.Left&&!v,I=g===ae.Down&&!j||g===ae.Up&&!x;if(S&&C.x!==m.x){let k=f.scrollLeft+u.x,E=g===ae.Right&&k<=w.x||g===ae.Left&&k>=_.x;if(E&&!u.y){f.scrollTo({left:k,behavior:i});return}E?h.x=f.scrollLeft-k:h.x=g===ae.Right?f.scrollLeft-w.x:f.scrollLeft-_.x,h.x&&f.scrollBy({left:-h.x,behavior:i});break}else if(I&&C.y!==m.y){let k=f.scrollTop+u.y,E=g===ae.Down&&k<=w.y||g===ae.Up&&k>=_.y;if(E&&!u.x){f.scrollTo({top:k,behavior:i});return}E?h.y=f.scrollTop-k:h.y=g===ae.Down?f.scrollTop-w.y:f.scrollTop-_.y,h.y&&f.scrollBy({top:-h.y,behavior:i});break}}this.handleMove(t,wt(Vt(m,this.referenceCoordinates),h))}}}handleMove(t,e){let{onMove:r}=this.props;t.preventDefault(),r(e)}handleEnd(t){let{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){let{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Lr.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:l=Gn,onActivation:a}=e,{active:s}=r,{code:i}=t.nativeEvent;if(l.start.includes(i)){let o=s.activatorNode.current;return o&&t.target!==o?!1:(t.preventDefault(),a==null||a({event:t.nativeEvent}),!0)}return!1}}];function Xn(t){return!!(t&&"distance"in t)}function Yn(t){return!!(t&&"delay"in t)}var Fr=class{constructor(t,e,r){r===void 0&&(r=Ei(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;let{event:l}=t,{target:a}=l;this.props=t,this.events=e,this.document=_t(a),this.documentListeners=new zt(this.document),this.listeners=new zt(r),this.windowListeners=new zt(Xe(a)),this.initialCoordinates=nn(l)??Ae,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Pe.Resize,this.handleCancel),this.windowListeners.add(Pe.DragStart,Kn),this.windowListeners.add(Pe.VisibilityChange,this.handleCancel),this.windowListeners.add(Pe.ContextMenu,Kn),this.documentListeners.add(Pe.Keydown,this.handleKeydown),e){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Yn(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(Xn(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){let{active:r,onPending:l}=this.props;l(r,t,this.initialCoordinates,e)}handleStart(){let{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(Pe.Click,zi,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pe.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){let{activated:e,initialCoordinates:r,props:l}=this,{onMove:a,options:{activationConstraint:s}}=l;if(!r)return;let i=nn(t)??Ae,o=Vt(r,i);if(!e&&s){if(Xn(s)){if(s.tolerance!=null&&Pr(o,s.tolerance))return this.handleCancel();if(Pr(o,s.distance))return this.handleStart()}if(Yn(s)&&Pr(o,s.tolerance))return this.handleCancel();this.handlePending(s,o);return}t.cancelable&&t.preventDefault(),a(i)}handleEnd(){let{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){let{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===ae.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},Di={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},Wr=class extends Fr{constructor(t){let{event:e}=t,r=_t(e.target);super(t,Di,r)}};Wr.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:l}=e;return!r.isPrimary||r.button!==0?!1:(l==null||l({event:r}),!0)}}];var Mi={move:{name:"mousemove"},end:{name:"mouseup"}},Jn;(function(t){t[t.RightClick=2]="RightClick"})(Jn||(Jn={}));var Ti=class extends Fr{constructor(t){super(t,Mi,_t(t.event.target))}};Ti.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:l}=e;return r.button===Jn.RightClick?!1:(l==null||l({event:r}),!0)}}];var Vr={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},Oi=class extends Fr{constructor(t){super(t,Vr)}static setup(){return window.addEventListener(Vr.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Vr.move.name,t)};function t(){}}};Oi.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:l}=e,{touches:a}=r;return a.length>1?!1:(l==null||l({event:r}),!0)}}];var Qt;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Qt||(Qt={}));var Br;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Br||(Br={}));function Ai(t){let{acceleration:e,activator:r=Qt.Pointer,canScroll:l,draggingRect:a,enabled:s,interval:i=5,order:o=Br.TreeOrder,pointerCoordinates:d,scrollableAncestors:c,scrollableAncestorRects:m,delta:u,threshold:h}=t,p=Li({delta:u,disabled:!s}),[f,g]=Ym(),x=(0,y.useRef)({x:0,y:0}),b=(0,y.useRef)({x:0,y:0}),v=(0,y.useMemo)(()=>{switch(r){case Qt.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Qt.DraggableRect:return a}},[r,a,d]),j=(0,y.useRef)(null),w=(0,y.useCallback)(()=>{let N=j.current;if(!N)return;let C=x.current.x*b.current.x,S=x.current.y*b.current.y;N.scrollBy(C,S)},[]),_=(0,y.useMemo)(()=>o===Br.TreeOrder?[...c].reverse():c,[o,c]);(0,y.useEffect)(()=>{if(!s||!c.length||!v){g();return}for(let N of _){if((l==null?void 0:l(N))===!1)continue;let C=m[c.indexOf(N)];if(!C)continue;let{direction:S,speed:I}=_i(N,C,v,e,h);for(let k of["x","y"])p[k][S[k]]||(I[k]=0,S[k]=0);if(I.x>0||I.y>0){g(),j.current=N,f(w,i),x.current=I,b.current=S;return}}x.current={x:0,y:0},b.current={x:0,y:0},g()},[e,w,l,g,s,i,JSON.stringify(v),JSON.stringify(p),f,c,_,m,JSON.stringify(h)])}var Pi={x:{[Ce.Backward]:!1,[Ce.Forward]:!1},y:{[Ce.Backward]:!1,[Ce.Forward]:!1}};function Li(t){let{delta:e,disabled:r}=t,l=fr(e);return Wt(a=>{if(r||!l||!a)return Pi;let s={x:Math.sign(e.x-l.x),y:Math.sign(e.y-l.y)};return{x:{[Ce.Backward]:a.x[Ce.Backward]||s.x===-1,[Ce.Forward]:a.x[Ce.Forward]||s.x===1},y:{[Ce.Backward]:a.y[Ce.Backward]||s.y===-1,[Ce.Forward]:a.y[Ce.Forward]||s.y===1}}},[r,e,l])}function Fi(t,e){let r=e==null?void 0:t.get(e),l=r?r.node.current:null;return Wt(a=>e==null?null:l??a??null,[l,e])}function Wi(t,e){return(0,y.useMemo)(()=>t.reduce((r,l)=>{let{sensor:a}=l,s=a.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,l)}));return[...r,...s]},[]),[t,e])}var Zt;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Zt||(Zt={}));var Qn;(function(t){t.Optimized="optimized"})(Qn||(Qn={}));var Zn=new Map;function Vi(t,e){let{dragging:r,dependencies:l,config:a}=e,[s,i]=(0,y.useState)(null),{frequency:o,measure:d,strategy:c}=a,m=(0,y.useRef)(t),u=x(),h=Bt(u),p=(0,y.useCallback)(function(b){b===void 0&&(b=[]),!h.current&&i(v=>v===null?b:v.concat(b.filter(j=>!v.includes(j))))},[h]),f=(0,y.useRef)(null),g=Wt(b=>{if(u&&!r)return Zn;if(!b||b===Zn||m.current!==t||s!=null){let v=new Map;for(let j of t){if(!j)continue;if(s&&s.length>0&&!s.includes(j.id)&&j.rect.current){v.set(j.id,j.rect.current);continue}let w=j.node.current,_=w?new Ar(d(w),w):null;j.rect.current=_,_&&v.set(j.id,_)}return v}return b},[t,s,r,u,d]);return(0,y.useEffect)(()=>{m.current=t},[t]),(0,y.useEffect)(()=>{u||p()},[r,u]),(0,y.useEffect)(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),(0,y.useEffect)(()=>{u||typeof o!="number"||f.current!==null||(f.current=setTimeout(()=>{p(),f.current=null},o))},[o,u,p,...l]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:s!=null};function x(){switch(c){case Zt.Always:return!1;case Zt.BeforeDragging:return r;default:return!r}}}function el(t,e){return Wt(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function Bi(t,e){return el(t,e)}function Hi(t){let{callback:e,disabled:r}=t,l=ya(e),a=(0,y.useMemo)(()=>{if(r||typeof window>"u"||window.MutationObserver===void 0)return;let{MutationObserver:s}=window;return new s(l)},[l,r]);return(0,y.useEffect)(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function er(t){let{callback:e,disabled:r}=t,l=ya(e),a=(0,y.useMemo)(()=>{if(r||typeof window>"u"||window.ResizeObserver===void 0)return;let{ResizeObserver:s}=window;return new s(l)},[r]);return(0,y.useEffect)(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function qi(t){return new Ar(bt(t),t)}function tl(t,e,r){e===void 0&&(e=qi);let[l,a]=(0,y.useState)(null);function s(){a(d=>{if(!t)return null;if(t.isConnected===!1)return d??r??null;let c=e(t);return JSON.stringify(d)===JSON.stringify(c)?d:c})}let i=Hi({callback(d){if(t)for(let c of d){let{type:m,target:u}=c;if(m==="childList"&&u instanceof HTMLElement&&u.contains(t)){s();break}}}}),o=er({callback:s});return rt(()=>{s(),t?(o==null||o.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),i==null||i.disconnect())},[t]),l}function $i(t){return Fn(t,el(t))}var rl=[];function Ui(t){let e=(0,y.useRef)(t),r=Wt(l=>t?l&&l!==rl&&t&&e.current&&t.parentNode===e.current.parentNode?l:Jt(t):rl,[t]);return(0,y.useEffect)(()=>{e.current=t},[t]),r}function Ki(t){let[e,r]=(0,y.useState)(null),l=(0,y.useRef)(t),a=(0,y.useCallback)(s=>{let i=Tr(s.target);i&&r(o=>o?(o.set(i,Or(i)),new Map(o)):null)},[]);return(0,y.useEffect)(()=>{let s=l.current;if(t!==s){i(s);let o=t.map(d=>{let c=Tr(d);return c?(c.addEventListener("scroll",a,{passive:!0}),[c,Or(c)]):null}).filter(d=>d!=null);r(o.length?new Map(o):null),l.current=t}return()=>{i(t),i(s)};function i(o){o.forEach(d=>{var c;(c=Tr(d))==null||c.removeEventListener("scroll",a)})}},[a,t]),(0,y.useMemo)(()=>t.length?e?Array.from(e.values()).reduce((s,i)=>wt(s,i),Ae):Un(t):Ae,[t,e])}function nl(t,e){e===void 0&&(e=[]);let r=(0,y.useRef)(null);return(0,y.useEffect)(()=>{r.current=null},e),(0,y.useEffect)(()=>{let l=t!==Ae;l&&!r.current&&(r.current=t),!l&&r.current&&(r.current=null)},[t]),r.current?Vt(t,r.current):Ae}function Gi(t){(0,y.useEffect)(()=>{if(!an)return;let e=t.map(r=>{let{sensor:l}=r;return l.setup==null?void 0:l.setup()});return()=>{for(let r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function Xi(t,e){return(0,y.useMemo)(()=>t.reduce((r,l)=>{let{eventName:a,handler:s}=l;return r[a]=i=>{s(i,e)},r},{}),[t,e])}function ll(t){return(0,y.useMemo)(()=>t?vi(t):null,[t])}var al=[];function Yi(t,e){e===void 0&&(e=bt);let[r]=t,l=ll(r?Xe(r):null),[a,s]=(0,y.useState)(al);function i(){s(()=>t.length?t.map(d=>qn(d)?l:new Ar(e(d),d)):al)}let o=er({callback:i});return rt(()=>{o==null||o.disconnect(),i(),t.forEach(d=>o==null?void 0:o.observe(d))},[t]),a}function Ji(t){if(!t)return null;if(t.children.length>1)return t;let e=t.children[0];return xr(e)?e:t}function Qi(t){let{measure:e}=t,[r,l]=(0,y.useState)(null),a=er({callback:(0,y.useCallback)(o=>{for(let{target:d}of o)if(xr(d)){l(c=>{let m=e(d);return c?{...c,width:m.width,height:m.height}:m});break}},[e])}),[s,i]=br((0,y.useCallback)(o=>{let d=Ji(o);a==null||a.disconnect(),d&&(a==null||a.observe(d)),l(d?e(d):null)},[e,a]));return(0,y.useMemo)(()=>({nodeRef:s,rect:r,setRef:i}),[r,s,i])}var Zi=[{sensor:Wr,options:{}},{sensor:Lr,options:{}}],eo={current:{}},tr={draggable:{measure:Wn},droppable:{measure:Wn,strategy:Zt.WhileDragging,frequency:Qn.Optimized},dragOverlay:{measure:bt}},Rt=class extends Map{get(t){return t==null?void 0:super.get(t)??void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e;return((e=this.get(t))==null?void 0:e.node.current)??void 0}},to={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Rt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Yt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tr,measureDroppableContainers:Yt,windowRect:null,measuringScheduled:!1},ro={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Yt,draggableNodes:new Map,over:null,measureDroppableContainers:Yt},rr=(0,y.createContext)(ro),sl=(0,y.createContext)(to);function no(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Rt}}}function lo(t,e){switch(e.type){case we.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case we.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case we.DragEnd:case we.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case we.RegisterDroppable:{let{element:r}=e,{id:l}=r,a=new Rt(t.droppable.containers);return a.set(l,r),{...t,droppable:{...t.droppable,containers:a}}}case we.SetDroppableDisabled:{let{id:r,key:l,disabled:a}=e,s=t.droppable.containers.get(r);if(!s||l!==s.key)return t;let i=new Rt(t.droppable.containers);return i.set(r,{...s,disabled:a}),{...t,droppable:{...t.droppable,containers:i}}}case we.UnregisterDroppable:{let{id:r,key:l}=e,a=t.droppable.containers.get(r);if(!a||l!==a.key)return t;let s=new Rt(t.droppable.containers);return s.delete(r),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function ao(t){let{disabled:e}=t,{active:r,activatorEvent:l,draggableNodes:a}=(0,y.useContext)(rr),s=fr(l),i=fr(r==null?void 0:r.id);return(0,y.useEffect)(()=>{if(!e&&!l&&s&&i!=null){if(!sn(s)||document.activeElement===s.target)return;let o=a.get(i);if(!o)return;let{activatorNode:d,node:c}=o;if(!d.current&&!c.current)return;requestAnimationFrame(()=>{for(let m of[d.current,c.current]){if(!m)continue;let u=e0(m);if(u){u.focus();break}}})}},[l,e,a,i,s]),null}function so(t,e){let{transform:r,...l}=e;return t!=null&&t.length?t.reduce((a,s)=>s({transform:a,...l}),r):r}function io(t){return(0,y.useMemo)(()=>({draggable:{...tr.draggable,...t==null?void 0:t.draggable},droppable:{...tr.droppable,...t==null?void 0:t.droppable},dragOverlay:{...tr.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function oo(t){let{activeNode:e,measure:r,initialRect:l,config:a=!0}=t,s=(0,y.useRef)(!1),{x:i,y:o}=typeof a=="boolean"?{x:a,y:a}:a;rt(()=>{if(!i&&!o||!e){s.current=!1;return}if(s.current||!l)return;let d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;let c=Fn(r(d),l);if(i||(c.x=0),o||(c.y=0),s.current=!0,Math.abs(c.x)>0||Math.abs(c.y)>0){let m=Vn(d);m&&m.scrollBy({top:c.y,left:c.x})}},[e,i,o,l,r])}var il=(0,y.createContext)({...Ae,scaleX:1,scaleY:1}),ct;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ct||(ct={}));var co=(0,y.memo)(function(t){var mt;let{id:e,accessibility:r,autoScroll:l=!0,children:a,sensors:s=Zi,collisionDetection:i=Ln,measuring:o,modifiers:d,...c}=t,[m,u]=(0,y.useReducer)(lo,void 0,no),[h,p]=ni(),[f,g]=(0,y.useState)(ct.Uninitialized),x=f===ct.Initialized,{draggable:{active:b,nodes:v,translate:j},droppable:{containers:w}}=m,_=b==null?null:v.get(b),N=(0,y.useRef)({initial:null,translated:null}),C=(0,y.useMemo)(()=>b==null?null:{id:b,data:(_==null?void 0:_.data)??eo,rect:N},[b,_]),S=(0,y.useRef)(null),[I,k]=(0,y.useState)(null),[E,z]=(0,y.useState)(null),R=Bt(c,Object.values(c)),T=Ft("DndDescribedBy",e),P=(0,y.useMemo)(()=>w.getEnabled(),[w]),D=io(o),{droppableRects:M,measureDroppableContainers:O,measuringScheduled:L}=Vi(P,{dragging:x,dependencies:[j.x,j.y],config:D.droppable}),A=Fi(v,b),V=(0,y.useMemo)(()=>E?nn(E):null,[E]),$=tt(),U=Bi(A,D.draggable.measure);oo({activeNode:b==null?null:v.get(b),config:$.layoutShiftCompensation,initialRect:U,measure:D.draggable.measure});let H=tl(A,D.draggable.measure,U),G=tl(A?A.parentElement:null),F=(0,y.useRef)({activatorEvent:null,active:null,activeNode:A,collisionRect:null,collisions:null,droppableRects:M,draggableNodes:v,draggingNode:null,draggingNodeRect:null,droppableContainers:w,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Y=w.getNodeFor((mt=F.current.over)==null?void 0:mt.id),W=Qi({measure:D.dragOverlay.measure}),B=W.nodeRef.current??A,J=x?W.rect??H:null,Q=!!(W.nodeRef.current&&W.rect),Z=$i(Q?null:H),re=ll(B?Xe(B):null),te=Ui(x?Y??A:null),ce=Yi(te),ue=so(d,{transform:{x:j.x-Z.x,y:j.y-Z.y,scaleX:1,scaleY:1},activatorEvent:E,active:C,activeNodeRect:H,containerNodeRect:G,draggingNodeRect:J,over:F.current.over,overlayNodeRect:W.rect,scrollableAncestors:te,scrollableAncestorRects:ce,windowRect:re}),ye=V?wt(V,j):null,me=Ki(te),he=nl(me),se=nl(me,[H]),oe=wt(ue,he),de=J?fi(J,ue):null,be=C&&de?i({active:C,collisionRect:de,droppableRects:M,droppableContainers:P,pointerCoordinates:ye}):null,le=Dr(be,"id"),[X,Le]=(0,y.useState)(null),Qe=hi(Q?ue:wt(ue,se),(X==null?void 0:X.rect)??null,H),Ve=(0,y.useRef)(null),Ge=(0,y.useCallback)((Ie,_e)=>{let{sensor:ve,options:ze}=_e;if(S.current==null)return;let ke=v.get(S.current);if(!ke)return;let fe=Ie.nativeEvent;Ve.current=new ve({active:S.current,activeNode:ke,event:fe,options:ze,context:F,onAbort(pe){if(!v.get(pe))return;let{onDragAbort:xe}=R.current,De={id:pe};xe==null||xe(De),h({type:"onDragAbort",event:De})},onPending(pe,xe,De,ge){if(!v.get(pe))return;let{onDragPending:Oe}=R.current,Me={id:pe,constraint:xe,initialCoordinates:De,offset:ge};Oe==null||Oe(Me),h({type:"onDragPending",event:Me})},onStart(pe){let xe=S.current;if(xe==null)return;let De=v.get(xe);if(!De)return;let{onDragStart:ge}=R.current,Oe={activatorEvent:fe,active:{id:xe,data:De.data,rect:N}};(0,Et.unstable_batchedUpdates)(()=>{ge==null||ge(Oe),g(ct.Initializing),u({type:we.DragStart,initialCoordinates:pe,active:xe}),h({type:"onDragStart",event:Oe}),k(Ve.current),z(fe)})},onMove(pe){u({type:we.DragMove,coordinates:pe})},onEnd:Ee(we.DragEnd),onCancel:Ee(we.DragCancel)});function Ee(pe){return async function(){let{active:xe,collisions:De,over:ge,scrollAdjustedTranslate:Oe}=F.current,Me=null;if(xe&&Oe){let{cancelDrop:Ot}=R.current;Me={activatorEvent:fe,active:xe,collisions:De,delta:Oe,over:ge},pe===we.DragEnd&&typeof Ot=="function"&&await Promise.resolve(Ot(Me))&&(pe=we.DragCancel)}S.current=null,(0,Et.unstable_batchedUpdates)(()=>{u({type:pe}),g(ct.Uninitialized),Le(null),k(null),z(null),Ve.current=null;let Ot=pe===we.DragEnd?"onDragEnd":"onDragCancel";if(Me){let Jr=R.current[Ot];Jr==null||Jr(Me),h({type:Ot,event:Me})}})}}},[v]),ut=Wi(s,(0,y.useCallback)((Ie,_e)=>(ve,ze)=>{let ke=ve.nativeEvent,fe=v.get(ze);if(S.current!==null||!fe||ke.dndKit||ke.defaultPrevented)return;let Ee={active:fe};Ie(ve,_e.options,Ee)===!0&&(ke.dndKit={capturedBy:_e.sensor},S.current=ze,Ge(ve,_e))},[v,Ge]));Gi(s),rt(()=>{H&&f===ct.Initializing&&g(ct.Initialized)},[H,f]),(0,y.useEffect)(()=>{let{onDragMove:Ie}=R.current,{active:_e,activatorEvent:ve,collisions:ze,over:ke}=F.current;if(!_e||!ve)return;let fe={active:_e,activatorEvent:ve,collisions:ze,delta:{x:oe.x,y:oe.y},over:ke};(0,Et.unstable_batchedUpdates)(()=>{Ie==null||Ie(fe),h({type:"onDragMove",event:fe})})},[oe.x,oe.y]),(0,y.useEffect)(()=>{let{active:Ie,activatorEvent:_e,collisions:ve,droppableContainers:ze,scrollAdjustedTranslate:ke}=F.current;if(!Ie||S.current==null||!_e||!ke)return;let{onDragOver:fe}=R.current,Ee=ze.get(le),pe=Ee&&Ee.rect.current?{id:Ee.id,rect:Ee.rect.current,data:Ee.data,disabled:Ee.disabled}:null,xe={active:Ie,activatorEvent:_e,collisions:ve,delta:{x:ke.x,y:ke.y},over:pe};(0,Et.unstable_batchedUpdates)(()=>{Le(pe),fe==null||fe(xe),h({type:"onDragOver",event:xe})})},[le]),rt(()=>{F.current={activatorEvent:E,active:C,activeNode:A,collisionRect:de,collisions:be,droppableRects:M,draggableNodes:v,draggingNode:B,draggingNodeRect:J,droppableContainers:w,over:X,scrollableAncestors:te,scrollAdjustedTranslate:oe},N.current={initial:J,translated:de}},[C,A,be,de,v,B,J,M,w,X,te,oe]),Ai({...$,delta:j,draggingRect:de,pointerCoordinates:ye,scrollableAncestors:te,scrollableAncestorRects:ce});let Ze=(0,y.useMemo)(()=>({active:C,activeNode:A,activeNodeRect:H,activatorEvent:E,collisions:be,containerNodeRect:G,dragOverlay:W,draggableNodes:v,droppableContainers:w,droppableRects:M,over:X,measureDroppableContainers:O,scrollableAncestors:te,scrollableAncestorRects:ce,measuringConfiguration:D,measuringScheduled:L,windowRect:re}),[C,A,H,E,be,G,W,v,w,M,X,O,te,ce,D,L,re]),et=(0,y.useMemo)(()=>({activatorEvent:E,activators:ut,active:C,activeNodeRect:H,ariaDescribedById:{draggable:T},dispatch:u,draggableNodes:v,over:X,measureDroppableContainers:O}),[E,ut,C,H,u,T,v,X,O]);return y.createElement(On.Provider,{value:p},y.createElement(rr.Provider,{value:et},y.createElement(sl.Provider,{value:Ze},y.createElement(il.Provider,{value:Qe},a)),y.createElement(ao,{disabled:(r==null?void 0:r.restoreFocus)===!1})),y.createElement(si,{...r,hiddenTextDescribedById:T}));function tt(){let Ie=(I==null?void 0:I.autoScrollEnabled)===!1,_e=typeof l=="object"?l.enabled===!1:l===!1,ve=x&&!Ie&&!_e;return typeof l=="object"?{...l,enabled:ve}:{enabled:ve}}}),uo=(0,y.createContext)(null),ol="button",mo="Draggable";function ho(t){let{id:e,data:r,disabled:l=!1,attributes:a}=t,s=Ft(mo),{activators:i,activatorEvent:o,active:d,activeNodeRect:c,ariaDescribedById:m,draggableNodes:u,over:h}=(0,y.useContext)(rr),{role:p=ol,roleDescription:f="draggable",tabIndex:g=0}=a??{},x=(d==null?void 0:d.id)===e,b=(0,y.useContext)(x?il:uo),[v,j]=br(),[w,_]=br(),N=Xi(i,e),C=Bt(r);return rt(()=>(u.set(e,{id:e,key:s,node:v,activatorNode:w,data:C}),()=>{let S=u.get(e);S&&S.key===s&&u.delete(e)}),[u,e]),{active:d,activatorEvent:o,activeNodeRect:c,attributes:(0,y.useMemo)(()=>({role:p,tabIndex:g,"aria-disabled":l,"aria-pressed":x&&p===ol?!0:void 0,"aria-roledescription":f,"aria-describedby":m.draggable}),[l,p,g,x,f,m.draggable]),isDragging:x,listeners:l?void 0:N,node:v,over:h,setNodeRef:j,setActivatorNodeRef:_,transform:b}}function po(){return(0,y.useContext)(sl)}var fo="Droppable",xo={timeout:25};function go(t){let{data:e,disabled:r=!1,id:l,resizeObserverConfig:a}=t,s=Ft(fo),{active:i,dispatch:o,over:d,measureDroppableContainers:c}=(0,y.useContext)(rr),m=(0,y.useRef)({disabled:r}),u=(0,y.useRef)(!1),h=(0,y.useRef)(null),p=(0,y.useRef)(null),{disabled:f,updateMeasurementsFor:g,timeout:x}={...xo,...a},b=Bt(g??l),v=er({callback:(0,y.useCallback)(()=>{if(!u.current){u.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(b.current)?b.current:[b.current]),p.current=null},x)},[x]),disabled:f||!i}),[j,w]=br((0,y.useCallback)((N,C)=>{v&&(C&&(v.unobserve(C),u.current=!1),N&&v.observe(N))},[v])),_=Bt(e);return(0,y.useEffect)(()=>{!v||!j.current||(v.disconnect(),u.current=!1,v.observe(j.current))},[j,v]),(0,y.useEffect)(()=>(o({type:we.RegisterDroppable,element:{id:l,key:s,disabled:r,node:j,rect:h,data:_}}),()=>o({type:we.UnregisterDroppable,key:s,id:l})),[l]),(0,y.useEffect)(()=>{r!==m.current.disabled&&(o({type:we.SetDroppableDisabled,id:l,key:s,disabled:r}),m.current.disabled=r)},[l,s,r,o]),{active:i,rect:h,isOver:(d==null?void 0:d.id)===l,node:j,over:d,setNodeRef:w}}function cl(t,e,r){let l=t.slice();return l.splice(r<0?l.length+r:r,0,l.splice(e,1)[0]),l}function bo(t,e){return t.reduce((r,l,a)=>{let s=e.get(l);return s&&(r[a]=s),r},Array(t.length))}function nr(t){return t!==null&&t>=0}function vo(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function yo(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var lr={scaleX:1,scaleY:1},jo=t=>{let{rects:e,activeNodeRect:r,activeIndex:l,overIndex:a,index:s}=t,i=e[l]??r;if(!i)return null;let o=wo(e,s,l);if(s===l){let d=e[a];return d?{x:l<a?d.left+d.width-(i.left+i.width):d.left-i.left,y:0,...lr}:null}return s>l&&s<=a?{x:-i.width-o,y:0,...lr}:s<l&&s>=a?{x:i.width+o,y:0,...lr}:{x:0,y:0,...lr}};function wo(t,e,r){let l=t[e],a=t[e-1],s=t[e+1];return!l||!a&&!s?0:r<e?a?l.left-(a.left+a.width):s.left-(l.left+l.width):s?s.left-(l.left+l.width):l.left-(a.left+a.width)}var dl=t=>{let{rects:e,activeIndex:r,overIndex:l,index:a}=t,s=cl(e,l,r),i=e[a],o=s[a];return!o||!i?null:{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}},ar={scaleX:1,scaleY:1},_o=t=>{let{activeIndex:e,activeNodeRect:r,index:l,rects:a,overIndex:s}=t,i=a[e]??r;if(!i)return null;if(l===e){let d=a[s];return d?{x:0,y:e<s?d.top+d.height-(i.top+i.height):d.top-i.top,...ar}:null}let o=No(a,l,e);return l>e&&l<=s?{x:0,y:-i.height-o,...ar}:l<e&&l>=s?{x:0,y:i.height+o,...ar}:{x:0,y:0,...ar}};function No(t,e,r){let l=t[e],a=t[e-1],s=t[e+1];return l?r<e?a?l.top-(a.top+a.height):s?s.top-(l.top+l.height):0:s?s.top-(l.top+l.height):a?l.top-(a.top+a.height):0:0}var ul="Sortable",ml=y.createContext({activeIndex:-1,containerId:ul,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dl,disabled:{draggable:!1,droppable:!1}});function hl(t){let{children:e,id:r,items:l,strategy:a=dl,disabled:s=!1}=t,{active:i,dragOverlay:o,droppableRects:d,over:c,measureDroppableContainers:m}=po(),u=Ft(ul,r),h=o.rect!==null,p=(0,y.useMemo)(()=>l.map(N=>typeof N=="object"&&"id"in N?N.id:N),[l]),f=i!=null,g=i?p.indexOf(i.id):-1,x=c?p.indexOf(c.id):-1,b=(0,y.useRef)(p),v=!vo(p,b.current),j=x!==-1&&g===-1||v,w=yo(s);rt(()=>{v&&f&&m(p)},[v,p,f,m]),(0,y.useEffect)(()=>{b.current=p},[p]);let _=(0,y.useMemo)(()=>({activeIndex:g,containerId:u,disabled:w,disableTransforms:j,items:p,overIndex:x,useDragOverlay:h,sortedRects:bo(p,d),strategy:a}),[g,u,w.draggable,w.droppable,j,p,x,d,h,a]);return y.createElement(ml.Provider,{value:_},e)}var Co=t=>{let{id:e,items:r,activeIndex:l,overIndex:a}=t;return cl(r,l,a).indexOf(e)},ko=t=>{let{containerId:e,isSorting:r,wasDragging:l,index:a,items:s,newIndex:i,previousItems:o,previousContainerId:d,transition:c}=t;return!c||!l||o!==s&&a===i?!1:r?!0:i!==a&&e===d},So={duration:200,easing:"ease"},pl="transform",Io=gr.Transition.toString({property:pl,duration:0,easing:"linear"}),Eo={roleDescription:"sortable"};function zo(t){let{disabled:e,index:r,node:l,rect:a}=t,[s,i]=(0,y.useState)(null),o=(0,y.useRef)(r);return rt(()=>{if(!e&&r!==o.current&&l.current){let d=a.current;if(d){let c=bt(l.current,{ignoreTransform:!0}),m={x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height};(m.x||m.y)&&i(m)}}r!==o.current&&(o.current=r)},[e,r,l,a]),(0,y.useEffect)(()=>{s&&i(null)},[s]),s}function fl(t){let{animateLayoutChanges:e=ko,attributes:r,disabled:l,data:a,getNewIndex:s=Co,id:i,strategy:o,resizeObserverConfig:d,transition:c=So}=t,{items:m,containerId:u,activeIndex:h,disabled:p,disableTransforms:f,sortedRects:g,overIndex:x,useDragOverlay:b,strategy:v}=(0,y.useContext)(ml),j=Ro(l,p),w=m.indexOf(i),_=(0,y.useMemo)(()=>({sortable:{containerId:u,index:w,items:m},...a}),[u,a,w,m]),N=(0,y.useMemo)(()=>m.slice(m.indexOf(i)),[m,i]),{rect:C,node:S,isOver:I,setNodeRef:k}=go({id:i,data:_,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...d}}),{active:E,activatorEvent:z,activeNodeRect:R,attributes:T,setNodeRef:P,listeners:D,isDragging:M,over:O,setActivatorNodeRef:L,transform:A}=ho({id:i,data:_,attributes:{...Eo,...r},disabled:j.draggable}),V=Zm(k,P),$=!!E,U=$&&!f&&nr(h)&&nr(x),H=!b&&M,G=U?(H&&U?A:null)??(o??v)({rects:g,activeNodeRect:R,activeIndex:h,overIndex:x,index:w}):null,F=nr(h)&&nr(x)?s({id:i,items:m,activeIndex:h,overIndex:x}):w,Y=E==null?void 0:E.id,W=(0,y.useRef)({activeId:Y,items:m,newIndex:F,containerId:u}),B=m!==W.current.items,J=e({active:E,containerId:u,isDragging:M,isSorting:$,id:i,index:w,items:m,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:c,wasDragging:W.current.activeId!=null}),Q=zo({disabled:!J,index:w,node:S,rect:C});return(0,y.useEffect)(()=>{$&&W.current.newIndex!==F&&(W.current.newIndex=F),u!==W.current.containerId&&(W.current.containerId=u),m!==W.current.items&&(W.current.items=m)},[$,F,u,m]),(0,y.useEffect)(()=>{if(Y===W.current.activeId)return;if(Y!=null&&W.current.activeId==null){W.current.activeId=Y;return}let re=setTimeout(()=>{W.current.activeId=Y},50);return()=>clearTimeout(re)},[Y]),{active:E,activeIndex:h,attributes:T,data:_,rect:C,index:w,newIndex:F,items:m,isOver:I,isSorting:$,isDragging:M,listeners:D,node:S,overIndex:x,over:O,setNodeRef:V,setActivatorNodeRef:L,setDroppableNodeRef:k,setDraggableNodeRef:P,transform:Q??G,transition:Z()};function Z(){if(Q||B&&W.current.newIndex===w)return Io;if(!(H&&!sn(z)||!c)&&($||J))return gr.Transition.toString({...c,property:pl})}}function Ro(t,e){return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(t==null?void 0:t.draggable)??e.draggable,droppable:(t==null?void 0:t.droppable)??e.droppable}}function sr(t){if(!t)return!1;let e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var Do=[ae.Down,ae.Right,ae.Up,ae.Left],Mo=(t,e)=>{let{context:{active:r,collisionRect:l,droppableRects:a,droppableContainers:s,over:i,scrollableAncestors:o}}=e;if(Do.includes(t.code)){if(t.preventDefault(),!r||!l)return;let d=[];s.getEnabled().forEach(u=>{if(!u||u!=null&&u.disabled)return;let h=a.get(u.id);if(h)switch(t.code){case ae.Down:l.top<h.top&&d.push(u);break;case ae.Up:l.top>h.top&&d.push(u);break;case ae.Left:l.left>h.left&&d.push(u);break;case ae.Right:l.left<h.left&&d.push(u);break}});let c=ci({active:r,collisionRect:l,droppableRects:a,droppableContainers:d,pointerCoordinates:null}),m=Dr(c,"id");if(m===(i==null?void 0:i.id)&&c.length>1&&(m=c[1].id),m!=null){let u=s.get(r.id),h=s.get(m),p=h?a.get(h.id):null,f=h==null?void 0:h.node.current;if(f&&p&&u&&h){let g=Jt(f).some((w,_)=>o[_]!==w),x=xl(u,h),b=To(u,h),v=g||!x?{x:0,y:0}:{x:b?l.width-p.width:0,y:b?l.height-p.height:0},j={x:p.left,y:p.top};return v.x&&v.y?j:Vt(j,v)}}}};function xl(t,e){return!sr(t)||!sr(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function To(t,e){return!sr(t)||!sr(e)||!xl(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var Oo=q();const Ao=()=>{let t=(0,Oo.c)(21),{startupLogsAlert:e}=Pa(),{clearStartupLogsAlert:r}=Oa(),[l,a]=(0,y.useState)(!1),s=e==null?void 0:e.status,i;t[0]===r?i=t[1]:(i=()=>{r(),a(!0)},t[0]=r,t[1]=i);let o=I1(i),d=s==="done",c=s==="start"||s==="append",m;t[2]!==o||t[3]!==d?(m=()=>{let _;return d&&(_=window.setTimeout(()=>o(),5e3)),()=>{_&&window.clearTimeout(_)}},t[2]=o,t[3]=d,t[4]=m):m=t[4];let u;if(t[5]===d?u=t[6]:(u=[d],t[5]=d,t[6]=u),(0,y.useEffect)(m,u),e===null||l)return null;let h;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)(gn,{className:"w-5 h-5 inline-block mr-2"}),t[7]=h):h=t[7];let p=c?"Initializing...":"Initialized",f;t[8]===p?f=t[9]:(f=(0,n.jsxs)("span",{className:"font-bold text-lg flex items-center mb-2",children:[h,p]}),t[8]=p,t[9]=f);let g;t[10]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n.jsx)(He,{className:"w-5 h-5"}),t[10]=g):g=t[10];let x;t[11]===o?x=t[12]:(x=(0,n.jsx)(ie,{variant:"text","data-testid":"remove-startup-logs-button",size:"icon",onClick:o,children:g}),t[11]=o,t[12]=x);let b;t[13]!==f||t[14]!==x?(b=(0,n.jsxs)("div",{className:"flex justify-between",children:[f,x]}),t[13]=f,t[14]=x,t[15]=b):b=t[15];let v=e.content||"Starting startup script...",j;t[16]===v?j=t[17]:(j=(0,n.jsx)("div",{className:"flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",children:(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)("pre",{className:"bg-muted p-3 rounded text-sm font-mono overflow-auto max-h-64 whitespace-pre-wrap",children:v})})}),t[16]=v,t[17]=j);let w;return t[18]!==j||t[19]!==b?(w=(0,n.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-12 min-w-[400px] max-w-[600px] z-200 opacity-95",children:(0,n.jsxs)(It,{kind:"info",className:"flex flex-col rounded py-3 px-5 animate-in slide-in-from-left",children:[b,j]})}),t[18]=j,t[19]=b,t[20]=w):w=t[20],w};var gl=q(),Po=j0("rounded-full shadow-xs-solid border p-[5px] transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 [&>svg]:size-3 active:shadow-none bg-background",{variants:{variant:{default:"hover:bg-accent hover:text-accent-foreground",stale:"bg-(--yellow-3) hover:bg-(--yellow-4) text-(--yellow-11)",green:"hover:bg-(--grass-2) hover:text-(--grass-11) hover:border-[var(--grass-7)],",disabled:"opacity-50 cursor-not-allowed",danger:"hover:bg-(--red-3) hover:text-(--red-11)"}},defaultVariants:{variant:"default"}});const Dt=t=>{let e=(0,gl.c)(18),r,l,a,s,i,o,d;if(e[0]!==t){let{children:u,tooltip:h,disabled:p,variant:f,...g}=t;r=u,d=h;let x=p===void 0?!1:p;l=x,a=g,s=b=>{var v;x||((v=g.onClick)==null||v.call(g,b))},i=vr.preventFocus,o=K(Po({variant:f}),g.className),e[0]=t,e[1]=r,e[2]=l,e[3]=a,e[4]=s,e[5]=i,e[6]=o,e[7]=d}else r=e[1],l=e[2],a=e[3],s=e[4],i=e[5],o=e[6],d=e[7];let c;e[8]!==r||e[9]!==l||e[10]!==a||e[11]!==s||e[12]!==i||e[13]!==o?(c=(0,n.jsx)("button",{disabled:l,...a,onClick:s,onMouseDown:i,className:o,children:r}),e[8]=r,e[9]=l,e[10]=a,e[11]=s,e[12]=i,e[13]=o,e[14]=c):c=e[14];let m=c;if(d){let u;return e[15]!==m||e[16]!==d?(u=(0,n.jsx)(ne,{content:d,side:"top",delayDuration:200,usePortal:!1,children:m}),e[15]=m,e[16]=d,e[17]=u):u=e[17],u}return m},Lo=t=>{let e=(0,gl.c)(5),{children:r,className:l}=t,a;e[0]===l?a=e[1]:(a=K("flex items-center gap-1 bg-background m-[2px] rounded-full",l),e[0]=l,e[1]=a);let s;return e[2]!==r||e[3]!==a?(s=(0,n.jsx)(ps,{className:a,children:r}),e[2]=r,e[3]=a,e[4]=s):s=e[4],s};var Fo=q();const Wo=t=>{let e=(0,Fo.c)(9),{connectionState:r,status:l}=t,{sendInterrupt:a}=Ye(),s=Tn(l==="running"),i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=Je("global.interrupt"),e[0]=i):i=e[0];let o;e[1]!==r||e[2]!==s?(o=Be(r)||!s,e[1]=r,e[2]=s,e[3]=o):o=e[3];let d=s?a:Nt.NOOP,c=s?"stale":"disabled",m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(Va,{strokeWidth:1.5}),e[4]=m):m=e[4];let u;return e[5]!==o||e[6]!==d||e[7]!==c?(u=(0,n.jsx)(Dt,{tooltip:i,disabled:o,onClick:d,variant:c,"data-testid":"run-button",children:m}),e[5]=o,e[6]=d,e[7]=c,e[8]=u):u=e[8],u};var Vo={width:void 0,height:void 0};function Bo(t){let{ref:e,box:r="content-box",skip:l}=t,a=(0,y.useRef)({...Vo}),s=(0,y.useRef)(void 0);s.current=t.onResize,(0,y.useEffect)(()=>{if(!e.current||l||typeof window>"u"||!("ResizeObserver"in window))return;let i=new ResizeObserver(([o])=>{let d=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",c=bl(o,d,"inlineSize"),m=bl(o,d,"blockSize");if(a.current.width!==c||a.current.height!==m){let u={width:c,height:m};a.current.width=c,a.current.height=m,s.current&&s.current(u)}});return i.observe(e.current,{box:r}),()=>{i.disconnect()}},[r,e,l])}function bl(t,e,r){return t[e]?Array.isArray(t[e])?t[e][0][r]:t[e][r]:e==="contentBoxSize"?t.contentRect[r==="inlineSize"?"width":"height"]:void 0}function Ho(){return{countRender:()=>{}}}function qo(t){let e=t.current;if(e===null)throw ReferenceError("Attempting to dereference null object.");return e}var $o=q();const vl=t=>{let e=(0,$o.c)(55),{connectionState:r,onClick:l,tooltipContent:a,oneClickShortcut:s}=t,{createNewCell:i,addSetupCellIfDoesntExist:o}=Fe(),d=`${s}-Click`,[c,m]=(0,y.useState)(!1),u;e[0]!==r||e[1]!==a?(u=dr(r)||a,e[0]=r,e[1]=a,e[2]=u):u=e[2];let h=u,p;e[3]!==h||e[4]!==r||e[5]!==d?(p=Be(r)?h:(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("div",{children:h}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground font-medium pt-1 -mt-2 border-t border-border",children:[(0,n.jsx)(A1,{shortcut:d,className:"inline"})," ",(0,n.jsx)("span",{children:"for other cell types"})]})]}),e[3]=h,e[4]=r,e[5]=d,e[6]=p):p=e[6];let f=p,g;e[7]===l?g=e[8]:(g=()=>{l==null||l({code:""})},e[7]=l,e[8]=g);let x=g,b;e[9]!==i||e[10]!==l?(b=()=>{Cr({autoInstantiate:!0,createNewCell:i}),l==null||l({code:hr.markdown.defaultCode,hideCode:!0})},e[9]=i,e[10]=l,e[11]=b):b=e[11];let v=b,j;e[12]!==i||e[13]!==l?(j=()=>{Cr({autoInstantiate:!0,createNewCell:i}),l==null||l({code:hr.sql.defaultCode})},e[12]=i,e[13]=l,e[14]=j):j=e[14];let w=j,_;e[15]===o?_=e[16]:(_=()=>{o({})},e[15]=o,e[16]=_);let N=_,C=Uo,S;e[17]!==x||e[18]!==s?(S=B=>{(s==="shift"?B.shiftKey:B.metaKey||B.ctrlKey)||(B.preventDefault(),B.stopPropagation(),x())},e[17]=x,e[18]=s,e[19]=S):S=e[19];let I=S,k;e[20]===Symbol.for("react.memo_cache_sentinel")?(k=B=>{B&&(m(!0),setTimeout(()=>{m(!1)},200))},e[20]=k):k=e[20];let E=k,z;e[21]!==x||e[22]!==c?(z=B=>{if(c){B.preventDefault(),B.stopPropagation();return}x()},e[21]=x,e[22]=c,e[23]=z):z=e[23];let R=z,T;e[24]===r?T=e[25]:(T=K("border-none hover-action shadow-none! bg-transparent! focus-visible:outline-none",Be(r)&&" inactive-button"),e[24]=r,e[25]=T);let P;e[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,n.jsx)(Nn,{strokeWidth:3,size:14,className:"opacity-60 hover:opacity-90"}),e[26]=P):P=e[26];let D;e[27]===f?D=e[28]:(D=(0,n.jsx)(ne,{content:f,children:P}),e[27]=f,e[28]=D);let M;e[29]!==T||e[30]!==D?(M=(0,n.jsx)(ot,{className:T,onMouseDown:vr.preventFocus,size:"small",color:"hint-green","data-testid":"create-cell-button",children:D}),e[29]=T,e[30]=D,e[31]=M):M=e[31];let O;e[32]!==I||e[33]!==M?(O=(0,n.jsx)(lt,{asChild:!0,onPointerDown:I,children:M}),e[32]=I,e[33]=M,e[34]=O):O=e[34];let L;e[35]===Symbol.for("react.memo_cache_sentinel")?(L=C((0,n.jsx)(Z1,{})),e[35]=L):L=e[35];let A;e[36]===R?A=e[37]:(A=(0,n.jsxs)(nt,{onClick:R,children:[L,"Python cell"]}),e[36]=R,e[37]=A);let V;e[38]===Symbol.for("react.memo_cache_sentinel")?(V=C((0,n.jsx)(ep,{})),e[38]=V):V=e[38];let $;e[39]===v?$=e[40]:($=(0,n.jsxs)(nt,{onClick:v,children:[V,"Markdown cell"]}),e[39]=v,e[40]=$);let U;e[41]===Symbol.for("react.memo_cache_sentinel")?(U=C((0,n.jsx)(ia,{size:13,strokeWidth:1.5})),e[41]=U):U=e[41];let H;e[42]===w?H=e[43]:(H=(0,n.jsxs)(nt,{onClick:w,children:[U,"SQL cell"]}),e[42]=w,e[43]=H);let G;e[44]===Symbol.for("react.memo_cache_sentinel")?(G=C((0,n.jsx)(dh,{size:13,strokeWidth:1.5})),e[44]=G):G=e[44];let F;e[45]===N?F=e[46]:(F=(0,n.jsxs)(nt,{onClick:N,children:[G,"Setup cell"]}),e[45]=N,e[46]=F);let Y;e[47]!==A||e[48]!==$||e[49]!==H||e[50]!==F?(Y=(0,n.jsxs)(at,{side:"bottom",sideOffset:-30,children:[A,$,H,F]}),e[47]=A,e[48]=$,e[49]=H,e[50]=F,e[51]=Y):Y=e[51];let W;return e[52]!==O||e[53]!==Y?(W=(0,n.jsxs)(st,{onOpenChange:E,children:[O,Y]}),e[52]=O,e[53]=Y,e[54]=W):W=e[54],W};function Uo(t){return(0,n.jsx)("div",{className:"mr-3 text-muted-foreground",children:t})}var Ko=q();const yl=t=>{let e=(0,Ko.c)(35),{children:r,cellId:l,getEditorView:a}=t,s=Lt(l),i=Pt(l),o=!mn(i.output),d=i.consoleOutputs.length>0,c;e[0]!==s.config||e[1]!==s.name||e[2]!==l||e[3]!==i.status||e[4]!==a||e[5]!==o||e[6]!==d?(c={cell:{cellId:l,name:s.name,config:s.config,status:i.status,hasOutput:o,hasConsoleOutput:d,getEditorView:a}},e[0]=s.config,e[1]=s.name,e[2]=l,e[3]=i.status,e[4]=a,e[5]=o,e[6]=d,e[7]=c):c=e[7];let m=sh(c),[u,h]=y.useState(),p=!!u,f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(kh,{size:13,strokeWidth:1.5}),e[8]=f):f=e[8];let g;e[9]===l?g=e[10]:(g=async()=>{var I;if((I=window.getSelection())!=null&&I.toString()){document.execCommand("copy");return}let S=document.getElementById(um.create(l));if(!S){We.warn("cell-context-menu: output not found");return}await z1(S.textContent??"")},e[9]=l,e[10]=g);let x,b,v,j,w,_;if(e[11]!==m||e[12]!==r||e[13]!==a||e[14]!==u||e[15]!==p||e[16]!==g){let S=[[{label:"Copy",hidden:p,icon:f,handle:g},{label:"Cut",hidden:!!u,icon:(0,n.jsx)(rh,{size:13,strokeWidth:1.5}),handle:Go},{label:"Paste",hidden:!!u,icon:(0,n.jsx)(Nh,{size:13,strokeWidth:1.5}),handle:async()=>{let k=a();if(k)try{let E=await navigator.clipboard.readText();if(E){let{from:z,to:R}=k.state.selection.main,T=k.state.update({changes:{from:z,to:R,insert:E}});k.dispatch(T)}}catch(E){let z=E;We.error("Failed to paste from clipboard",z),Q0({command:"paste"})}}},{label:"Copy image",hidden:!u,icon:(0,n.jsx)(oh,{size:13,strokeWidth:1.5}),handle:async()=>{if(u){let k=await(await fetch(u.src)).blob(),E=new ClipboardItem({[k.type]:k});await navigator.clipboard.write([E]).then(Xo).catch(Yo)}}},{icon:(0,n.jsx)(Yh,{size:13,strokeWidth:1.5}),label:"Download image",hidden:!u,handle:()=>{if(u){let k=document.createElement("a");k.download="image.png",k.href=u.src,k.click()}}},{label:"Go to Definition",icon:(0,n.jsx)(s1,{size:13,strokeWidth:1.5}),handle:()=>{let k=a();k&&Tm(k)}}],...m];b=N0;let I;e[23]===Symbol.for("react.memo_cache_sentinel")?(I=k=>{k.target instanceof HTMLImageElement?h(k.target):h(void 0)},e[23]=I):I=e[23],e[24]===r?v=e[25]:(v=(0,n.jsx)(k0,{onContextMenu:I,asChild:!0,children:r}),e[24]=r,e[25]=v),x=C0,j="w-[300px]",w=!0,_=S.map((k,E)=>(0,n.jsxs)(y.Fragment,{children:[k.map(Qo),E<S.length-1&&(0,n.jsx)(I0,{})]},E)),e[11]=m,e[12]=r,e[13]=a,e[14]=u,e[15]=p,e[16]=g,e[17]=x,e[18]=b,e[19]=v,e[20]=j,e[21]=w,e[22]=_}else x=e[17],b=e[18],v=e[19],j=e[20],w=e[21],_=e[22];let N;e[26]!==x||e[27]!==j||e[28]!==w||e[29]!==_?(N=(0,n.jsx)(x,{className:j,scrollable:w,children:_}),e[26]=x,e[27]=j,e[28]=w,e[29]=_,e[30]=N):N=e[30];let C;return e[31]!==b||e[32]!==v||e[33]!==N?(C=(0,n.jsxs)(b,{children:[v,N]}),e[31]=b,e[32]=v,e[33]=N,e[34]=C):C=e[34],C};function Go(){document.execCommand("cut")}function Xo(){Kt({title:"Copied image to clipboard"})}function Yo(t){Kt({title:"Failed to copy image to clipboard. Try downloading instead.",description:t.message}),We.error("Failed to copy image to clipboard",t)}function Jo(t){t.stopPropagation()}function Qo(t){if(t.hidden)return null;let e=(0,n.jsxs)("div",{className:"flex items-center flex-1",children:[t.icon&&(0,n.jsx)("div",{className:"mr-2 w-5 text-muted-foreground",children:t.icon}),(0,n.jsx)("div",{className:"flex-1",children:t.label}),(0,n.jsxs)("div",{className:"shrink-0 text-sm",children:[t.hotkey&&O1(t.hotkey),t.rightElement]})]});return t.tooltip&&(e=(0,n.jsx)(ne,{delayDuration:100,content:t.tooltip,children:e})),(0,n.jsx)(y.Fragment,{children:t.disableClick?(0,n.jsx)("div",{className:v1({className:t.disabled?"opacity-50!":"",variant:t.variant}),onKeyDown:Jo,children:e}):(0,n.jsx)(z0,{className:t.disabled?"opacity-50!":"",onSelect:r=>{t.disableClick||t.disabled||t.handle(r)},variant:t.variant,children:e})},t.label)}var Zo=q();const ec=t=>{let e=(0,Zo.c)(10),r;e[0]===t.left?r=e[1]:(r=(0,n.jsx)("div",{className:"flex-1 flex item-center gap-2",children:t.left}),e[0]=t.left,e[1]=r);let l;e[2]===t.center?l=e[3]:(l=(0,n.jsx)("div",{className:"flex-1 flex item-center gap-2 justify-center",children:t.center}),e[2]=t.center,e[3]=l);let a;e[4]===t.right?a=e[5]:(a=(0,n.jsx)("div",{className:"flex-1 flex item-center gap-2 justify-end",children:t.right}),e[4]=t.right,e[5]=a);let s;return e[6]!==r||e[7]!==l||e[8]!==a?(s=(0,n.jsxs)("div",{className:"flex items-center gap-2 w-full px-3",children:[r,l,a]}),e[6]=r,e[7]=l,e[8]=a,e[9]=s):s=e[9],s};var Hr=q();const tc=t=>{let e=(0,Hr.c)(8);if(!t.canCollapse&&!t.isCollapsed)return null;let r=t.isCollapsed?"Expand":"Collapse",l;e[0]===t.isCollapsed?l=e[1]:(l=(0,n.jsx)("span",{children:(0,n.jsx)(rc,{isCollapsed:t.isCollapsed})}),e[0]=t.isCollapsed,e[1]=l);let a;e[2]!==r||e[3]!==l?(a=(0,n.jsx)(ne,{content:r,children:l}),e[2]=r,e[3]=l,e[4]=a):a=e[4];let s;return e[5]!==t.onClick||e[6]!==a?(s=(0,n.jsx)(ie,{variant:"text",size:"icon",onClick:t.onClick,children:a}),e[5]=t.onClick,e[6]=a,e[7]=s):s=e[7],s};var rc=t=>{let e=(0,Hr.c)(2),{isCollapsed:r}=t,l;return e[0]===r?l=e[1]:(l=r?(0,n.jsx)(yn,{className:"w-5 h-5 shrink-0 opacity-60",strokeWidth:2}):(0,n.jsx)(pt,{className:"w-5 h-5 shrink-0 opacity-60",strokeWidth:2}),e[0]=r,e[1]=l),l};const jl=(0,y.memo)(t=>{let e=(0,Hr.c)(24),{onClick:r,count:l,cellId:a}=t,s=xm(),i;e[0]!==a||e[1]!==s?(i=Fm(s,a),e[0]=a,e[1]=s,e[2]=i):i=e[2];let o=i,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=K("flex items-center justify-between w-[calc(100%-2rem)] h-9 bg-muted rounded-b mx-4 opacity-80 hover:opacity-100 cursor-pointer"),e[3]=d):d=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(S0,{className:"w-4 h-4 shrink-0"}),e[4]=c):c=e[4];let m=l===1?"cell":"cells",u;e[5]!==l||e[6]!==m?(u=(0,n.jsxs)(n.Fragment,{children:[c,(0,n.jsxs)("span",{className:"text-sm text-gray-500",children:[l," ",m," collapsed"]})]}),e[5]=l,e[6]=m,e[7]=u):u=e[7];let h;e[8]===o.errored?h=e[9]:(h=o.errored&&(0,n.jsx)(ne,{content:"Has errors",delayDuration:100,children:(0,n.jsx)(as,{className:"w-4 h-4 shrink-0 text-destructive"})}),e[8]=o.errored,e[9]=h);let p;e[10]===o.stale?p=e[11]:(p=o.stale&&(0,n.jsx)(ne,{content:"Has stale cells",delayDuration:100,children:(0,n.jsx)(t1,{className:"w-4 h-4 shrink-0 text-(--yellow-11)"})}),e[10]=o.stale,e[11]=p);let f;e[12]===o.runningOrQueued?f=e[13]:(f=o.runningOrQueued&&(0,n.jsx)(ne,{content:"Running",delayDuration:100,children:(0,n.jsx)(Jh,{className:"w-4 h-4 shrink-0 animate-spin"})}),e[12]=o.runningOrQueued,e[13]=f);let g;e[14]!==h||e[15]!==p||e[16]!==f?(g=(0,n.jsxs)(n.Fragment,{children:[h,p,f]}),e[14]=h,e[15]=p,e[16]=f,e[17]=g):g=e[17];let x;e[18]!==u||e[19]!==g?(x=(0,n.jsx)(ec,{center:u,right:g}),e[18]=u,e[19]=g,e[20]=x):x=e[20];let b;return e[21]!==r||e[22]!==x?(b=(0,n.jsx)("div",{onClick:r,className:d,children:x}),e[21]=r,e[22]=x,e[23]=b):b=e[23],b});jl.displayName="CollapsedCellBanner";var nc=q();const wl=t=>{let e=(0,nc.c)(31),{status:r,connectionState:l,onClick:a}=t,s=r==="running"||r==="queued",i,o,d,c,m,u,h,p,f,g;if(e[0]!==l||e[1]!==s||e[2]!==a||e[3]!==r){let w=Be(l),_;if(w){let N;e[14]===l?N=e[15]:(N=dr(l),e[14]=l,e[15]=N),_=N}else _=r==="running"?"A cell can't be deleted when it's running":r==="queued"?"A cell can't be deleted when it's queued to run":"Delete";o=ne,f=_,g=!1,i=ie,d="ghost",c="icon",m=a,u="delete-button",h=vr.preventFocus,p=K("hover:bg-transparent text-destructive/60 hover:text-destructive",(w||s)&&"inactive-button"),e[0]=l,e[1]=s,e[2]=a,e[3]=r,e[4]=i,e[5]=o,e[6]=d,e[7]=c,e[8]=m,e[9]=u,e[10]=h,e[11]=p,e[12]=f,e[13]=g}else i=e[4],o=e[5],d=e[6],c=e[7],m=e[8],u=e[9],h=e[10],p=e[11],f=e[12],g=e[13];let x,b;e[16]===Symbol.for("react.memo_cache_sentinel")?(x={boxShadow:"none"},b=(0,n.jsx)(Ba,{size:14}),e[16]=x,e[17]=b):(x=e[16],b=e[17]);let v;e[18]!==i||e[19]!==d||e[20]!==c||e[21]!==m||e[22]!==u||e[23]!==h||e[24]!==p?(v=(0,n.jsx)(i,{variant:d,size:c,onClick:m,"data-testid":u,onMouseDown:h,className:p,style:x,children:b}),e[18]=i,e[19]=d,e[20]=c,e[21]=m,e[22]=u,e[23]=h,e[24]=p,e[25]=v):v=e[25];let j;return e[26]!==o||e[27]!==v||e[28]!==f||e[29]!==g?(j=(0,n.jsx)(o,{content:f,usePortal:g,children:v}),e[26]=o,e[27]=v,e[28]=f,e[29]=g,e[30]=j):j=e[30],j};var lc=q();const ac=t=>{let e=(0,lc.c)(22),{cellId:r}=t,l=Ih(r);if(!l.isPending)return null;if(l.type==="simple"){let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=K("px-3 py-1.5","bg-(--amber-2) border-t border-(--amber-6)","animate-in slide-in-from-top-2 duration-200"),e[0]=b):b=e[0];let v=`pending-delete-${r}`,j;e[1]===Symbol.for("react.memo_cache_sentinel")?(j=(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(kn,{className:"w-3 h-3 text-(--amber-11) shrink-0"}),(0,n.jsx)("span",{className:"text-(--amber-11) text-xs",children:"Pending deletion"})]}),e[1]=j):j=e[1];let w;return e[2]===v?w=e[3]:(w=(0,n.jsx)("div",{className:b,"data-testid":v,children:j}),e[2]=v,e[3]=w),w}let a=l.executionDurationMs!==void 0,s=l.defs.size>0,i=U0(l.executionDurationMs??0),o="Pending deletion";a&&s?o=`This cell took ${i} to run and contains variables referenced by other cells.`:a?o=`This cell took ${i} to run.`:s&&(o="This cell contains variables referenced by other cells.");let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=K("px-4 py-3","bg-(--amber-2) border-t border-(--amber-6)","animate-in slide-in-from-top-2 duration-200"),e[4]=d):d=e[4];let c=`pending-delete-${r}`,m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(kn,{className:"w-4 h-4 text-(--amber-11) mt-0.5 shrink-0"}),e[5]=m):m=e[5];let u;e[6]===o?u=e[7]:(u=(0,n.jsx)("p",{className:"text-(--amber-11) font-medium",children:o}),e[6]=o,e[7]=u);let h;e[8]!==s||e[9]!==l.defs?(h=s&&[...l.defs.entries()].map(ic),e[8]=s,e[9]=l.defs,e[10]=h):h=e[10];let p;e[11]!==u||e[12]!==h?(p=(0,n.jsxs)("div",{className:"font-code text-sm text-[0.84375rem]",children:[u,h]}),e[11]=u,e[12]=h,e[13]=p):p=e[13];let f;e[14]===l?f=e[15]:(f=l.shouldConfirmDelete&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"text-(--amber-11) mt-2 mb-3",children:"Are you sure you want to delete?"}),(0,n.jsx)(Sn,{autoFocus:!0,children:(0,n.jsxs)("div",{className:"flex items-center gap-2",onKeyDown:oc,children:[(0,n.jsx)(ie,{size:"xs",variant:"ghost",onClick:()=>l.cancel(),className:"text-(--amber-11) hover:bg-(--amber-4) hover:text-(--amber-11)",children:"Cancel"}),(0,n.jsx)(ie,{size:"xs",variant:"secondary",onClick:()=>l.confirm(),className:"bg-(--amber-11) hover:bg-(--amber-12) text-white border-(--amber-11)",children:"Delete"})]})})]}),e[14]=l,e[15]=f);let g;e[16]!==p||e[17]!==f?(g=(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[m,(0,n.jsxs)("div",{className:"flex-1",children:[p,f]})]}),e[16]=p,e[17]=f,e[18]=g):g=e[18];let x;return e[19]!==c||e[20]!==g?(x=(0,n.jsx)("div",{className:d,"data-testid":c,children:g}),e[19]=c,e[20]=g,e[21]=x):x=e[21],x};function sc(t){return(0,n.jsx)("li",{className:"my-0.5 ml-8 text-(--amber-11)/60",children:(0,n.jsx)(q1,{cellId:t})},t)}function ic(t){let[e,r]=t;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"text-(--amber-11) mt-2",children:["'",(0,n.jsx)("span",{className:"font-mono",children:e}),"' is referenced by:"]}),(0,n.jsx)("ul",{className:"list-disc",children:r.map(sc)})]},e)}function oc(t){t.stopPropagation()}var cc=q();function dc({connectionState:t,needsRun:e,loading:r,inactive:l}){return Be(t)?"disabled":e&&!r?"stale":r||l?"disabled":"green"}const uc=t=>{let e=(0,cc.c)(27),{onClick:r,connectionState:l,needsRun:a,status:s,config:i,edited:o}=t,d=s==="disabled-transitively",c=s==="running"||s==="queued",m,u;e[0]!==d||e[1]!==i.disabled||e[2]!==l||e[3]!==o||e[4]!==c||e[5]!==a?(m=Be(l)||c||!i.disabled&&d&&!o,u=dc({connectionState:l,needsRun:a,loading:c,inactive:m}),e[0]=d,e[1]=i.disabled,e[2]=l,e[3]=o,e[4]=c,e[5]=a,e[6]=m,e[7]=u):(m=e[6],u=e[7]);let h=u;if(i.disabled){let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=(0,n.jsx)(xt,{}),e[8]=x):x=e[8];let b;return e[9]!==m||e[10]!==r||e[11]!==h?(b=(0,n.jsx)(Dt,{tooltip:"Add code to notebook",disabled:m,onClick:r,variant:h,"data-testid":"run-button",children:x}),e[9]=m,e[10]=r,e[11]=h,e[12]=b):b=e[12],b}if(!i.disabled&&d&&!o){let x;e[13]===Symbol.for("react.memo_cache_sentinel")?(x=(0,n.jsx)($t,{strokeWidth:1.2}),e[13]=x):x=e[13];let b;return e[14]!==m||e[15]!==r||e[16]!==h?(b=(0,n.jsx)(Dt,{disabled:m,tooltip:"This cell can't be run because it has a disabled ancestor",onClick:r,variant:h,"data-testid":"run-button",children:x}),e[14]=m,e[15]=r,e[16]=h,e[17]=b):b=e[17],b}let p;if(Be(l)){let x;e[18]===l?x=e[19]:(x=dr(l),e[18]=l,e[19]=x),p=x}else if(s==="queued")p="This cell is already queued to run";else if(s==="running")p="This cell is already running.";else{let x;e[20]===Symbol.for("react.memo_cache_sentinel")?(x=Je("cell.run"),e[20]=x):x=e[20],p=x}let f;e[21]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)($t,{strokeWidth:1.2}),e[21]=f):f=e[21];let g;return e[22]!==m||e[23]!==r||e[24]!==p||e[25]!==h?(g=(0,n.jsx)(Dt,{tooltip:p,disabled:m,onClick:r,variant:h,"data-testid":"run-button",children:f}),e[22]=m,e[23]=r,e[24]=p,e[25]=h,e[26]=g):g=e[26],g};var _l=q();const mc=t=>{let e=(0,_l.c)(5),{cellId:r,className:l}=t,a=ee(xn).get(r);if(!a)return null;let s=a.type==="delete_cell"?"mo-ai-deleted-cell":"mo-ai-generated-cell",i;e[0]!==s||e[1]!==l?(i=K(s,l),e[0]=s,e[1]=l,e[2]=i):i=e[2];let o;return e[3]===i?o=e[4]:(o=(0,n.jsx)("div",{className:i}),e[3]=i,e[4]=o),o},hc=t=>{let e=(0,_l.c)(15),{cellId:r}=t,l=la(),a=ee(xn),s;e[0]!==r||e[1]!==a?(s=a.get(r),e[0]=r,e[1]=a,e[2]=s):s=e[2];let i=s,o=In(r),{deleteStagedCell:d,removeStagedCell:c}=Ca(l);if(!i)return null;let m;e[3]!==r||e[4]!==d||e[5]!==c||e[6]!==i?(m=g=>{(g==="accept"?Nl:Cl)(r,i,c,d)},e[3]=r,e[4]=d,e[5]=c,e[6]=i,e[7]=m):m=e[7];let u=m,h,p;e[8]===u?(h=e[9],p=e[10]):(h=()=>u("accept"),p=()=>u("reject"),e[8]=u,e[9]=h,e[10]=p);let f;return e[11]!==o||e[12]!==h||e[13]!==p?(f=(0,n.jsx)("div",{className:"flex items-center justify-end gap-1.5 w-full pb-1 pt-2",children:(0,n.jsx)(B0,{isLoading:!1,onAccept:h,onDecline:p,size:"xs",runCell:o})}),e[11]=o,e[12]=h,e[13]=p,e[14]=f):f=e[14],f};function Nl(t,e,r,l){switch(e.type){case"delete_cell":l(t);break;default:r(t);break}}function Cl(t,e,r,l){switch(e.type){case"update_cell":{let a=ca(t);if(!a){We.error("Editor for this cell not found",{cellId:t});break}Im(a,e.previousCode),r(t);break}case"add_cell":l(t);break;case"delete_cell":r(t);break}}var pc=q();const fc=t=>{let e=(0,pc.c)(13),{cellId:r,hide:l}=t,a=hm(r);if(!a||l)return;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(Qr,{size:13,className:"mt-[3px] text-destructive"}),e[0]=s):s=e[0];let i;e[1]===a.errorType?i=e[2]:(i=(0,n.jsxs)("span",{className:"font-bold text-destructive",children:[a.errorType,":"]}),e[1]=a.errorType,e[2]=i);let o;e[3]===a.errorMessage?o=e[4]:(o=(0,n.jsx)("span",{className:"whitespace-pre-wrap",children:a.errorMessage}),e[3]=a.errorMessage,e[4]=o);let d;e[5]!==i||e[6]!==o?(d=(0,n.jsxs)("div",{className:"flex items-start gap-1.5",children:[s,(0,n.jsxs)("p",{children:[i," ",o]})]}),e[5]=i,e[6]=o,e[7]=d):d=e[7];let c;e[8]===a.codeblock?c=e[9]:(c=a.codeblock&&(0,n.jsx)("pre",{lang:"sql",className:"text-xs bg-muted/80 rounded p-2 pb-0 mx-3 font-medium whitespace-pre-wrap",children:a.codeblock}),e[8]=a.codeblock,e[9]=c);let m;return e[10]!==d||e[11]!==c?(m=(0,n.jsxs)("div",{className:"p-3 text-sm flex flex-col text-muted-foreground gap-1.5 bg-destructive/4",children:[d,c]}),e[10]=d,e[11]=c,e[12]=m):m=e[12],m};var kl=q(),Sl=y.createContext(null);const Il=(0,y.memo)(()=>(0,y.use)(Sl));Il.displayName="DragHandle";function xc(t){return t?t.x===0&&t.y===0&&t.scaleX===1&&t.scaleY===1:!0}const El=y.forwardRef((t,e)=>{let r=(0,kl.c)(21),l,a,s;r[0]===t?(l=r[1],a=r[2],s=r[3]):({cellId:a,canMoveX:l,...s}=t,r[0]=t,r[1]=l,r[2]=a,r[3]=s);let i;r[4]===a?i=r[5]:(i=a.toString(),r[4]=a,r[5]=i);let o;r[6]===i?o=r[7]:(o={id:i},r[6]=i,r[7]=o);let{attributes:d,listeners:c,setNodeRef:m,transform:u,transition:h,isDragging:p}=fl(o),f;r[8]===u?f=r[9]:(f=xc(u)?null:u,r[8]=u,r[9]=f);let g=f,x=g==null?void 0:h,b;return r[10]!==d||r[11]!==l||r[12]!==a||r[13]!==p||r[14]!==c||r[15]!==s||r[16]!==e||r[17]!==m||r[18]!==g||r[19]!==x?(b=(0,n.jsx)(zl,{ref:e,cellId:a,canMoveX:l,...s,attributes:d,listeners:c,setNodeRef:m,transform:g,transition:x,isDragging:p}),r[10]=d,r[11]=l,r[12]=a,r[13]=p,r[14]=c,r[15]=s,r[16]=e,r[17]=m,r[18]=g,r[19]=x,r[20]=b):b=r[20],b});El.displayName="SortableCell";var zl=y.forwardRef((t,e)=>{let r=(0,kl.c)(35),l,a,s,i,o,d,c,m;if(r[0]!==e||r[1]!==t){let{cellId:p,canMoveX:f,children:g,attributes:x,listeners:b,setNodeRef:v,transform:j,transition:w,isDragging:_,...N}=t;l=g;let C;r[10]!==f||r[11]!==j?(C=j?gr.Transform.toString({x:f?j.x:0,y:j.y,scaleX:1,scaleY:1}):void 0,r[10]=f,r[11]=j,r[12]=C):C=r[12];let S=_?2:void 0,I;r[13]!==C||r[14]!==S||r[15]!==w?(I={transform:C,transition:w,zIndex:S,position:"relative"},r[13]=C,r[14]=S,r[15]=w,r[16]=I):I=r[16],s=I;let k;r[17]===Symbol.for("react.memo_cache_sentinel")?(k=(0,n.jsx)(Ke,{strokeWidth:1,size:20}),r[17]=k):k=r[17];let E;r[18]!==x||r[19]!==b?(E=(0,n.jsx)("div",{...x,...b,onMouseDown:vr.preventFocus,"data-testid":"drag-button",className:"py-px cursor-grab opacity-50 hover:opacity-100 hover-action hover:bg-muted rounded border border-transparent hover:border-border active:bg-accent",children:k}),r[18]=x,r[19]=b,r[20]=E):E=r[20],a=E;let z=!!j;i=-1,r[21]!==e||r[22]!==v?(o=R=>{Ma(e,v)(R)},r[21]=e,r[22]=v,r[23]=o):o=r[23],d=N,c=_,m=K(N.className,z&&"is-moving","outline-hidden rounded-lg"),r[0]=e,r[1]=t,r[2]=l,r[3]=a,r[4]=s,r[5]=i,r[6]=o,r[7]=d,r[8]=c,r[9]=m}else l=r[2],a=r[3],s=r[4],i=r[5],o=r[6],d=r[7],c=r[8],m=r[9];let u;r[24]!==l||r[25]!==a?(u=(0,n.jsx)(Sl.Provider,{value:a,children:l}),r[24]=l,r[25]=a,r[26]=u):u=r[26];let h;return r[27]!==s||r[28]!==i||r[29]!==o||r[30]!==d||r[31]!==c||r[32]!==m||r[33]!==u?(h=(0,n.jsx)("div",{tabIndex:i,ref:o,...d,"data-is-dragging":c,className:m,style:s,children:u}),r[27]=s,r[28]=i,r[29]=o,r[30]=d,r[31]=c,r[32]=m,r[33]=u,r[34]=h):h=r[34],h});zl.displayName="SortableCellInternal";var vt=q();function Rl(t,e){let r=(0,vt.c)(9),l;r[0]!==t||r[1]!==e?(l=d=>{t.current!==null&&!t.current.contains(d.relatedTarget)&&e.current!==null&&A0(e.current)},r[0]=t,r[1]=e,r[2]=l):l=r[2];let a=je(l),s;r[3]!==t||r[4]!==e?(s=d=>{if(!(t.current!==document.activeElement||e.current===null||O0(e.current.state)!=="active")){for(let c of T0)if(d.key===c.key&&c.run){c.run(e.current),d.preventDefault(),d.stopPropagation();break}e.current.focus()}},r[3]=t,r[4]=e,r[5]=s):s=r[5];let i=je(s),o;return r[6]!==a||r[7]!==i?(o={closeCompletionHandler:a,resumeCompletionHandler:i},r[6]=a,r[7]=i,r[8]=o):o=r[8],o}function Dl(t){let e=(0,vt.c)(16),{cellId:r,cellConfig:l,languageAdapter:a,editorView:s}=t,i=Ph(r),o=Mh(),d;e[0]===r?d=e[1]:(d=Am(r),e[0]=r,e[1]=d);let c=ee(d),m=!l.hide_code||i||c,u=a==="markdown",h=u&&!m,p;e[2]!==r||e[3]!==s||e[4]!==m||e[5]!==o?(p=v=>{var w;if(m)return;let j=(v==null?void 0:v.focus)??!0;o.add(r),j&&((w=s.current)==null||w.focus())},e[2]=r,e[3]=s,e[4]=m,e[5]=o,e[6]=p):p=e[6];let f=je(p),g;e[7]!==h||e[8]!==f?(g=()=>{h&&f({focus:!0})},e[7]=h,e[8]=f,e[9]=g):g=e[9];let x=je(g),b;return e[10]!==m||e[11]!==u||e[12]!==h||e[13]!==f||e[14]!==x?(b={isCellCodeShown:m,isMarkdown:u,isMarkdownCodeHidden:h,showHiddenCode:f,showHiddenCodeIfMarkdown:x},e[10]=m,e[11]=u,e[12]=h,e[13]=f,e[14]=x,e[15]=b):b=e[15],b}var gc=t=>{let{cellId:e,mode:r}=t,l=bm(e);Ho().countRender(),We.debug("Rendering Cell",e);let a=(0,y.useRef)(null);return(0,y.useImperativeHandle)(l,()=>({get editorView(){return qo(a)},get editorViewOrNull(){return a.current}}),[a]),e==="setup"?(0,n.jsx)(vc,{...t,cellId:e,editorView:a,setEditorView:s=>{a.current=s}}):r==="edit"?(0,n.jsx)(bc,{...t,cellId:e,editorView:a,setEditorView:s=>{a.current=s}}):(0,n.jsx)(Ml,{cellId:e})},Ml=(0,y.forwardRef)((t,e)=>{var g;let r=(0,vt.c)(18),{cellId:l}=t,a=Lt(l),s=Pt(l),i;r[0]===Symbol.for("react.memo_cache_sentinel")?(i=yr("marimo-cell","hover-actions-parent z-10",{published:!0}),r[0]=i):i=r[0];let o=i,d=ua((g=s.output)==null?void 0:g.mimetype);if(s.errored||s.interrupted||s.stopped||d)return null;let c;r[1]!==a.name||r[2]!==l?(c=fn(l,a.name),r[1]=a.name,r[2]=l,r[3]=c):c=r[3];let m=s.output,u;r[4]!==a.edited||r[5]!==s?(u=sa(s,a.edited),r[4]=a.edited,r[5]=s,r[6]=u):u=r[6];let h;r[7]===s.status?h=r[8]:(h=tn(s.status),r[7]=s.status,r[8]=h);let p;r[9]!==l||r[10]!==s.output||r[11]!==u||r[12]!==h?(p=(0,n.jsx)(pn,{allowExpand:!1,forceExpand:!0,className:dn.outputArea,cellId:l,output:m,stale:u,loading:h}),r[9]=l,r[10]=s.output,r[11]=u,r[12]=h,r[13]=p):p=r[13];let f;return r[14]!==e||r[15]!==c||r[16]!==p?(f=(0,n.jsx)("div",{tabIndex:-1,ref:e,className:o,...c,children:p}),r[14]=e,r[15]=c,r[16]=p,r[17]=f):f=r[17],f});Ml.displayName="ReadonlyCellComponent";var bc=({theme:t,showPlaceholder:e,cellId:r,canDelete:l,userConfig:a,isCollapsed:s,collapseCount:i,canMoveX:o,editorView:d,setEditorView:c})=>{var he;let m=(0,y.useRef)(null),u=Lt(r),h=Pt(r),p=(0,y.useRef)(null),f=(0,y.useRef)(null),g=(0,y.useRef)(null),x=Fe(),b=ee(St),v=jt(Wa),j=Ya(),w=In(r),{sendStdin:_}=Ye(),[N,C]=(0,y.useState)(),S=u.config.disabled||h.status==="disabled-transitively",I=da({executionTime:h.runElapsedTimeMs??u.lastExecutionTime,status:h.status,errored:h.errored,interrupted:h.interrupted,stopped:h.stopped}),k=u.edited||h.interrupted||h.staleInputs&&!S,E=tn(h.status),z=(h.status==="queued"||u.edited||h.staleInputs)&&!h.interrupted,R=(0,y.useCallback)(()=>d.current,[d]),{closeCompletionHandler:T,resumeCompletionHandler:P}=Rl(m,d),{isCellCodeShown:D,isMarkdown:M,isMarkdownCodeHidden:O,showHiddenCode:L,showHiddenCodeIfMarkdown:A}=Dl({cellId:r,cellConfig:u.config,languageAdapter:N,editorView:d,editorViewParentRef:f}),V=Da(r,{canMoveX:o,editorView:d,cellActionDropdownRef:p}),$=Lm(h.outline),U=!mn(h.output),H=sa(h,u.edited),G=h.consoleOutputs.length>0,F=a.display.cell_output,Y=U&&F==="above",W=U&&F==="below",[B,J]=(0,y.useState)(!1),[Q,Z]=(0,y.useState)(!1);Bo({ref:g,skip:!M,onResize:se=>{let oe=se.height&&se.height<68,de=O&&(oe||F==="below");J(de),$&&de?Z(!0):Q&&Z(!1)}});let re=se=>(0,n.jsx)(Qh,{tooltip:"Edit markdown",className:K("z-20 relative",se),onClick:L}),te=U&&(0,n.jsxs)("div",{className:"relative",onDoubleClick:A,children:[(0,n.jsx)("div",{className:"absolute top-5 -left-7 z-20 print:hidden",children:(0,n.jsx)(tc,{isCollapsed:s,onClick:()=>{s?x.expandCell({cellId:r}):x.collapseCell({cellId:r})},canCollapse:$})}),O&&W&&re("top-3"),(0,n.jsx)(pn,{allowExpand:!0,forceExpand:O,className:dn.outputArea,cellId:r,output:h.output,stale:H,loading:tn(h.status)}),O&&Y&&re("bottom-3")]}),ce=yr("marimo-cell","hover-actions-parent z-10",{interactive:!0,"needs-run":k,"has-error":h.errored,stopped:h.stopped,disabled:u.config.disabled,stale:h.status==="disabled-transitively",borderless:O&&U&&!V["data-selected"]}),ue=je(se=>{v({cellId:r,initialPrompt:se.prompt,triggerImmediately:se.triggerImmediately})}),ye=()=>{if(u.config.disabled)return"This cell is disabled";if(h.status==="disabled-transitively")return"This cell has a disabled ancestor"},me=((he=h.serialization)==null?void 0:he.toLowerCase())==="valid";return(0,n.jsx)(qa,{children:(0,n.jsx)(yl,{cellId:r,getEditorView:R,children:(0,n.jsxs)(El,{tabIndex:-1,ref:m,"data-status":h.status,onBlur:T,onKeyDown:P,cellId:r,canMoveX:o,title:ye(),children:[(0,n.jsxs)("div",{tabIndex:-1,...V,className:K(ce,V.className,"focus:ring-1 focus:ring-(--blue-7) focus:ring-offset-0"),ref:g,...fn(r,u.name),children:[(0,n.jsx)(Tl,{cellId:r,actions:x}),F==="above"&&te,(0,n.jsxs)("div",{className:K("tray"),"data-has-output-above":Y,"data-hidden":O,children:[(0,n.jsx)(mc,{cellId:r}),(0,n.jsx)("div",{className:"absolute right-2 -top-4 z-10",children:(0,n.jsx)($r,{edited:u.edited,status:h.status,cellConfig:u.config,needsRun:k,hasOutput:U,hasConsoleOutput:G,cellActionDropdownRef:p,cellId:r,name:u.name,getEditorView:R,onRun:w})}),(0,n.jsx)(Ta,{theme:t,showPlaceholder:e,id:r,code:u.code,config:u.config,status:h.status,serializedEditorState:u.serializedEditorState,runCell:w,setEditorView:c,userConfig:a,editorViewRef:d,editorViewParentRef:f,hidden:!D,hasOutput:U,showHiddenCode:L,languageAdapter:N,setLanguageAdapter:C,outputArea:F}),(0,n.jsx)(qr,{className:K(O&&F==="below"&&"top-14"),edited:u.edited,status:h.status,isCellStatusInline:B,uninstantiated:I,disabled:u.config.disabled,runElapsedTimeMs:h.runElapsedTimeMs,runStartTimestamp:h.runStartTimestamp,lastRunStartTimestamp:h.lastRunStartTimestamp,staleInputs:h.staleInputs,interrupted:h.interrupted}),(0,n.jsx)("div",{className:"shoulder-bottom hover-action",children:l&&D&&(0,n.jsx)(wl,{status:h.status,connectionState:b.state,onClick:()=>{!E&&!Be(b.state)&&j({cellId:r})}})})]}),(0,n.jsx)(fc,{cellId:r,hide:h.errored&&!H}),F==="below"&&te,h.serialization&&(0,n.jsxs)("div",{className:"py-1 px-2 flex items-center justify-end gap-2 last:rounded-b",children:[me&&(0,n.jsx)("a",{href:"https://links.marimo.app/reusable-definitions",target:"_blank",className:"hover:underline text-muted-foreground text-xs font-bold",rel:"noopener",children:"reusable"}),(0,n.jsx)(ne,{content:(0,n.jsx)("span",{className:"max-w-16 text-xs",children:me&&"This function or class can be imported into other Python notebooks or modules."||(0,n.jsxs)(n.Fragment,{children:["This definition can't be reused in other Python modules:",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("pre",{children:h.serialization}),(0,n.jsx)("br",{}),"Click this icon to learn more."]})}),children:me?(0,n.jsx)("a",{href:"https://links.marimo.app/reusable-definitions",target:"_blank",rel:"noopener",children:(0,n.jsx)(i1,{size:16,strokeWidth:1.5,className:"rounded-lg text-muted-foreground"})}):(0,n.jsx)("a",{href:"https://links.marimo.app/reusable-definitions",target:"_blank",rel:"noopener",children:(0,n.jsx)(Ea,{size:16,strokeWidth:1.5,className:"rounded-lg text-muted-foreground"})})})]}),(0,n.jsx)(Fa,{consoleOutputs:h.consoleOutputs,stale:z,cellName:h.serialization?"_":u.name,onRefactorWithAI:ue,onClear:()=>{x.clearCellConsoleOutput({cellId:r})},onSubmitDebugger:(se,oe)=>{x.setStdinResponse({cellId:r,response:se,outputIndex:oe}),_({text:se})},cellId:r,debuggerActive:h.debuggerActive}),(0,n.jsx)(ac,{cellId:r})]}),(0,n.jsx)(hc,{cellId:r}),s&&(0,n.jsx)(jl,{onClick:()=>x.expandCell({cellId:r}),count:i,cellId:r})]})})})},qr=(0,y.memo)(t=>{let e=(0,vt.c)(19),{className:r,disabled:l,edited:a,interrupted:s,isCellStatusInline:i,lastRunStartTimestamp:o,runElapsedTimeMs:d,runStartTimestamp:c,staleInputs:m,status:u,uninstantiated:h}=t,p=l===void 0?!1:l,f;e[0]!==p||e[1]!==a||e[2]!==s||e[3]!==o||e[4]!==d||e[5]!==c||e[6]!==m||e[7]!==u||e[8]!==h?(f=(0,n.jsx)(K0,{status:u,staleInputs:m,interrupted:s,editing:!0,edited:a,disabled:p,elapsedTime:d,runStartTimestamp:c,uninstantiated:h,lastRunStartTimestamp:o}),e[0]=p,e[1]=a,e[2]=s,e[3]=o,e[4]=d,e[5]=c,e[6]=m,e[7]=u,e[8]=h,e[9]=f):f=e[9];let g=f,x;e[10]===r?x=e[11]:(x=K("shoulder-right z-20",r),e[10]=r,e[11]=x);let b=!i&&g,v;e[12]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n.jsx)(Il,{}),e[12]=v):v=e[12];let j=i&&g,w;e[13]===j?w=e[14]:(w=(0,n.jsxs)("div",{className:"flex gap-2 items-end",children:[v,j]}),e[13]=j,e[14]=w);let _;return e[15]!==x||e[16]!==b||e[17]!==w?(_=(0,n.jsxs)("div",{className:x,children:[b,w]}),e[15]=x,e[16]=b,e[17]=w,e[18]=_):_=e[18],_});qr.displayName="CellRightSideActions";var Tl=(0,y.memo)(t=>{let e=(0,vt.c)(21),r=ee(St),{className:l,actions:a,cellId:s}=t,i;e[0]!==a||e[1]!==s?(i=w=>{let _=w===void 0?{}:w;return a.createNewCell({cellId:s,before:!1,..._})},e[0]=a,e[1]=s,e[2]=i):i=e[2];let o=je(i),d;e[3]!==a||e[4]!==s?(d=w=>{let _=w===void 0?{}:w;return a.createNewCell({cellId:s,before:!0,..._})},e[3]=a,e[4]=s,e[5]=d):d=e[5];let c=je(d),m=aa(r.state),u;e[6]===l?u=e[7]:(u=K("absolute flex flex-col justify-center h-full left-[-26px] z-20 border-b-0!",l),e[6]=l,e[7]=u);let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h=Je("cell.createAbove"),e[8]=h):h=e[8];let p=m?c:void 0,f;e[9]!==r.state||e[10]!==p?(f=(0,n.jsx)("div",{className:"-mt-1 min-h-7",children:(0,n.jsx)(vl,{tooltipContent:h,connectionState:r.state,onClick:p,oneClickShortcut:"mod"})}),e[9]=r.state,e[10]=p,e[11]=f):f=e[11];let g;e[12]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n.jsx)("div",{className:"flex-1 pointer-events-none w-3"}),e[12]=g):g=e[12];let x;e[13]===Symbol.for("react.memo_cache_sentinel")?(x=Je("cell.createBelow"),e[13]=x):x=e[13];let b=m?o:void 0,v;e[14]!==r.state||e[15]!==b?(v=(0,n.jsx)("div",{className:"-mb-2 min-h-7",children:(0,n.jsx)(vl,{tooltipContent:x,connectionState:r.state,onClick:b,oneClickShortcut:"mod"})}),e[14]=r.state,e[15]=b,e[16]=v):v=e[16];let j;return e[17]!==u||e[18]!==f||e[19]!==v?(j=(0,n.jsxs)("div",{className:u,children:[f,g,v]}),e[17]=u,e[18]=f,e[19]=v,e[20]=j):j=e[20],j});Tl.displayName="CellLeftSideActions";var $r=(0,y.memo)(t=>{let e=(0,vt.c)(27),{edited:r,status:l,cellConfig:a,needsRun:s,hasOutput:i,hasConsoleOutput:o,onRun:d,cellActionDropdownRef:c,cellId:m,getEditorView:u,name:h,includeCellActions:p}=t,f=p===void 0?!0:p,g=ee(St),x=aa(g.state),b=!s&&"hover-action",v;e[0]===b?v=e[1]:(v=K(b),e[0]=b,e[1]=v);let j=x?d:Nt.NOOP,w;e[2]!==a||e[3]!==g.state||e[4]!==r||e[5]!==s||e[6]!==l||e[7]!==j?(w=(0,n.jsx)(uc,{edited:r,onClick:j,connectionState:g.state,status:l,config:a,needsRun:s}),e[2]=a,e[3]=g.state,e[4]=r,e[5]=s,e[6]=l,e[7]=j,e[8]=w):w=e[8];let _;e[9]!==g.state||e[10]!==l?(_=(0,n.jsx)(Wo,{status:l,connectionState:g.state}),e[9]=g.state,e[10]=l,e[11]=_):_=e[11];let N;e[12]!==c||e[13]!==a||e[14]!==m||e[15]!==u||e[16]!==o||e[17]!==i||e[18]!==f||e[19]!==h||e[20]!==l?(N=f&&(0,n.jsx)(V0,{ref:c,cellId:m,status:l,getEditorView:u,name:h,config:a,hasOutput:i,hasConsoleOutput:o,children:(0,n.jsx)(Dt,{variant:"green",tooltip:null,"data-testid":"cell-actions-button",children:(0,n.jsx)(jn,{strokeWidth:1.5})})}),e[12]=c,e[13]=a,e[14]=m,e[15]=u,e[16]=o,e[17]=i,e[18]=f,e[19]=h,e[20]=l,e[21]=N):N=e[21];let C;return e[22]!==v||e[23]!==w||e[24]!==_||e[25]!==N?(C=(0,n.jsxs)(Lo,{className:v,children:[w,_,N]}),e[22]=v,e[23]=w,e[24]=_,e[25]=N,e[26]=C):C=e[26],C});$r.displayName="CellToolbar";var vc=({theme:t,showPlaceholder:e,cellId:r,canDelete:l,userConfig:a,canMoveX:s,editorView:i,setEditorView:o})=>{var A;let d=(0,y.useRef)(null),c=Lt(r),m=Pt(r),u=(0,y.useRef)(null),h=(0,y.useRef)(null),p=ee(St),f=Fe(),g=Ye(),x=Ya(),b=jt(Wa),v=In(r),j=c.config.disabled||m.status==="disabled-transitively",w=da({executionTime:m.runElapsedTimeMs??c.lastExecutionTime,status:m.status,errored:m.errored,interrupted:m.interrupted,stopped:m.stopped}),_=c.edited||m.interrupted||m.staleInputs&&!j,N=m.status==="running"||m.status==="queued",C=(m.status==="queued"||c.edited||m.staleInputs)&&!m.interrupted,S=(0,y.useCallback)(()=>i.current,[i]),{isCellCodeShown:I,showHiddenCode:k}=Dl({cellId:r,cellConfig:c.config,languageAdapter:"python",editorView:i,editorViewParentRef:h}),{closeCompletionHandler:E,resumeCompletionHandler:z}=Rl(d,i),R=Da(r,{canMoveX:s,editorView:i,cellActionDropdownRef:u}),T=!mn(m.output),P=m.consoleOutputs.length>0,D=ua((A=m.output)==null?void 0:A.mimetype),M=yr("marimo-cell","hover-actions-parent z-10 border shadow-sm","border-(--blue-5)! rounded-sm!",{"needs-run":_,"has-error":m.errored,stopped:m.stopped}),O=je(V=>{b({cellId:r,initialPrompt:V.prompt,triggerImmediately:V.triggerImmediately})}),L=()=>{if(c.config.disabled)return"This cell is disabled";if(m.status==="disabled-transitively")return"This cell has a disabled ancestor"};return(0,n.jsx)(qa,{children:(0,n.jsx)(yl,{cellId:r,getEditorView:S,children:(0,n.jsxs)("div",{"data-status":m.status,ref:d,...$a(R,{className:K(M,"focus:ring-1 focus:ring-(--blue-7) focus:ring-offset-0"),onBlur:E,onKeyDown:z}),...fn(r,c.name),title:L(),tabIndex:-1,"data-setup-cell":!0,children:[(0,n.jsxs)("div",{className:K("tray"),"data-hidden":!I,children:[(0,n.jsx)("div",{className:"absolute right-2 -top-4 z-10",children:(0,n.jsx)($r,{edited:c.edited,status:m.status,cellConfig:c.config,needsRun:_,hasOutput:T,hasConsoleOutput:P,cellActionDropdownRef:u,cellId:r,name:c.name,getEditorView:S,onRun:v,includeCellActions:!0})}),(0,n.jsx)(Ta,{theme:t,showPlaceholder:e,id:r,code:c.code,config:c.config,status:m.status,serializedEditorState:c.serializedEditorState,runCell:v,setEditorView:o,userConfig:a,editorViewRef:i,editorViewParentRef:h,hidden:!I,hasOutput:T,showHiddenCode:k,languageAdapter:"python",setLanguageAdapter:Nt.NOOP,showLanguageToggles:!1}),(0,n.jsx)(qr,{edited:c.edited,status:m.status,isCellStatusInline:!1,uninstantiated:w,disabled:c.config.disabled,runElapsedTimeMs:m.runElapsedTimeMs,runStartTimestamp:m.runStartTimestamp,lastRunStartTimestamp:m.lastRunStartTimestamp,staleInputs:m.staleInputs,interrupted:m.interrupted}),(0,n.jsx)("div",{className:"shoulder-bottom hover-action",children:l&&(0,n.jsx)(wl,{connectionState:p.state,status:m.status,onClick:()=>{!N&&!Be(p.state)&&x({cellId:r})}})})]}),(0,n.jsxs)("div",{className:"py-1 px-2 flex justify-end gap-2 last:rounded-b",children:[(0,n.jsx)("span",{className:"text-muted-foreground text-xs font-bold",children:"setup cell"}),(0,n.jsx)(ne,{content:(0,n.jsxs)("span",{className:"max-w-16",children:["This ",(0,n.jsx)("b",{children:"setup cell"})," is guaranteed to run before all other cells. Include ",(0,n.jsx)("br",{}),"initialization or imports and constants required by top-level functions."]}),children:(0,n.jsx)(Ea,{size:16,strokeWidth:1.5,className:"rounded-lg text-muted-foreground"})})]}),D&&(0,n.jsx)(pn,{allowExpand:!0,forceExpand:!0,className:dn.outputArea,cellId:r,output:m.output,stale:!1,loading:N}),(0,n.jsx)(Fa,{consoleOutputs:m.consoleOutputs,stale:C,cellName:"_",onRefactorWithAI:O,onClear:()=>{f.clearCellConsoleOutput({cellId:r})},onSubmitDebugger:(V,$)=>{f.setStdinResponse({cellId:r,response:V,outputIndex:$}),g.sendStdin({text:V})},cellId:r,debuggerActive:m.debuggerActive})]})})})};const Ol=(0,y.memo)(gc);var yc=class{constructor(t){ra(this,"cache",new Map);this.ttl=t.ttl}cleanupExpiredEntries(){let t=Date.now();for(let[e,r]of this.cache.entries())t-r.timestamp>this.ttl&&this.cache.delete(e)}get(t){this.cleanupExpiredEntries();let e=this.cache.get(t);if(e){if(Date.now()-e.timestamp>this.ttl){this.cache.delete(t);return}return e.data}}set(t,e){this.cache.set(t,{data:e,timestamp:Date.now()})}clear(){this.cache.clear()}};function jc(t,e){let r=/^(\d+)\.(\d+)\.(\d+)(?:-([\w.-]+))?(?:\+([\w.-]+))?$/,l=a=>{let s=a.match(r);if(!s)return null;let[,i,o,d,c]=s;return{major:Number.parseInt(i,10),minor:Number.parseInt(o,10),patch:Number.parseInt(d,10),preRelease:c||""}};try{let a=l(t),s=l(e);return!a||!s?t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"}):a.major===s.major?a.minor===s.minor?a.patch===s.patch?a.preRelease===""&&s.preRelease!==""?1:a.preRelease!==""&&s.preRelease===""?-1:a.preRelease.localeCompare(s.preRelease):a.patch-s.patch:a.minor-s.minor:a.major-s.major}catch{return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}}const wc=(t,e)=>jc(e,t);function _c(t){return t.replaceAll(/\[.*]/g,"").trim()}var Nc=q(),Al=new yc({ttl:300*1e3}),Cc=ha({info:ha({provides_extra:pa().array().nullable()}),releases:$m(pa(),Um())});function Pl(t){let e=(0,Nc.c)(5),r;e[0]===t?r=e[1]:(r=_c(t),e[0]=t,e[1]=r);let l=r,a,s;return e[2]===l?(a=e[3],s=e[4]):(a=async()=>{let i=Al.get(l);if(i)return i;let o=await fetch(`https://pypi.org/pypi/${l}/json`,{method:"GET"});if(!o.ok)throw Error(`HTTP ${o.status}: ${o.statusText}`);let d=Cc.transform(kc).parse(await o.json());return Al.set(l,d),d},s=[l],e[2]=l,e[3]=a,e[4]=s),En(a,s)}function kc(t){return{versions:Object.keys(t.releases).toSorted(wc),extras:t.info.provides_extra??[]}}var dt=q();function Ll(t){let e=t.match(/^([^[]+)(?:\[([^\]]+)])?$/);if(!e)return{name:t,extras:[]};let[,r,l]=e;return{name:r,extras:l?l.split(",").map(a=>a.trim()):[]}}function Sc(t,e){return e.length===0?t:`${t}[${e.join(",")}]`}const Ic=()=>{let t=(0,dt.c)(69),{packageAlert:e,packageLogs:r}=Pa(),{clearPackageAlert:l}=Oa(),[a]=on(),s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={},t[0]=s):s=t[0];let[i,o]=(0,y.useState)(s),d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d={},t[1]=d):d=t[1];let[c,m]=(0,y.useState)(d);if(e===null)return null;let u=a.package_management.manager!=="pixi";if(Vh(e)){let h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsxs)("span",{className:"font-bold text-lg flex items-center mb-2",children:[(0,n.jsx)(Dn,{className:"w-5 h-5 inline-block mr-2"}),"Missing packages"]}),t[2]=h):h=t[2];let p;t[3]!==l||t[4]!==e.id?(p=()=>l(e.id),t[3]=l,t[4]=e.id,t[5]=p):p=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(He,{className:"w-5 h-5"}),t[6]=f):f=t[6];let g;t[7]===p?g=t[8]:(g=(0,n.jsxs)("div",{className:"flex justify-between",children:[h,(0,n.jsx)(ie,{variant:"text","data-testid":"remove-banner-button",size:"icon",onClick:p,children:f})]}),t[7]=p,t[8]=g);let x;t[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,n.jsx)("p",{children:"The following packages were not found:"}),t[9]=x):x=t[9];let b;if(t[10]!==i||t[11]!==u||t[12]!==e.packages||t[13]!==c){let N;t[15]!==i||t[16]!==u||t[17]!==c?(N=(C,S)=>{let I=Ll(C),k=c[C]||I.extras;return(0,n.jsxs)("tr",{className:"font-mono text-sm",children:[(0,n.jsx)("td",{className:"pr-2 py-1 align-middle",children:(0,n.jsx)(gn,{size:"1rem"})}),(0,n.jsx)("td",{className:"pr-2 py-1 align-middle",children:(0,n.jsx)(Mc,{packageName:I.name,selectedExtras:k,onExtrasChange:E=>m(z=>({...z,[C]:E}))})}),u&&(0,n.jsx)("td",{className:"pr-2 py-1 align-middle",children:(0,n.jsx)(Tc,{value:i[C]??"latest",onChange:E=>o(z=>({...z,[C]:E})),packageName:I.name})})]},S)},t[15]=i,t[16]=u,t[17]=c,t[18]=N):N=t[18],b=e.packages.map(N),t[10]=i,t[11]=u,t[12]=e.packages,t[13]=c,t[14]=b}else b=t[14];let v;t[19]===b?v=t[20]:(v=(0,n.jsxs)("div",{children:[x,(0,n.jsx)("table",{className:"list-disc ml-2 mt-1",children:(0,n.jsx)("tbody",{children:b})})]}),t[19]=b,t[20]=v);let j;t[21]!==l||t[22]!==i||t[23]!==e.id||t[24]!==e.isolated||t[25]!==e.packages||t[26]!==c||t[27]!==a.package_management.manager?(j=(0,n.jsx)("div",{className:"ml-auto flex flex-row items-baseline",children:e.isolated?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Rc,{manager:a.package_management.manager,packages:e.packages.map(N=>{let C=Ll(N),S=c[N]||C.extras;return Sc(C.name,S)}),versions:i,clearPackageAlert:()=>l(e.id)}),!Ct()&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"px-2 text-sm",children:"with"})," ",(0,n.jsx)(Dc,{})]})]}):(0,n.jsxs)("p",{children:["If you set up a"," ",(0,n.jsx)($1,{href:"https://docs.python.org/3/tutorial/venv.html#creating-virtual-environments",children:"virtual environment"}),", marimo can install these packages for you."]})}),t[21]=l,t[22]=i,t[23]=e.id,t[24]=e.isolated,t[25]=e.packages,t[26]=c,t[27]=a.package_management.manager,t[28]=j):j=t[28];let w;t[29]!==v||t[30]!==j?(w=(0,n.jsxs)("div",{className:"flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",children:[v,j]}),t[29]=v,t[30]=j,t[31]=w):w=t[31];let _;return t[32]!==w||t[33]!==g?(_=(0,n.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-12 min-w-[400px] z-200 opacity-95 max-w-[600px]",children:(0,n.jsxs)(It,{kind:"danger",className:"flex flex-col rounded py-3 px-5 animate-in slide-in-from-left overflow-auto max-h-[80vh] scrollbar-thin",children:[g,w]})}),t[32]=w,t[33]=g,t[34]=_):_=t[34],_}if(Gh(e)){let h;t[35]===e.packages?h=t[36]:(h=Ec(e.packages),t[35]=e.packages,t[36]=h);let{status:p,title:f,titleIcon:g,description:x}=h;p==="installed"&&setTimeout(()=>l(e.id),1e4);let b=p==="failed"?"danger":"info",v;t[37]!==f||t[38]!==g?(v=(0,n.jsxs)("span",{className:"font-bold text-lg flex items-center mb-2",children:[g,f]}),t[37]=f,t[38]=g,t[39]=v):v=t[39];let j;t[40]!==l||t[41]!==e.id?(j=()=>l(e.id),t[40]=l,t[41]=e.id,t[42]=j):j=t[42];let w;t[43]===Symbol.for("react.memo_cache_sentinel")?(w=(0,n.jsx)(He,{className:"w-5 h-5"}),t[43]=w):w=t[43];let _;t[44]===j?_=t[45]:(_=(0,n.jsx)(ie,{variant:"text","data-testid":"remove-banner-button",size:"icon",onClick:j,children:w}),t[44]=j,t[45]=_);let N;t[46]!==v||t[47]!==_?(N=(0,n.jsxs)("div",{className:"flex justify-between",children:[v,_]}),t[46]=v,t[47]=_,t[48]=N):N=t[48];let C=p==="installed"&&"text-accent-foreground",S;t[49]===C?S=t[50]:(S=K("flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",C),t[49]=C,t[50]=S);let I;t[51]===x?I=t[52]:(I=(0,n.jsx)("p",{children:x}),t[51]=x,t[52]=I);let k;t[53]===e.packages?k=t[54]:(k=Object.entries(e.packages),t[53]=e.packages,t[54]=k);let E;t[55]!==p||t[56]!==k?(E=(0,n.jsx)("ul",{className:"list-disc ml-2 mt-1",children:k.map((P,D)=>{let[M,O]=P;return(0,n.jsxs)("li",{className:K("flex items-center gap-1 font-mono text-sm",O==="installing"&&"font-semibold",O==="failed"&&"text-destructive",O==="installed"&&"text-accent-foreground",O==="installed"&&p==="failed"&&"text-muted-foreground"),children:[(0,n.jsx)(zc,{status:O}),M]},D)})}),t[55]=p,t[56]=k,t[57]=E):E=t[57];let z;t[58]===r?z=t[59]:(z=Object.keys(r).length>0&&(0,n.jsx)(Oc,{packageLogs:r}),t[58]=r,t[59]=z);let R;t[60]!==S||t[61]!==I||t[62]!==E||t[63]!==z?(R=(0,n.jsxs)("div",{className:S,children:[I,E,z]}),t[60]=S,t[61]=I,t[62]=E,t[63]=z,t[64]=R):R=t[64];let T;return t[65]!==R||t[66]!==b||t[67]!==N?(T=(0,n.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-12 min-w-[400px] z-200 opacity-95 max-w-[600px] ",children:(0,n.jsxs)(It,{kind:b,className:"flex flex-col rounded pt-3 pb-4 px-5 overflow-auto max-h-[80vh] scrollbar-thin",children:[N,R]})}),t[65]=R,t[66]=b,t[67]=N,t[68]=T):T=t[68],T}return fa(e),null};function Ec(t){let e=new Set(Object.values(t)),r=e.has("queued")||e.has("installing")?"installing":e.has("failed")?"failed":"installed";return r==="installing"?{status:"installing",title:"Installing packages",titleIcon:(0,n.jsx)(Ue,{className:"w-5 h-5 inline-block mr-2"}),description:"Installing packages:"}:r==="installed"?{status:"installed",title:"All packages installed!",titleIcon:(0,n.jsx)(ss,{className:"w-5 h-5 inline-block mr-2"}),description:"Installed packages:"}:{status:"failed",title:"Some packages failed to install",titleIcon:(0,n.jsx)(Dn,{className:"w-5 h-5 inline-block mr-2"}),description:"See error logs."}}var zc=t=>{let e=(0,dt.c)(4),{status:r}=t;switch(r){case"queued":{let l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n.jsx)(gn,{size:"1rem"}),e[0]=l):l=e[0],l}case"installing":{let l;return e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n.jsx)(Ue,{size:"1rem"}),e[1]=l):l=e[1],l}case"installed":{let l;return e[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n.jsx)(eh,{size:"1rem"}),e[2]=l):l=e[2],l}case"failed":{let l;return e[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n.jsx)(He,{size:"1rem"}),e[3]=l):l=e[3],l}default:return fa(r),null}},Rc=t=>{let e=(0,dt.c)(10),{manager:r,packages:l,versions:a,clearPackageAlert:s}=t,{sendInstallMissingPackages:i}=Ye(),o;e[0]!==s||e[1]!==r||e[2]!==l||e[3]!==i||e[4]!==a?(o=async()=>{s();let u={...a};for(let h of l)u[h]=u[h]??"";await i({manager:r,versions:u}).catch(Ac)},e[0]=s,e[1]=r,e[2]=l,e[3]=i,e[4]=a,e[5]=o):o=e[5];let d,c;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)(Ue,{className:"w-4 h-4 mr-2"}),c=(0,n.jsx)("span",{className:"font-semibold",children:"Install"}),e[6]=d,e[7]=c):(d=e[6],c=e[7]);let m;return e[8]===o?m=e[9]:(m=(0,n.jsxs)(ie,{variant:"outline","data-testid":"install-packages-button",size:"sm",onClick:o,children:[d,c]}),e[8]=o,e[9]=m),m},Dc=()=>{let t=(0,dt.c)(17),[e,r]=on(),{saveUserConfig:l}=Ye(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=p1(s0),t[0]=a):a=t[0];let s;t[1]===e?s=t[2]:(s={resolver:a,defaultValues:e},t[1]=e,t[2]=s);let i=u1(s),o;t[3]!==l||t[4]!==r?(o=async p=>{await l({config:p}).then(()=>{r(p)})},t[3]=l,t[4]=r,t[5]=o):o=t[5];let d=o,c;t[6]!==i||t[7]!==d?(c=i.handleSubmit(d),t[6]=i,t[7]=d,t[8]=c):c=t[8];let m;t[9]===i.control?m=t[10]:(m=(0,n.jsx)("div",{className:"flex flex-col gap-3",children:(0,n.jsx)(c1,{control:i.control,name:"package_management.manager",render:Lc})}),t[9]=i.control,t[10]=m);let u;t[11]!==c||t[12]!==m?(u=(0,n.jsx)("form",{onChange:c,className:"flex flex-col gap-5",children:m}),t[11]=c,t[12]=m,t[13]=u):u=t[13];let h;return t[14]!==i||t[15]!==u?(h=(0,n.jsx)(m1,{...i,children:u}),t[14]=i,t[15]=u,t[16]=h):h=t[16],h},Mc=t=>{let e=(0,dt.c)(12),{packageName:r,selectedExtras:l,onExtrasChange:a}=t,[s,i]=(0,y.useState)(!1),{isPending:o,error:d,data:c}=Pl(r),m;e[0]!==a||e[1]!==l?(m=(f,g)=>{a(g?[...l,f]:l.filter(x=>x!==f))},e[0]=a,e[1]=l,e[2]=m):m=e[2];let u=m,h=!o&&!d,p;if(e[3]!==h||e[4]!==u||e[5]!==s||e[6]!==r||e[7]!==(c==null?void 0:c.extras)||e[8]!==l){let f=((c==null?void 0:c.extras)??[]).filter(Fc),g;e[10]===r?g=e[11]:(g=(0,n.jsx)("span",{className:"shrink-0 flex-1",children:r}),e[10]=r,e[11]=g),p=(0,n.jsxs)("div",{className:"flex items-center max-w-72",children:[g,l.length>0?(0,n.jsxs)("span",{className:"flex items-center min-w-0 flex-1",children:[(0,n.jsx)("span",{className:"shrink-0",children:"["}),(0,n.jsxs)(st,{open:s&&h,onOpenChange:x=>{h&&i(x)},children:[(0,n.jsx)(lt,{asChild:!0,children:(0,n.jsx)("button",{className:"hover:bg-muted/50 rounded text-sm px-1 transition-colors border border-muted-foreground/30 hover:border-muted-foreground/60 min-w-0 flex-1 truncate text-left",title:`Selected extras: ${l.join(", ")}`,type:"button",children:l.join(",")})}),(0,n.jsxs)(at,{align:"start",className:"w-64 p-0 max-h-96 flex flex-col",children:[l.length>0&&(0,n.jsx)("div",{className:"p-2 bg-popover border-b border-border",children:(0,n.jsx)("div",{className:"flex flex-wrap gap-1 p-1 min-h-[24px]",children:l.map(x=>(0,n.jsxs)("span",{className:"inline-flex items-center gap-1 px-1 py-0.5 text-sm font-mono border border-muted-foreground/30 hover:border-muted-foreground/60 rounded-sm cursor-pointer group transition-colors",onClick:()=>u(x,!1),children:[x,(0,n.jsx)(He,{className:"w-3 h-3 opacity-60 group-hover:opacity-100"})]},x))})}),(0,n.jsx)("div",{className:"overflow-y-auto flex-1",children:f.map(x=>(0,n.jsx)(za,{checked:l.includes(x),onCheckedChange:b=>{u(x,b)},className:"font-mono text-sm",onSelect:Wc,children:x},x))})]})]}),(0,n.jsx)("span",{className:"shrink-0",children:"]"})]}):f.length>0?(0,n.jsxs)(st,{open:s&&h,onOpenChange:x=>{h&&i(x)},children:[(0,n.jsx)(lt,{asChild:!0,children:(0,n.jsx)("button",{disabled:!h,className:K("hover:bg-muted/50 rounded text-sm ml-2 transition-colors border border-muted-foreground/30 hover:border-muted-foreground/60 h-5 w-5 flex items-center justify-center p-0",!h&&"opacity-50 cursor-not-allowed"),title:h?"Add extras":"Loading extras...",type:"button",children:(0,n.jsx)(Nn,{className:"w-3 h-3 shrink-0"})})}),(0,n.jsxs)(at,{align:"start",className:"w-64 p-0 max-h-96 flex flex-col",children:[(0,n.jsx)("div",{className:"p-2 bg-popover border-b border-border",children:(0,n.jsx)("span",{className:"text-muted-foreground italic text-sm",children:"Package extras"})}),(0,n.jsx)("div",{className:"overflow-y-auto flex-1",children:f.map(x=>(0,n.jsx)(za,{checked:l.includes(x),onCheckedChange:b=>{u(x,b)},className:"font-mono text-sm",onSelect:Vc,children:x},x))})]})]}):null]}),e[3]=h,e[4]=u,e[5]=s,e[6]=r,e[7]=c==null?void 0:c.extras,e[8]=l,e[9]=p}else p=e[9];return p},Tc=t=>{let e=(0,dt.c)(16),{value:r,onChange:l,packageName:a}=t,{error:s,isPending:i,data:o}=Pl(a);if(s){let u;e[0]===l?u=e[1]:(u=f=>l(f.target.value),e[0]=l,e[1]=u);let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)("option",{value:"latest",children:"latest"}),e[2]=h):h=e[2];let p;return e[3]!==u||e[4]!==r?(p=(0,n.jsx)(ne,{content:"Failed to fetch package versions",children:(0,n.jsx)(vn,{value:r,onChange:u,disabled:!0,className:"inline-flex ml-2 w-24 text-ellipsis",children:h})}),e[3]=u,e[4]=r,e[5]=p):p=e[5],p}let d;e[6]===l?d=e[7]:(d=u=>l(u.target.value),e[6]=l,e[7]=d);let c;e[8]!==i||e[9]!==o?(c=i?(0,n.jsx)("option",{value:"latest",children:"latest"}):["latest",...o.versions.slice(0,100)].map(Bc),e[8]=i,e[9]=o,e[10]=c):c=e[10];let m;return e[11]!==i||e[12]!==d||e[13]!==c||e[14]!==r?(m=(0,n.jsx)(vn,{value:r,onChange:d,disabled:i,className:"inline-flex ml-2 w-24 text-ellipsis",children:c}),e[11]=i,e[12]=d,e[13]=c,e[14]=r,e[15]=m):m=e[15],m},Oc=t=>{let e=(0,dt.c)(13),{packageLogs:r}=t,[l,a]=(0,y.useState)(!0);if(Object.keys(r).length===0)return null;let s;e[0]===l?s=e[1]:(s=()=>a(!l),e[0]=l,e[1]=s);let i;e[2]===l?i=e[3]:(i=l?(0,n.jsx)(pt,{className:"w-4 h-4"}):(0,n.jsx)(yn,{className:"w-4 h-4"}),e[2]=l,e[3]=i);let o;e[4]!==s||e[5]!==i?(o=(0,n.jsxs)("button",{onClick:s,className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",type:"button",children:[i,"Installation logs"]}),e[4]=s,e[5]=i,e[6]=o):o=e[6];let d;e[7]!==l||e[8]!==r?(d=l&&(0,n.jsx)("div",{className:"mt-3 space-y-3 w-full",children:Object.entries(r).map(Hc)}),e[7]=l,e[8]=r,e[9]=d):d=e[9];let c;return e[10]!==o||e[11]!==d?(c=(0,n.jsxs)("div",{className:"mt-4 border-t border-border pt-4 w-full",children:[o,d]}),e[10]=o,e[11]=d,e[12]=c):c=e[12],c};function Ac(t){We.error(t)}function Pc(t){return(0,n.jsx)("option",{value:t,children:t},t)}function Lc(t){let{field:e}=t;return(0,n.jsxs)(h1,{children:[(0,n.jsx)(o1,{children:(0,n.jsx)(vn,{"data-testid":"install-package-manager-select",onChange:r=>e.onChange(r.target.value),value:e.value,disabled:e.disabled,className:"inline-flex mr-2",children:i0.map(Pc)})}),(0,n.jsx)(d1,{})]})}function Fc(t){return!/^(dev|test|testing)$/i.test(t)}function Wc(t){return t.preventDefault()}function Vc(t){return t.preventDefault()}function Bc(t){return(0,n.jsx)("option",{value:t,children:t},t)}function Hc(t){let[e,r]=t;return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("h4",{className:"font-mono text-sm font-medium mb-2 text-foreground",children:e}),(0,n.jsx)("div",{className:"border border-border rounded w-full",children:(0,n.jsx)("pre",{className:"p-3 text-xs font-mono bg-background max-h-64 overflow-y-auto text-muted-foreground whitespace-pre-wrap scrollbar-thin",children:r||"No logs available"})})]},e)}var qc=t=>{let{transform:e}=t;return{...e,x:0}},$c=q(),Uc={threshold:{x:0,y:.1}};const Kc=y.memo(t=>{let e=(0,$c.c)(23),{children:r,multiColumn:l}=t,{dropCellOverCell:a,dropCellOverColumn:s,moveColumn:i,compactColumns:o}=Fe(),[d,c]=(0,y.useState)(null),[m,u]=(0,y.useState)(null),[h]=o0(),p;e:{if(h.width==="columns"){p=R0.EMPTY;break e}let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T=[qc],e[0]=T):T=e[0],p=T}let f=p,g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g={activationConstraint:{distance:8}},e[1]=g):g=e[1];let x;e[2]===Symbol.for("react.memo_cache_sentinel")?(x={coordinateGetter:Mo},e[2]=x):x=e[2];let b=ii(An(Wr,g),An(Lr,x)),v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v=T=>{c(T.active.id),u(mr().cellIds)},e[3]=v):v=e[3];let j=je(v),w;e[4]===m?w=e[5]:(w=()=>{c(null),u(null)},e[4]=m,e[5]=w);let _=je(w),N;e[6]===d?N=e[7]:(N=T=>{let P=T.droppableContainers.filter(Gc);if(d&&yt(d))return Mr({...T,droppableContainers:P});let D=mi({...T,droppableContainers:P}),M=Dr(D.length>0?D:Ln({...T,droppableContainers:P}),"id");if(!M)return[];Ht(yt(M),`Expected column id. Got: ${M}`);let O=mr().cellIds.get(M);if(Ht(O,`Expected column. Got: ${M}`),O&&O.topLevelIds.length===0)return[{id:M}];let L=new Set(O.topLevelIds),A=Mr({...T,droppableContainers:T.droppableContainers.filter(V=>V.id!==M&&L.has(V.id))});if(A.length>0){let V=A[0].id;return Ht(Ur(V),`Expected cell id. Got: ${V}`),[{id:V}]}return[]},e[6]=d,e[7]=N);let C=N,S;e[8]!==a||e[9]!==s||e[10]!==i?(S=T=>{let{active:P,over:D}=T,M=D==null?void 0:D.id;if(!(M==null||P.id===M)){if(Ur(P.id)){if(yt(M)){s({cellId:P.id,columnId:M});return}if(Ur(M)){a({cellId:P.id,overCellId:M});return}}yt(P.id)&&yt(M)&&i({column:P.id,overColumn:M})}},e[8]=a,e[9]=s,e[10]=i,e[11]=S):S=e[11];let I=je(S),k;e[12]===o?k=e[13]:(k=T=>{let{active:P,over:D}=T;D===null||P.id===D.id||o()},e[12]=o,e[13]=k);let E=je(k),z=l?C:Mr,R;return e[14]!==r||e[15]!==_||e[16]!==E||e[17]!==I||e[18]!==j||e[19]!==f||e[20]!==b||e[21]!==z?(R=(0,n.jsx)(co,{autoScroll:Uc,sensors:b,collisionDetection:z,modifiers:f,onDragEnd:E,onDragStart:j,onDragCancel:_,onDragOver:I,children:r}),e[14]=r,e[15]=_,e[16]=E,e[17]=I,e[18]=j,e[19]=f,e[20]=b,e[21]=z,e[22]=R):R=e[22],R});function Ur(t){return typeof t=="string"&&!t.startsWith("tree_")}function yt(t){return typeof t=="string"&&t.startsWith("tree_")}function Gc(t){return yt(t.id)}var Xc=q(),Yc=t=>{let e=(0,Xc.c)(13),{className:r,size:l,gap:a,durationMs:s}=t,i=l===void 0?8:l,o=a===void 0?"gap-1":a,d=s===void 0?1200:s,c=`${d}ms`,m;e[0]===c?m=e[1]:(m={animationDuration:c},e[0]=c,e[1]=m);let u=m,h;e[2]!==r||e[3]!==o?(h=yr("flex",o,r),e[2]=r,e[3]=o,e[4]=h):h=e[4];let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=[0,1,2],e[5]=p):p=e[5];let f;e[6]!==u||e[7]!==d||e[8]!==i?(f=p.map(x=>(0,n.jsx)(bh,{width:i,height:i,className:"fill-current text-current animate-ellipsis-dot",style:{...u,animationDelay:`${d/3*x}ms`}},x)),e[6]=u,e[7]=d,e[8]=i,e[9]=f):f=e[9];let g;return e[10]!==h||e[11]!==f?(g=(0,n.jsx)("div",{className:h,"aria-label":"Loading",children:f}),e[10]=h,e[11]=f,e[12]=g):g=e[12],g},Jc=q();const Fl=t=>{let e=(0,Jc.c)(11),{title:r,children:l,show:a,delayMs:s,kind:i}=t,o=s===void 0?2e3:s,d=i===void 0?"info":i;if(!a)return null;let c;e[0]===r?c=e[1]:(c=r&&(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsx)("span",{className:"font-bold text-lg flex items-center mb-1",children:r})}),e[0]=r,e[1]=c);let m;e[2]===l?m=e[3]:(m=(0,n.jsx)("div",{className:"flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",children:(0,n.jsx)("div",{children:l})}),e[2]=l,e[3]=m);let u;e[4]!==d||e[5]!==c||e[6]!==m?(u=(0,n.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-1/2 transform -translate-x-1/2 z-200 opacity-95",children:(0,n.jsxs)(It,{kind:d,className:"flex flex-col rounded py-2 px-4 animate-in slide-in-from-top w-fit",children:[c,m]})}),e[4]=d,e[5]=c,e[6]=m,e[7]=u):u=e[7];let h=u,p;return e[8]!==h||e[9]!==o?(p=(0,n.jsx)(hn,{milliseconds:o,children:h}),e[8]=h,e[9]=o,e[10]=p):p=e[10],p};var Qc=q(),Zc=1e3,ed=5e3;const td=()=>{let t=(0,Qc.c)(3),e=ee(x1),r=ee(g1),l;return t[0]!==r||t[1]!==e?(l=e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(hn,{milliseconds:Zc,children:(0,n.jsx)("div",{className:"absolute top-4 m-0 flex items-center min-h-[28px] left-1/2 transform -translate-x-1/2 z-200 ",children:(0,n.jsx)(ne,{content:"Connecting to a marimo runtime",children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(Yc,{size:5,className:"text-yellow-500"})})})})}),(0,n.jsx)(Fl,{show:e,delayMs:ed,children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(jr,{className:"h-4 w-4"}),(0,n.jsx)("p",{children:"Connecting to a marimo runtime ..."})]})})]})||r&&(0,n.jsx)(Fl,{show:r,kind:"danger",children:(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("p",{children:"Failed to connect."})})}),t[0]=r,t[1]=e,t[2]=l):l=t[2],l};var rd=q(),Wl=y.forwardRef((t,e)=>{let r=(0,rd.c)(60),{columnId:l,canDelete:a,canMoveLeft:s,canMoveRight:i,footer:o,...d}=t,c;r[0]===l?c=r[1]:(c={id:l},r[0]=l,r[1]=c);let{attributes:m,listeners:u,setNodeRef:h,transform:p,transition:f,isDragging:g,isOver:x}=fl(c),b;r[2]===p?b=r[3]:(b=p?gr.Transform.toString({x:p.x,y:0,scaleX:1,scaleY:1}):void 0,r[2]=p,r[3]=b);let v=g?2:void 0,j;r[4]!==b||r[5]!==v||r[6]!==f?(j={transform:b,transition:f,zIndex:v,position:"relative","--gutter-width":"50px"},r[4]=b,r[5]=v,r[6]=f,r[7]=j):j=r[7];let w=j,{deleteColumn:_,moveColumn:N,addColumn:C}=Fe(),S=ld,I;r[8]!==l||r[9]!==N?(I=()=>N({column:l,overColumn:"_left_"}),r[8]=l,r[9]=N,r[10]=I):I=r[10];let k=!s,E;r[11]===Symbol.for("react.memo_cache_sentinel")?(E=(0,n.jsx)(th,{className:"size-4"}),r[11]=E):E=r[11];let z;r[12]!==I||r[13]!==k?(z=(0,n.jsx)(ne,{content:"Move column left",side:"top",delayDuration:300,children:(0,n.jsx)(ie,{variant:"text",size:"xs",className:"hover:bg-(--gray-3) aspect-square p-0 w-7 h-7",onClick:I,disabled:k,children:E})}),r[12]=I,r[13]=k,r[14]=z):z=r[14];let R;r[15]!==l||r[16]!==N?(R=()=>N({column:l,overColumn:"_right_"}),r[15]=l,r[16]=N,r[17]=R):R=r[17];let T=!i,P;r[18]===Symbol.for("react.memo_cache_sentinel")?(P=(0,n.jsx)(yn,{className:"size-4"}),r[18]=P):P=r[18];let D;r[19]!==T||r[20]!==R?(D=(0,n.jsx)(ne,{content:"Move column right",side:"top",delayDuration:300,children:(0,n.jsx)(ie,{variant:"text",size:"xs",className:"hover:bg-(--gray-3) aspect-square p-0 w-7 h-7",onClick:R,disabled:T,children:P})}),r[19]=T,r[20]=R,r[21]=D):D=r[21];let M;r[22]===Symbol.for("react.memo_cache_sentinel")?(M=(0,n.jsx)(E0,{className:"size-4 opacity-0 group-hover:opacity-50 transition-opacity duration-200"}),r[22]=M):M=r[22];let O;r[23]!==m||r[24]!==u?(O=(0,n.jsx)("div",{className:"flex gap-2 h-full grow cursor-grab active:cursor-grabbing items-center justify-center","data-testid":"column-drag-spacer",...m,...u,children:M}),r[23]=m,r[24]=u,r[25]=O):O=r[25];let L;r[26]===Symbol.for("react.memo_cache_sentinel")?(L=(0,n.jsx)(lt,{asChild:!0,children:(0,n.jsx)(ie,{variant:"text",size:"xs",className:"hover:bg-(--gray-3) aspect-square p-0 w-7 h-7",children:(0,n.jsx)(jn,{className:"size-4"})})}),r[26]=L):L=r[26];let A;r[27]!==l||r[28]!==_?(A=()=>_({columnId:l}),r[27]=l,r[28]=_,r[29]=A):A=r[29];let V=!a,$;r[30]===Symbol.for("react.memo_cache_sentinel")?($=(0,n.jsx)(He,{className:"mr-2 size-4"}),r[30]=$):$=r[30];let U;r[31]!==A||r[32]!==V?(U=(0,n.jsxs)(st,{children:[L,(0,n.jsx)(at,{align:"end",children:(0,n.jsxs)(nt,{onClick:A,disabled:V,children:[$,"Delete column"]})})]}),r[31]=A,r[32]=V,r[33]=U):U=r[33];let H;r[34]!==C||r[35]!==l?(H=()=>{C({columnId:l}),requestAnimationFrame(S)},r[34]=C,r[35]=l,r[36]=H):H=r[36];let G;r[37]===Symbol.for("react.memo_cache_sentinel")?(G=(0,n.jsx)(Nn,{className:"size-4"}),r[37]=G):G=r[37];let F;r[38]===H?F=r[39]:(F=(0,n.jsx)(ne,{content:"Add column",side:"top",delayDuration:300,children:(0,n.jsx)(ie,{variant:"text",size:"xs",className:"hover:bg-(--gray-3) aspect-square p-0 w-7 h-7",onClick:H,children:G})}),r[38]=H,r[39]=F);let Y;r[40]!==D||r[41]!==O||r[42]!==U||r[43]!==F||r[44]!==z?(Y=(0,n.jsxs)("div",{className:"px-2 pt-3 pb-0 group flex items-center rounded-t-lg overflow-hidden",children:[z,D,O,U,F]}),r[40]=D,r[41]=O,r[42]=U,r[43]=F,r[44]=z,r[45]=Y):Y=r[45];let W=Y,B;r[46]!==e||r[47]!==h?(B=re=>{Ma(e,h)(re)},r[46]=e,r[47]=h,r[48]=B):B=r[48];let J=K(g?"":d.className,g?"z-20":"z-1 hover:z-10 focus-within:z-10",x&&"bg-accent/20"),Q;r[49]!==W||r[50]!==d.children?(Q=(0,n.jsxs)("div",{className:"bg-(--slate-1) rounded-lg",children:[W,d.children]}),r[49]=W,r[50]=d.children,r[51]=Q):Q=r[51];let Z;return r[52]!==o||r[53]!==g||r[54]!==d||r[55]!==w||r[56]!==B||r[57]!==J||r[58]!==Q?(Z=(0,n.jsxs)("div",{tabIndex:-1,ref:B,...d,style:w,"data-is-dragging":g,className:J,children:[Q,o]}),r[52]=o,r[53]=g,r[54]=d,r[55]=w,r[56]=B,r[57]=J,r[58]=Q,r[59]=Z):Z=r[59],Z});Wl.displayName="SortableColumn";const nd=(0,y.memo)(Wl);function ld(){let t=document.getElementById("App");t&&t.scrollTo({left:t.scrollLeft+1e3,behavior:"smooth"})}var Vl=q(),{getColumnWidth:ad,saveColumnWidth:sd}=Bm;const Bl=(0,y.memo)(t=>{let e=(0,Vl.c)(20),r=(0,y.useRef)(null);if(t.width==="columns"){let s=t.canDelete,i=t.columnId,o=t.canMoveLeft,d=t.canMoveRight,c=t.footer,m;e[0]===t.index?m=e[1]:(m=ad(t.index),e[0]=t.index,e[1]=m);let u;e[2]===t.index?u=e[3]:(u=f=>{sd(t.index,f)},e[2]=t.index,e[3]=u);let h;e[4]!==t.children||e[5]!==m||e[6]!==u?(h=(0,n.jsx)(id,{startingWidth:m,onResize:u,children:t.children}),e[4]=t.children,e[5]=m,e[6]=u,e[7]=h):h=e[7];let p;return e[8]!==t.canDelete||e[9]!==t.canMoveLeft||e[10]!==t.canMoveRight||e[11]!==t.columnId||e[12]!==t.footer||e[13]!==h?(p=(0,n.jsx)(nd,{tabIndex:-1,ref:r,canDelete:s,columnId:i,canMoveLeft:o,canMoveRight:d,className:"group/column",footer:c,children:h}),e[8]=t.canDelete,e[9]=t.canMoveLeft,e[10]=t.canMoveRight,e[11]=t.columnId,e[12]=t.footer,e[13]=h,e[14]=p):p=e[14],p}let l;e[15]===t.children?l=e[16]:(l=(0,n.jsx)("div",{"data-testid":"cell-column",className:"flex flex-col gap-5",children:t.children}),e[15]=t.children,e[16]=l);let a;return e[17]!==t.footer||e[18]!==l?(a=(0,n.jsxs)(n.Fragment,{children:[l,t.footer]}),e[17]=t.footer,e[18]=l,e[19]=a):a=e[19],a});Bl.displayName="Column";var id=t=>{let e=(0,Vl.c)(15),{startingWidth:r,onResize:l,children:a}=t,s;e[0]!==l||e[1]!==r?(s={startingWidth:r,onResize:l},e[0]=l,e[1]=r,e[2]=s):s=e[2];let{resizableDivRef:i,handleRefs:o,style:d}=Xm(s),c=od,m;e[3]===o.left?m=e[4]:(m=c(o.left),e[3]=o.left,e[4]=m);let u;e[5]!==a||e[6]!==i||e[7]!==d?(u=(0,n.jsx)("div",{ref:i,className:"flex flex-col gap-5 box-content min-h-[100px] px-11 pt-3 pb-6 min-w-[500px] z-1",style:d,children:a}),e[5]=a,e[6]=i,e[7]=d,e[8]=u):u=e[8];let h;e[9]===o.right?h=e[10]:(h=c(o.right),e[9]=o.right,e[10]=h);let p;return e[11]!==m||e[12]!==u||e[13]!==h?(p=(0,n.jsxs)("div",{className:"flex flex-row",children:[m,u,h]}),e[11]=m,e[12]=u,e[13]=h,e[14]=p):p=e[14],p};function od(t){return(0,n.jsx)("div",{ref:t,className:`w-[3px] cursor-col-resize transition-colors duration-200 z-100
          relative before:content-[''] before:absolute before:inset-y-0 before:-left-[3px]
          before:right-[-3px] before:w-[9px] before:z-[-1]
          hover/column:bg-[var(--slate-3)] dark:hover/column:bg-[var(--slate-5)]
          hover/column:hover:bg-primary/60 dark:hover/column:hover:bg-primary/60`})}var Hl=q();const cd=t=>{let e=(0,Hl.c)(10),{width:r}=t,{banners:l}=Wh(),{removeBanner:a}=Uh();if(l.length===0)return null;let s=r==="columns"&&"w-full max-w-[80vw]",i;e[0]===s?i=e[1]:(i=K("flex flex-col gap-4 mb-5 print:hidden",s),e[0]=s,e[1]=i);let o;if(e[2]!==l||e[3]!==a){let c;e[5]===a?c=e[6]:(c=m=>(0,n.jsxs)(It,{kind:m.variant||"info",className:"flex flex-col rounded p-3",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("span",{className:"font-bold text-lg flex items-center mb-2",children:[(0,n.jsx)(Qr,{className:"w-5 h-5 inline-block mr-2"}),m.title]}),(0,n.jsx)(ie,{"data-testid":"remove-banner-button",variant:"text",size:"icon",onClick:()=>a(m.id),children:(0,n.jsx)(He,{className:"w-5 h-5"})})]}),(0,n.jsxs)("div",{className:"flex justify-between items-end",children:[(0,n.jsx)("span",{children:R1({html:m.description})}),m.action==="restart"&&(0,n.jsx)(dd,{})]})]},m.id),e[5]=a,e[6]=c),o=l.map(c),e[2]=l,e[3]=a,e[4]=o}else o=e[4];let d;return e[7]!==i||e[8]!==o?(d=(0,n.jsx)("div",{className:i,children:o}),e[7]=i,e[8]=o,e[9]=d):d=e[9],d};var dd=()=>{let t=(0,Hl.c)(3),e=uh(),r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(r1,{className:"w-3 h-3 mr-2"}),t[0]=r):r=t[0];let l;return t[1]===e?l=t[2]:(l=(0,n.jsxs)(ie,{"data-testid":"restart-session-button",variant:"link",size:"xs",onClick:e,children:[r,"Restart"]}),t[1]=e,t[2]=l),l},ud=q(),md=or(t=>{let e=t(rn);for(let r of e.cellIds.inOrderIds){let l=e.cellRuntime[r];if(l.status==="idle"&&l.consoleOutputs.some(a=>a.channel==="stdin"&&a.response===void 0))return!0}return!1});const hd=()=>{let t=(0,ud.c)(3),e=ee(md),r=pd;if(!e)return null;let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsx)("span",{className:"font-bold text-lg flex items-center mb-1",children:"Program waiting for input"})}),t[0]=l):l=t[0];let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(T1,{className:"inline",children:"stdin"}),t[1]=a):a=t[1];let s;return t[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(hn,{milliseconds:2e3,children:(0,n.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-1/2 transform -translate-x-1/2 z-200 opacity-95",children:(0,n.jsxs)(It,{kind:"info",className:"flex flex-col rounded py-2 px-4 animate-in slide-in-from-top w-fit",children:[l,(0,n.jsx)("div",{className:"flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",children:(0,n.jsx)("div",{children:(0,n.jsxs)("p",{children:["The program is still running, but blocked on"," ",a,".",(0,n.jsx)(ie,{variant:"link",className:"h-auto font-normal",onClick:r,children:"Jump to the cell"})]})})})]})})}),t[2]=s):s=t[2],s};function pd(){let t=document.querySelector("[data-stdin-blocking]");t?(t.scrollIntoView({behavior:"smooth",block:"center"}),requestAnimationFrame(()=>{t.focus()})):We.error("No element with data-stdin-blocking found")}function fd(){xa(xd)}function xd(){let t=setTimeout(gd,100);return()=>clearTimeout(t)}function gd(){requestAnimationFrame(bd)}function bd(){let t=window.location.hash,e=lh(t);if(e)vd(e);else try{ql()}catch(r){let l=r;We.warn("Error focusing first editor",l)}}function ql(){var l,a;let{cellIds:t,cellData:e,cellHandles:r}=mr();for(let s of t.iterateTopLevelIds){let i=r[s];if(!((l=e[s])!=null&&l.config.hide_code)&&((a=i==null?void 0:i.current)!=null&&a.editorView)){i.current.editorView.focus();return}}}var $l=!1;function vd(t){var r,l;if($l)return;let e=document.querySelector(`[data-cell-name="${t}"]`);if(e){if(e.scrollIntoView({behavior:"smooth",block:"start"}),$l=!0,e instanceof HTMLElement){e.focus();let{cellHandles:a}=mr(),s=e.dataset.cellId;if(!s){We.error(`Missing cellId for cell with name ${t}`);return}let i=(l=(r=a[s])==null?void 0:r.current)==null?void 0:l.editorView;i&&i.focus()}}else We.warn(`Cannot focus cell with name ${t} because it was not found`),ql()}var ir=q();const yd=t=>{let e=(0,ir.c)(8),r=ee(Mm),l=t.appConfig.width==="columns",a;e[0]===t?a=e[1]:(a=(0,n.jsx)(jd,{...t}),e[0]=t,e[1]=a);let s;e[2]!==r||e[3]!==a?(s=(0,n.jsx)(hl,{"data-testid":"column-container",items:r,strategy:jo,children:a}),e[2]=r,e[3]=a,e[4]=s):s=e[4];let i;return e[5]!==l||e[6]!==s?(i=(0,n.jsx)(Kc,{multiColumn:l,children:s}),e[5]=l,e[6]=s,e[7]=i):i=e[7],i};var jd=t=>{let e=(0,ir.c)(28),{mode:r,userConfig:l,appConfig:a}=t,s=Fe(),{theme:i}=b1(),{toggleSidebarPanel:o}=cr();fd(),Se("global.focusTop",s.focusTopCell),Se("global.focusBottom",s.focusBottomCell),Se("global.toggleSidebar",o),Se("global.foldCode",s.foldAll),Se("global.unfoldCode",s.unfoldAll),Se("global.formatAll",Nd),Se("cell.hideCode",Nt.NOOP),Se("cell.format",Nt.NOOP);let d=en(),c=vm(),m=d.getColumnIds(),u=s.scrollToTarget,h;e[0]!==c||e[1]!==u?(h=()=>{c!==null&&u()},e[0]=c,e[1]=u,e[2]=h):h=e[2];let p;e[3]!==d||e[4]!==c||e[5]!==u?(p=[d,c,u],e[3]=d,e[4]=c,e[5]=u,e[6]=p):p=e[6],(0,y.useEffect)(h,p);let f=P0,g,x,b,v;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n.jsx)(Ic,{}),x=(0,n.jsx)(Ao,{}),b=(0,n.jsx)(hd,{}),v=(0,n.jsx)(td,{}),e[7]=g,e[8]=x,e[9]=b,e[10]=v):(g=e[7],x=e[8],b=e[9],v=e[10]);let j;e[11]===a.width?j=e[12]:(j=(0,n.jsx)(cd,{width:a.width}),e[11]=a.width,e[12]=j);let w=a.width==="columns"&&"grid grid-flow-col auto-cols-min gap-6",_;e[13]===w?_=e[14]:(_=K(w),e[13]=w,e[14]=_);let N=m.map((k,E)=>(0,n.jsx)(wd,{columnId:k,index:E,columnsLength:m.length,appConfig:a,mode:r,userConfig:l,theme:i},k)),C;e[15]!==_||e[16]!==N?(C=(0,n.jsx)("div",{className:_,children:N}),e[15]=_,e[16]=N,e[17]=C):C=e[17];let S;e[18]===Symbol.for("react.memo_cache_sentinel")?(S=(0,n.jsx)(tp,{}),e[18]=S):S=e[18];let I;return e[19]!==f||e[20]!==a||e[21]!==j||e[22]!==C||e[23]!==g||e[24]!==x||e[25]!==b||e[26]!==v?(I=(0,n.jsxs)(f,{className:"pb-[40vh]",invisible:!1,appConfig:a,innerClassName:"pr-4",children:[g,x,b,v,j,C,S]}),e[19]=f,e[20]=a,e[21]=j,e[22]=C,e[23]=g,e[24]=x,e[25]=b,e[26]=v,e[27]=I):I=e[27],I},wd=t=>{let e=(0,ir.c)(54),{columnId:r,index:l,columnsLength:a,appConfig:s,mode:i,userConfig:o,theme:d}=t,c=en(),m,u,h,p,f,g,x,b,v,j,w,_,N,C;if(e[0]!==s.width||e[1]!==c||e[2]!==r||e[3]!==a||e[4]!==l||e[5]!==i||e[6]!==d||e[7]!==o){let k=c.get(r);Ht(k,`Expected column for: ${r}`);let E;e[22]===c?E=e[23]:(E=c.hasOnlyOneId(),e[22]=c,e[23]=E);let z=E,R;e[24]===c.inOrderIds?R=e[25]:(R=c.inOrderIds.includes(_m),e[24]=c.inOrderIds,e[25]=R);let T=R;u=Bl,w=r,_=l,N=l>0,C=l<a-1,p=s.width,f=a>1;let P=s.width==="columns"&&"opacity-0 group-hover/column:opacity-100",D;e[26]===P?D=e[27]:(D=K(P),e[26]=P,e[27]=D),e[28]!==r||e[29]!==D?(g=(0,n.jsx)(_d,{columnId:r,className:D}),e[28]=r,e[29]=D,e[30]=g):g=e[30],m=hl,h=`column-${l+1}`,x=k.topLevelIds,b=_o,e[31]!==T||e[32]!==l||e[33]!==i||e[34]!==d||e[35]!==o?(v=l===0&&T&&(0,n.jsx)(Ol,{cellId:"setup",theme:d,showPlaceholder:!1,canDelete:!0,mode:i,userConfig:o,isCollapsed:!1,collapseCount:0,canMoveX:!1},"setup"),e[31]=T,e[32]=l,e[33]=i,e[34]=d,e[35]=o,e[36]=v):v=e[36],j=k.topLevelIds.map(M=>M==="setup"?null:(0,n.jsx)(Ol,{cellId:M,theme:d,showPlaceholder:z,canDelete:!z,mode:i,userConfig:o,isCollapsed:k.isCollapsed(M),collapseCount:k.getCount(M),canMoveX:s.width==="columns"},M)),e[0]=s.width,e[1]=c,e[2]=r,e[3]=a,e[4]=l,e[5]=i,e[6]=d,e[7]=o,e[8]=m,e[9]=u,e[10]=h,e[11]=p,e[12]=f,e[13]=g,e[14]=x,e[15]=b,e[16]=v,e[17]=j,e[18]=w,e[19]=_,e[20]=N,e[21]=C}else m=e[8],u=e[9],h=e[10],p=e[11],f=e[12],g=e[13],x=e[14],b=e[15],v=e[16],j=e[17],w=e[18],_=e[19],N=e[20],C=e[21];let S;e[37]!==m||e[38]!==h||e[39]!==x||e[40]!==b||e[41]!==v||e[42]!==j?(S=(0,n.jsxs)(m,{id:h,items:x,strategy:b,children:[v,j]}),e[37]=m,e[38]=h,e[39]=x,e[40]=b,e[41]=v,e[42]=j,e[43]=S):S=e[43];let I;return e[44]!==u||e[45]!==p||e[46]!==f||e[47]!==g||e[48]!==S||e[49]!==w||e[50]!==_||e[51]!==N||e[52]!==C?(I=(0,n.jsx)(u,{columnId:w,index:_,canMoveLeft:N,canMoveRight:C,width:p,canDelete:f,footer:g,children:S}),e[44]=u,e[45]=p,e[46]=f,e[47]=g,e[48]=S,e[49]=w,e[50]=_,e[51]=N,e[52]=C,e[53]=I):I=e[53],I},_d=t=>{let e=(0,ir.c)(18),{columnId:r,className:l}=t,{createNewCell:a}=Fe(),[s,i]=Z0(!1),o=ee(_a),d=ee(Ha),c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=K("mb-0 rounded-none sm:px-4 md:px-5 lg:px-8 tracking-wide no-wrap whitespace-nowrap","hover:bg-accent hover:text-accent-foreground font-semibold uppercase text-xs"),e[0]=c):c=e[0];let m=c,u;e[1]!==o||e[2]!==r||e[3]!==a||e[4]!==s||e[5]!==i.toggle||e[6]!==d?(u=()=>s?(0,n.jsx)($0,{onClose:i.toggle}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ie,{className:m,variant:"text",size:"sm",disabled:!d,onClick:()=>a({cellId:{type:"__end__",columnId:r},before:!1}),children:[(0,n.jsx)(os,{className:"mr-2 size-4 shrink-0"}),"Python"]}),(0,n.jsxs)(ie,{className:m,variant:"text",size:"sm",disabled:!d,onClick:()=>{Cr({autoInstantiate:!0,createNewCell:a}),a({cellId:{type:"__end__",columnId:r},before:!1,code:hr.markdown.defaultCode,hideCode:!0})},children:[(0,n.jsx)(cs,{className:"mr-2 size-4 shrink-0"}),"Markdown"]}),(0,n.jsxs)(ie,{className:m,variant:"text",size:"sm",disabled:!d,onClick:()=>{Cr({autoInstantiate:!0,createNewCell:a}),a({cellId:{type:"__end__",columnId:r},before:!1,code:hr.sql.defaultCode})},children:[(0,n.jsx)(ia,{className:"mr-2 size-4 shrink-0"}),"SQL"]}),(0,n.jsx)(ne,{content:o?null:(0,n.jsx)("span",{children:"Enable via settings under AI Assist"}),delayDuration:100,asChild:!1,children:(0,n.jsxs)(ie,{className:m,variant:"text",size:"sm",disabled:!o||!d,onClick:i.toggle,children:[(0,n.jsx)(wr,{className:"mr-2 size-4 shrink-0"}),"Generate with AI"]})})]}),e[1]=o,e[2]=r,e[3]=a,e[4]=s,e[5]=i.toggle,e[6]=d,e[7]=u):u=e[7];let h=u,p=!s&&"w-fit",f=s&&"w-full max-w-4xl shadow-lg shadow-(color:--blue-3)",g=s&&"opacity-100",x;e[8]!==l||e[9]!==p||e[10]!==f||e[11]!==g?(x=K("shadow-sm border border-border rounded transition-all duration-200 overflow-hidden divide-x divide-border flex",p,f,l,g),e[8]=l,e[9]=p,e[10]=f,e[11]=g,e[12]=x):x=e[12];let b;e[13]===h?b=e[14]:(b=h(),e[13]=h,e[14]=b);let v;return e[15]!==x||e[16]!==b?(v=(0,n.jsx)("div",{className:"flex justify-center mt-4 pt-6 pb-32 group gap-4 w-full print:hidden",children:(0,n.jsx)("div",{className:x,children:b})}),e[15]=x,e[16]=b,e[17]=v):v=e[17],v};function Nd(){wm()}var Cd=Gm(t=>M0().syncCellIds(t),400);const kd={onCellIdsChange:(t,e)=>{ht.get(j1)||t.isEmpty()||e.isEmpty()||im(t.inOrderIds,e.inOrderIds)||Cd({cell_ids:t.inOrderIds})}};var Sd=q();const Ul=t=>{let e=(0,Sd.c)(70),{userConfig:r,appConfig:l,hideControls:a}=t,s=a===void 0?!1:a;om(oa,kd.onCellIdsChange);let{setCells:i,mergeAllColumns:o,collapseAllCells:d,expandAllCells:c}=Fe(),m=ee(y1),u=ee(mm),h=ee(Rm),p=V1(),f=jt(Th),{sendComponentValues:g,sendInterrupt:x}=Ye(),b=m.mode==="edit",v=m.mode==="present",j=ee(Em),w;e[0]===g?w=e[1]:(w=()=>(Aa.INSTANCE.start(g),Id),e[0]=g,e[1]=w);let _;e[2]===Symbol.for("react.memo_cache_sentinel")?(_=[],e[2]=_):_=e[2],(0,y.useEffect)(w,_);let N=r.runtime.auto_instantiate,C;e[3]!==i||e[4]!==f?(C=(ue,ye)=>{i(ue),f({names:ue.map(Ed),codes:ue.map(zd),configs:ue.map(Rd),layout:ye})},e[3]=i,e[4]=f,e[5]=C):C=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=x0(),e[6]=S):S=e[6];let I;e[7]!==C||e[8]!==r.runtime.auto_instantiate?(I={autoInstantiate:N,setCells:C,sessionId:S},e[7]=C,e[8]=r.runtime.auto_instantiate,e[9]=I):I=e[9];let{connection:k}=$h(I),E,z;e[10]!==l.app_title||e[11]!==p?(E=()=>{document.title=l.app_title||ma.basename(p??"")||"Untitled Notebook"},z=[l.app_title,p],e[10]=l.app_title,e[11]=p,e[12]=E,e[13]=z):(E=e[12],z=e[13]),(0,y.useEffect)(E,z);let R=fr(l.width),T;e[14]!==l.width||e[15]!==o||e[16]!==R?(T=()=>{R==="columns"&&l.width!=="columns"&&o()},e[14]=l.width,e[15]=o,e[16]=R,e[17]=T):T=e[17];let P;e[18]!==l.width||e[19]!==o||e[20]!==u||e[21]!==R?(P=[l.width,R,o,u],e[18]=l.width,e[19]=o,e[20]=u,e[21]=R,e[22]=P):P=e[22],(0,y.useEffect)(T,P);let D=D1(),M=M1(),O=mh(),L;e[23]===D?L=e[24]:(L=()=>{D()},e[23]=D,e[24]=L),Se("global.runStale",L);let A;e[25]===x?A=e[26]:(A=()=>{x()},e[25]=x,e[26]=A),Se("global.interrupt",A);let V;e[27]===O?V=e[28]:(V=()=>{O()},e[27]=O,e[28]=V),Se("global.hideCode",V);let $;e[29]===M?$=e[30]:($=()=>{M()},e[29]=M,e[30]=$),Se("global.runAll",$);let U;e[31]===d?U=e[32]:(U=()=>{d()},e[31]=d,e[32]=U),Se("global.collapseAllSections",U);let H;e[33]===c?H=e[34]:(H=()=>{c()},e[33]=c,e[34]=H),Se("global.expandAllSections",H);let G;e[35]!==l||e[36]!==r||e[37]!==m.mode?(G=(0,n.jsx)(yd,{mode:m.mode,userConfig:r,appConfig:l}),e[35]=l,e[36]=r,e[37]=m.mode,e[38]=G):G=e[38];let F=G,Y=l.width,W;e[39]===Symbol.for("react.memo_cache_sentinel")?(W=K("pt-4 sm:pt-12 pb-2 mb-4 print:hidden z-50","sticky left-0"),e[39]=W):W=e[39];let B;e[40]!==p||e[41]!==b?(B=b&&(0,n.jsx)("div",{className:"flex items-center justify-center container",children:(0,n.jsx)(Ls,{filename:p})}),e[40]=p,e[41]=b,e[42]=B):B=e[42];let J;e[43]!==k||e[44]!==B?(J=(0,n.jsx)(Hh,{connection:k,className:W,children:B}),e[43]=k,e[44]=B,e[45]=J):J=e[45];let Q;e[46]!==l||e[47]!==F||e[48]!==h||e[49]!==m.mode?(Q=h&&(0,n.jsx)(qh,{appConfig:l,mode:m.mode,children:F}),e[46]=l,e[47]=F,e[48]=h,e[49]=m.mode,e[50]=Q):Q=e[50];let Z;e[51]!==l.width||e[52]!==k||e[53]!==j||e[54]!==J||e[55]!==Q?(Z=(0,n.jsxs)(Bh,{connection:k,isRunning:j,width:Y,children:[J,Q]}),e[51]=l.width,e[52]=k,e[53]=j,e[54]=J,e[55]=Q,e[56]=Z):Z=e[56];let re;e[57]===Symbol.for("react.memo_cache_sentinel")?(re=(0,n.jsx)(Gs,{}),e[57]=re):re=e[57];let te;e[58]!==l||e[59]!==k||e[60]!==s||e[61]!==v||e[62]!==j||e[63]!==D||e[64]!==x||e[65]!==O?(te=!s&&(0,n.jsx)(_r,{children:(0,n.jsx)(Ds,{presenting:v,onTogglePresenting:O,onInterrupt:x,onRun:D,connectionState:k.state,running:j,appConfig:l})}),e[58]=l,e[59]=k,e[60]=s,e[61]=v,e[62]=j,e[63]=D,e[64]=x,e[65]=O,e[66]=te):te=e[66];let ce;return e[67]!==Z||e[68]!==te?(ce=(0,n.jsxs)(n.Fragment,{children:[Z,re,te]}),e[67]=Z,e[68]=te,e[69]=ce):ce=e[69],ce};function Id(){Aa.INSTANCE.stop()}function Ed(t){return t.name}function zd(t){return t.code}function Rd(t){return t.config}const Kl=t=>ee(Dm)[t.capability]?t.children:null;var Dd=q();const Te=(0,y.forwardRef)((t,e)=>{let r=(0,Dd.c)(18),l,a,s,i,o;r[0]===t?(l=r[1],a=r[2],s=r[3],i=r[4],o=r[5]):({children:l,tooltip:o,selected:i,className:a,...s}=t,r[0]=t,r[1]=l,r[2]=a,r[3]=s,r[4]=i,r[5]=o);let d=!i&&"hover:bg-(--sage-3)",c=i&&"bg-(--sage-4)",m;r[6]!==a||r[7]!==d||r[8]!==c?(m=K("h-full flex items-center p-2 text-sm shadow-inset font-mono cursor-pointer rounded",d,c,a),r[6]=a,r[7]=d,r[8]=c,r[9]=m):m=r[9];let u;r[10]!==l||r[11]!==e||r[12]!==s||r[13]!==m?(u=(0,n.jsx)("div",{ref:e,className:m,...s,children:l}),r[10]=l,r[11]=e,r[12]=s,r[13]=m,r[14]=u):u=r[14];let h=u;if(o){let p;return r[15]!==h||r[16]!==o?(p=(0,n.jsx)(ne,{content:o,side:"top",delayDuration:200,children:h}),r[15]=h,r[16]=o,r[17]=p):p=r[17],p}return h});Te.displayName="FooterItem";var Md=q();const Td=()=>{var p,f;let t=(0,Md.c)(17),e=ee(m0),r=ee(_a),l=((p=e==null?void 0:e.models)==null?void 0:p.chat_model)||"openai/gpt-4o",a=((f=e==null?void 0:e.models)==null?void 0:f.edit_model)||l,{handleClick:s}=ka();if(!r){let g;t[0]===s?g=t[1]:(g=()=>s("ai"),t[0]=s,t[1]=g);let x;t[2]===Symbol.for("react.memo_cache_sentinel")?(x=(0,n.jsx)(wr,{className:"h-4 w-4 opacity-60"}),t[2]=x):x=t[2];let b;return t[3]===g?b=t[4]:(b=(0,n.jsx)(Te,{tooltip:"Assist is disabled",selected:!1,onClick:g,"data-testid":"footer-ai-disabled",children:x}),t[3]=g,t[4]=b),b}let i;t[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)("b",{children:"Chat model:"}),t[5]=i):i=t[5];let o,d;t[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)("br",{}),d=(0,n.jsx)("b",{children:"Edit model:"}),t[6]=o,t[7]=d):(o=t[6],d=t[7]);let c;t[8]!==l||t[9]!==a?(c=(0,n.jsxs)(n.Fragment,{children:[i," ",l,o,d," ",a]}),t[8]=l,t[9]=a,t[10]=c):c=t[10];let m;t[11]===s?m=t[12]:(m=()=>s("ai"),t[11]=s,t[12]=m);let u;t[13]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(wr,{className:"h-4 w-4"}),t[13]=u):u=t[13];let h;return t[14]!==c||t[15]!==m?(h=(0,n.jsx)(Te,{tooltip:c,onClick:m,selected:!1,"data-testid":"footer-ai-enabled",children:u}),t[14]=c,t[15]=m,t[16]=h):h=t[16],h};var Od=q(),Ad=3e4;const Pd=()=>{let t=(0,Od.c)(26),e=ee(St).state,r=f0(),l,a;t[0]!==e||t[1]!==r?(l=async()=>{if(e===it.OPEN){if(Ct())return{isHealthy:!0,lastChecked:new Date,error:void 0};try{return{isHealthy:await r.isHealthy(),lastChecked:new Date,error:void 0}}catch(w){let _=w;return{isHealthy:!1,lastChecked:new Date,error:_ instanceof Error?_.message:"Unknown error"}}}},a=[r,e],t[0]=e,t[1]=r,t[2]=l,t[3]=a):(l=t[2],a=t[3]);let{isFetching:s,error:i,data:o,refetch:d}=En(l,a),c=e===it.OPEN?Ad:null,m;t[4]===c?m=t[5]:(m={delayMs:c,whenVisible:!0},t[4]=c,t[5]=m),Qa(d,m);let u;t[6]!==e||t[7]!==o||t[8]!==i?(u=()=>[Km(e.toLowerCase()),o!=null&&o.lastChecked?o.isHealthy?"\u2713 Healthy":"\u2717 Unhealthy":"Health: Unknown",i?`Error: ${i}`:""].filter(Boolean).join(`
`),t[6]=e,t[7]=o,t[8]=i,t[9]=u):u=t[9];let h=u,p;t[10]!==e||t[11]!==(o==null?void 0:o.isHealthy)||t[12]!==(o==null?void 0:o.lastChecked)||t[13]!==s?(p=()=>s||e===it.CONNECTING?(0,n.jsx)(jr,{size:"small"}):e===it.CLOSING?(0,n.jsx)(jr,{className:"text-destructive",size:"small"}):e===it.OPEN?o!=null&&o.isHealthy?(0,n.jsx)(Sa,{className:"w-4 h-4 text-(--green-9)"}):o!=null&&o.lastChecked?(0,n.jsx)(Qr,{className:"w-4 h-4 text-(--yellow-9)"}):(0,n.jsx)(Sa,{className:"w-4 h-4"}):(0,n.jsx)(Ut,{className:"w-4 h-4 text-red-500"}),t[10]=e,t[11]=o==null?void 0:o.isHealthy,t[12]=o==null?void 0:o.lastChecked,t[13]=s,t[14]=p):p=t[14];let f=p,g=h(),x;t[15]===e?x=t[16]:(x=e===it.OPEN&&(0,n.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:"Click to refresh health status"}),t[15]=e,t[16]=x);let b;t[17]!==g||t[18]!==x?(b=(0,n.jsxs)("div",{className:"text-sm whitespace-pre-line",children:[g,x]}),t[17]=g,t[18]=x,t[19]=b):b=t[19];let v;t[20]===f?v=t[21]:(v=f(),t[20]=f,t[21]=v);let j;return t[22]!==d||t[23]!==b||t[24]!==v?(j=(0,n.jsx)(Te,{tooltip:b,selected:!1,onClick:d,"data-testid":"footer-backend-status",children:v}),t[22]=d,t[23]=b,t[24]=v,t[25]=j):j=t[25],j};var Ld=q();const Fd=t=>{let e=(0,Ld.c)(3),r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)("path",{d:"M205.28 31.36c14.096 14.88 20.016 35.2 22.512 63.68c6.626 0 12.805 1.47 16.976 7.152l7.792 10.56A17.55 17.55 0 0 1 256 123.2v28.688c-.008 3.704-1.843 7.315-4.832 9.504C215.885 187.222 172.35 208 128 208c-49.066 0-98.19-28.273-123.168-46.608c-2.989-2.189-4.825-5.8-4.832-9.504V123.2c0-3.776 1.2-7.424 3.424-10.464l7.792-10.544c4.173-5.657 10.38-7.152 16.992-7.152c2.496-28.48 8.4-48.8 22.512-63.68C77.331 3.165 112.567.06 127.552 0H128c14.72 0 50.4 2.88 77.28 31.36m-77.264 47.376c-3.04 0-6.544.176-10.272.544c-1.312 4.896-3.248 9.312-6.08 12.128c-11.2 11.2-24.704 12.928-31.936 12.928c-6.802 0-13.927-1.42-19.744-5.088c-5.502 1.808-10.786 4.415-11.136 10.912c-.586 12.28-.637 24.55-.688 36.824c-.026 6.16-.05 12.322-.144 18.488c.024 3.579 2.182 6.903 5.44 8.384C79.936 185.92 104.976 192 128.016 192c23.008 0 48.048-6.08 74.512-18.144c3.258-1.48 5.415-4.805 5.44-8.384c.317-18.418.062-36.912-.816-55.312h.016c-.342-6.534-5.648-9.098-11.168-10.912c-5.82 3.652-12.927 5.088-19.728 5.088c-7.232 0-20.72-1.728-31.936-12.928c-2.832-2.816-4.768-7.232-6.08-12.128a106 106 0 0 0-10.24-.544m-26.941 43.93c5.748 0 10.408 4.66 10.408 10.409v19.183c0 5.749-4.66 10.409-10.408 10.409s-10.408-4.66-10.408-10.409v-19.183c0-5.748 4.66-10.408 10.408-10.408m53.333 0c5.749 0 10.409 4.66 10.409 10.409v19.183c0 5.749-4.66 10.409-10.409 10.409c-5.748 0-10.408-4.66-10.408-10.409v-19.183c0-5.748 4.66-10.408 10.408-10.408M81.44 28.32c-11.2 1.12-20.64 4.8-25.44 9.92c-10.4 11.36-8.16 40.16-2.24 46.24c4.32 4.32 12.48 7.2 21.28 7.2c6.72 0 19.52-1.44 30.08-12.16c4.64-4.48 7.52-15.68 7.2-27.04c-.32-9.12-2.88-16.64-6.72-19.84c-4.16-3.68-13.6-5.28-24.16-4.32m68.96 4.32c-3.84 3.2-6.4 10.72-6.72 19.84c-.32 11.36 2.56 22.56 7.2 27.04c10.56 10.72 23.36 12.16 30.08 12.16c8.8 0 16.96-2.88 21.28-7.2c5.92-6.08 8.16-34.88-2.24-46.24c-4.8-5.12-14.24-8.8-25.44-9.92c-10.56-.96-20 .64-24.16 4.32M128 56c-2.56 0-5.6.16-8.96.48c.32 1.76.48 3.68.64 5.76c0 1.44 0 2.88-.16 4.48c3.2-.32 5.92-.32 8.48-.32s5.28 0 8.48.32c-.16-1.6-.16-3.04-.16-4.48c.16-2.08.32-4 .64-5.76c-3.36-.32-6.4-.48-8.96-.48"}),e[0]=r):r=e[0];let l;return e[1]===t?l=e[2]:(l=(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.24em",height:"1em",viewBox:"0 0 256 208",fill:"currentColor",...t,children:r}),e[1]=t,e[2]=l),l};var Wd=q(),Vd=or(t=>t(u0).completion.copilot);const Bd=()=>{let t=(0,Wd.c)(1);if(ee(Vd)==="github"){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(Hd,{}),t[0]=e):e=t[0],e}return null};var Gl=We.get("[copilot-status-bar]"),Hd=()=>{let t=ee(wa),e=ee(l0)!==null,r=ee(r0),{handleClick:l}=ka(),a=()=>l("ai"),s=t?"Ready":"Not connected";r.message?s=r.message:r.busy&&(s="Processing...");let i=jt(wa),o=jt(n0);xa(()=>{let c=a0(),m=!0;return(async()=>{try{if(await c.initializePromise.catch(h=>{throw Gl.error("Failed to initialize",h),c.close(),h}),!m)return;let u=await c.signedIn();if(!m)return;i(u),o(u?"signedIn":"signedOut")}catch(u){if(!m)return;Gl.warn("Connection failed",u),i(!1),o("connectionError"),Kt({title:"GitHub Copilot Connection Error",description:"Failed to connect to GitHub Copilot. Check settings and try again.",variant:"danger",action:(0,n.jsx)(ie,{variant:"link",onClick:a,children:"Settings"})})}})(),()=>{m=!1}});let d=r.kind==="Warning"||r.kind==="Error"?"text-(--yellow-11)":t?"":"opacity-60";return(0,n.jsx)(Te,{tooltip:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("b",{children:"GitHub Copilot:"})," ",s,r.kind&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsxs)("span",{className:"text-xs",children:["Status: ",r.kind]})]})]}),selected:!1,onClick:a,"data-testid":"footer-copilot-status",children:(0,n.jsx)("span",{children:e||r.busy?(0,n.jsx)(jr,{className:"h-4 w-4"}):(0,n.jsx)(Fd,{className:K("h-4 w-4",d)})})})},Mt=q();const qd=()=>{let t=(0,Mt.c)(18),[e,r]=(0,y.useState)(0),l=ee(St),{getUsageStats:a}=Ye(),s,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>r(Gd),i={delayMs:1e4,whenVisible:!0},t[0]=s,t[1]=i):(s=t[0],i=t[1]),Qa(s,i);let o;t[2]!==l.state||t[3]!==a?(o=async()=>Ct()||l.state!==it.OPEN?null:a(),t[2]=l.state,t[3]=a,t[4]=o):o=t[4];let d;t[5]!==l.state||t[6]!==e?(d=[e,l.state],t[5]=l.state,t[6]=e,t[7]=d):d=t[7];let{data:c}=En(o,d),m;t[8]===c?m=t[9]:(m=(c==null?void 0:c.gpu)&&c.gpu.length>0&&(0,n.jsx)(Kd,{gpus:c.gpu}),t[8]=c,t[9]=m);let u;t[10]===c?u=t[11]:(u=c&&(0,n.jsx)($d,{memory:c.memory,kernel:c.kernel,server:c.server}),t[10]=c,t[11]=u);let h;t[12]===c?h=t[13]:(h=c&&(0,n.jsx)(Ud,{cpu:c.cpu}),t[12]=c,t[13]=h);let p;return t[14]!==m||t[15]!==u||t[16]!==h?(p=(0,n.jsxs)("div",{className:"flex gap-2 items-center px-1",children:[m,u,h]}),t[14]=m,t[15]=u,t[16]=h,t[17]=p):p=t[17],p};var $d=t=>{let e=(0,Mt.c)(36),{memory:r,kernel:l,server:a}=t,{percent:s,total:i,available:o}=r,d;e[0]===s?d=e[1]:(d=Math.round(s),e[0]=s,e[1]=d);let c=d,m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m={maximumFractionDigits:2},e[2]=m):m=e[2];let u=Nr(m),h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h={maximumFractionDigits:0},e[3]=h):h=e[3];let p=Nr(h),f;e[4]!==u||e[5]!==p?(f=R=>R>1073741824?`${u.format(R/1073741824)} GB`:`${p.format(R/1048576)} MB`,e[4]=u,e[5]=p,e[6]=f):f=e[6];let g=f,x;e[7]===u?x=e[8]:(x=R=>u.format(R/1073741824),e[7]=u,e[8]=x);let b=x,v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n.jsx)("b",{children:"computer memory:"}),e[9]=v):v=e[9];let j=i-o,w;e[10]!==b||e[11]!==j?(w=b(j),e[10]=b,e[11]=j,e[12]=w):w=e[12];let _;e[13]!==b||e[14]!==i?(_=b(i),e[13]=b,e[14]=i,e[15]=_):_=e[15];let N;e[16]!==c||e[17]!==w||e[18]!==_?(N=(0,n.jsxs)("span",{children:[v," ",w," /"," ",_," GB (",c,"%)"]}),e[16]=c,e[17]=w,e[18]=_,e[19]=N):N=e[19];let C;e[20]!==g||e[21]!==a?(C=(a==null?void 0:a.memory)&&(0,n.jsxs)("span",{children:[(0,n.jsx)("b",{children:"marimo server:"})," ",g(a.memory)]}),e[20]=g,e[21]=a,e[22]=C):C=e[22];let S;e[23]!==g||e[24]!==l?(S=(l==null?void 0:l.memory)&&(0,n.jsxs)("span",{children:[(0,n.jsx)("b",{children:"kernel:"})," ",g(l.memory)]}),e[23]=g,e[24]=l,e[25]=S):S=e[25];let I;e[26]!==N||e[27]!==C||e[28]!==S?(I=(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[N,C,S]}),e[26]=N,e[27]=C,e[28]=S,e[29]=I):I=e[29];let k;e[30]===Symbol.for("react.memo_cache_sentinel")?(k=(0,n.jsx)(rs,{className:"w-4 h-4"}),e[30]=k):k=e[30];let E;e[31]===c?E=e[32]:(E=(0,n.jsxs)("div",{className:"flex items-center gap-1","data-testid":"memory-usage-bar",children:[k,(0,n.jsx)(Kr,{percent:c,colorClassName:"bg-primary"})]}),e[31]=c,e[32]=E);let z;return e[33]!==I||e[34]!==E?(z=(0,n.jsx)(ne,{delayDuration:200,content:I,children:E}),e[33]=I,e[34]=E,e[35]=z):z=e[35],z},Ud=t=>{let e=(0,Mt.c)(11),{cpu:r}=t,{percent:l}=r,a;e[0]===l?a=e[1]:(a=Math.round(l),e[0]=l,e[1]=a);let s=a,i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)("b",{children:"CPU:"}),e[2]=i):i=e[2];let o;e[3]===s?o=e[4]:(o=(0,n.jsxs)("span",{children:[i," ",s,"%"]}),e[3]=s,e[4]=o);let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)(X0,{className:"w-4 h-4"}),e[5]=d):d=e[5];let c;e[6]===s?c=e[7]:(c=(0,n.jsxs)("div",{className:"flex items-center gap-1","data-testid":"cpu-bar",children:[d,(0,n.jsx)(Kr,{percent:s,colorClassName:"bg-primary"})]}),e[6]=s,e[7]=c);let m;return e[8]!==o||e[9]!==c?(m=(0,n.jsx)(ne,{delayDuration:200,content:o,children:c}),e[8]=o,e[9]=c,e[10]=m):m=e[10],m},Kd=t=>{let e=(0,Mt.c)(20),{gpus:r}=t,l;e[0]===r?l=e[1]:(l=Math.round(r.reduce(Xd,0)/r.length),e[0]=r,e[1]=l);let a=l,s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s={maximumFractionDigits:2},e[2]=s):s=e[2];let i=Nr(s),o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o={maximumFractionDigits:0},e[3]=o):o=e[3];let d=Nr(o),c;e[4]!==i||e[5]!==d?(c=x=>x>1073741824?`${i.format(x/1073741824)} GB`:`${d.format(x/1048576)} MB`,e[4]=i,e[5]=d,e[6]=c):c=e[6];let m=c,u;if(e[7]!==m||e[8]!==r){let x;e[10]===m?x=e[11]:(x=b=>(0,n.jsxs)("span",{children:[(0,n.jsxs)("b",{children:["GPU ",b.index," (",b.name,"):"]})," ",m(b.memory.used)," / ",m(b.memory.total)," (",Math.round(b.memory.percent),"%)"]},b.index),e[10]=m,e[11]=x),u=r.map(x),e[7]=m,e[8]=r,e[9]=u}else u=e[9];let h;e[12]===u?h=e[13]:(h=(0,n.jsx)("div",{className:"flex flex-col gap-1",children:u}),e[12]=u,e[13]=h);let p;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsx)(ls,{className:"w-4 h-4"}),e[14]=p):p=e[14];let f;e[15]===a?f=e[16]:(f=(0,n.jsxs)("div",{className:"flex items-center gap-1","data-testid":"gpu-bar",children:[p,(0,n.jsx)(Kr,{percent:a,colorClassName:"bg-(--grass-9)"})]}),e[15]=a,e[16]=f);let g;return e[17]!==h||e[18]!==f?(g=(0,n.jsx)(ne,{delayDuration:200,content:h,children:f}),e[17]=h,e[18]=f,e[19]=g):g=e[19],g},Kr=t=>{let e=(0,Mt.c)(7),{percent:r,colorClassName:l}=t,a;e[0]===l?a=e[1]:(a=K("h-full bg-primary",l),e[0]=l,e[1]=a);let s=`${r}%`,i;e[2]===s?i=e[3]:(i={width:s},e[2]=s,e[3]=i);let o;return e[4]!==a||e[5]!==i?(o=(0,n.jsx)("div",{className:"h-3 w-20 bg-(--slate-4) rounded-lg overflow-hidden border",children:(0,n.jsx)("div",{className:a,style:i})}),e[4]=a,e[5]=i,e[6]=o):o=e[6],o};function Gd(t){return t+1}function Xd(t,e){return t+e.memory.percent}const Xl=or(!1);function Gr(t,e,r=new Set){if(r.has(t))return new Set;r.add(t);let l=new Set;for(let a of e(t)){l.add(a);for(let s of Gr(a,e,r))l.add(s)}return l}function Yd(t,e){var a,s,i;let r=new Map;for(let o of t)r.set(o,{variables:new Set,parents:new Set,children:new Set});for(let o of Object.values(e))if(o.dataType!=="module")for(let d of o.declaredBy){(a=r.get(d))==null||a.variables.add(o.name);for(let c of o.usedBy)d!==c&&((s=r.get(c))==null||s.parents.add(d),(i=r.get(d))==null||i.children.add(c))}let l={};for(let[o,d]of r.entries())l[o]={parents:d.parents,children:d.children,variables:[...d.variables],ancestors:Gr(o,c=>{var m;return((m=r.get(c))==null?void 0:m.parents)??new Set}),descendants:Gr(o,c=>{var m;return((m=r.get(c))==null?void 0:m.children)??new Set})};return l}const Jd=or(t=>{let e=t(oa),r=t(zm);return Yd(e.inOrderIds,r)});function Qd(t,e){return e?t.usedBy.includes(e.id)||t.declaredBy.includes(e.id)?!0:t.declaredBy.some(r=>e.graph.parents.has(r))?t.usedBy.some(r=>e.graph.parents.has(r)):!!t.declaredBy.some(r=>e.graph.children.has(r)):!1}var Zd=q();const eu=()=>{let t=(0,Zd.c)(6),[e,r]=At(Xl),l;t[0]===r?l=t[1]:(l=()=>r(tu),t[0]=r,t[1]=l);let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(ts,{className:"h-4 w-4"}),t[2]=a):a=t[2];let s;return t[3]!==e||t[4]!==l?(s=(0,n.jsx)(Te,{tooltip:"Toggle Minimap",selected:e,onClick:l,"data-testid":"footer-minimap",children:a}),t[3]=e,t[4]=l,t[5]=s):s=t[5],s};function tu(t){return!t}var ru=q();const nu=()=>{let t=(0,ru.c)(13),e=ee(zh),[r,l]=At(Cm),[a,s]=(0,y.useState)(!1);if(!Nm()||e==="disabled")return null;let i=e?"Real-time collaboration active":"Connecting to real-time collaboration",o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(ds,{className:"w-4 h-4"}),t[0]=o):o=t[0];let d;t[1]===i?d=t[2]:(d=(0,n.jsx)(L1,{asChild:!0,children:(0,n.jsx)(Te,{tooltip:i,selected:!1,"data-testid":"footer-rtc-status",children:o})}),t[1]=i,t[2]=d);let c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h4",{className:"font-medium leading-none",children:"Username"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set your username for real-time collaboration"})]}),t[3]=c):c=t[3];let m;t[4]===l?m=t[5]:(m=p=>l(p.target.value),t[4]=l,t[5]=m);let u;t[6]!==m||t[7]!==r?(u=(0,n.jsx)(F1,{className:"w-80",children:(0,n.jsxs)("div",{className:"space-y-4",children:[c,(0,n.jsx)(Cn,{value:r,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",onChange:m,placeholder:"Enter your username"})]})}),t[6]=m,t[7]=r,t[8]=u):u=t[8];let h;return t[9]!==a||t[10]!==d||t[11]!==u?(h=(0,n.jsxs)(W1,{open:a,onOpenChange:s,children:[d,u]}),t[9]=a,t[10]=d,t[11]=u,t[12]=h):h=t[12],h};var lu=q();const au=t=>{let e=(0,lu.c)(104),{className:r}=t,{saveUserConfig:l}=Ye(),[a,s]=c0(),i=on()[0],[o,d]=(0,y.useState)(!1),c,m;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{let le=window.matchMedia("(min-width: 768px)"),X=()=>{le.matches&&d(!1)};return le.addEventListener("change",X),()=>le.removeEventListener("change",X)},m=[],e[0]=c,e[1]=m):(c=e[0],m=e[1]),(0,y.useEffect)(c,m);let u;e[2]!==i||e[3]!==l||e[4]!==s?(u=async le=>{let X={...i,runtime:{...i.runtime,auto_instantiate:le}};await l({config:X}).then(()=>s(X))},e[2]=i,e[3]=l,e[4]=s,e[5]=u):u=e[5];let h=u,p;e[6]!==l||e[7]!==s||e[8]!==a?(p=async le=>{let X={...a,runtime:{...a.runtime,on_cell_change:le?"autorun":"lazy"}};await l({config:X}).then(()=>s(X))},e[6]=l,e[7]=s,e[8]=a,e[9]=p):p=e[9];let f=p,g;e[10]!==l||e[11]!==s||e[12]!==a?(g=async le=>{let X={...a,runtime:{...a.runtime,auto_reload:le}};await l({config:X}).then(()=>s(X))},e[10]=l,e[11]=s,e[12]=a,e[13]=g):g=e[13];let x=g,b;e[14]!==i.runtime.auto_instantiate||e[15]!==i.runtime.auto_reload||e[16]!==i.runtime.on_cell_change?(b=!i.runtime.auto_instantiate&&i.runtime.on_cell_change==="lazy"&&(Ct()||i.runtime.auto_reload!=="autorun"),e[14]=i.runtime.auto_instantiate,e[15]=i.runtime.auto_reload,e[16]=i.runtime.on_cell_change,e[17]=b):b=e[17];let v=b,j;e[18]===r?j=e[19]:(j=K("flex items-center",r),e[18]=r,e[19]=j);let w=i.runtime.auto_instantiate?"Disable autorun on startup":"Enable autorun on startup",_;e[20]!==i.runtime.auto_instantiate||e[21]!==h?(_=()=>h(!i.runtime.auto_instantiate),e[20]=i.runtime.auto_instantiate,e[21]=h,e[22]=_):_=e[22];let N;e[23]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.jsx)("span",{children:"on startup: "}),e[23]=N):N=e[23];let C;e[24]===i.runtime.auto_instantiate?C=e[25]:(C=i.runtime.auto_instantiate?(0,n.jsx)($e,{size:14}):(0,n.jsx)(qe,{size:14}),e[24]=i.runtime.auto_instantiate,e[25]=C);let S=i.runtime.auto_instantiate?"autorun":"lazy",I;e[26]===S?I=e[27]:(I=(0,n.jsx)("span",{children:S}),e[26]=S,e[27]=I);let k;e[28]!==C||e[29]!==I?(k=(0,n.jsxs)("div",{className:"font-prose text-sm flex items-center gap-1 whitespace-nowrap",children:[N,C,I]}),e[28]=C,e[29]=I,e[30]=k):k=e[30];let E;e[31]!==k||e[32]!==w||e[33]!==_?(E=(0,n.jsx)(kt,{name:"runtime.auto_instantiate",children:(0,n.jsx)(Te,{tooltip:w,selected:!1,onClick:_,"data-testid":"footer-autorun-startup",children:k})}),e[31]=k,e[32]=w,e[33]=_,e[34]=E):E=e[34];let z;e[35]===Symbol.for("react.memo_cache_sentinel")?(z=(0,n.jsx)("div",{className:"border-r border-border h-6 mx-1"}),e[35]=z):z=e[35];let R=i.runtime.on_cell_change==="autorun"?"Disable autorun":"Enable autorun",T;e[36]!==i.runtime.on_cell_change||e[37]!==f?(T=()=>f(i.runtime.on_cell_change!=="autorun"),e[36]=i.runtime.on_cell_change,e[37]=f,e[38]=T):T=e[38];let P;e[39]===Symbol.for("react.memo_cache_sentinel")?(P=(0,n.jsx)("span",{children:"on cell change: "}),e[39]=P):P=e[39];let D;e[40]===i.runtime.on_cell_change?D=e[41]:(D=(0,n.jsxs)("div",{className:"font-prose text-sm flex items-center gap-1 whitespace-nowrap",children:[P,i.runtime.on_cell_change==="autorun"?(0,n.jsx)($e,{size:14}):(0,n.jsx)(qe,{size:14}),(0,n.jsx)("span",{children:i.runtime.on_cell_change})]}),e[40]=i.runtime.on_cell_change,e[41]=D);let M;e[42]!==R||e[43]!==T||e[44]!==D?(M=(0,n.jsx)(kt,{name:"runtime.on_cell_change",children:(0,n.jsx)(Te,{tooltip:R,selected:!1,onClick:T,"data-testid":"footer-autorun-cell-change",children:D})}),e[42]=R,e[43]=T,e[44]=D,e[45]=M):M=e[45];let O;e[46]!==i.runtime.auto_reload||e[47]!==x?(O=!Ct()&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"border-r border-border h-6 mx-1"}),(0,n.jsx)(kt,{name:"runtime.auto_reload",children:(0,n.jsx)(Te,{tooltip:null,selected:!1,"data-testid":"footer-module-reload",children:(0,n.jsxs)(st,{children:[(0,n.jsxs)(lt,{className:"font-prose text-sm flex items-center gap-1 whitespace-nowrap",children:[(0,n.jsx)("span",{children:"on module change: "}),i.runtime.auto_reload==="off"&&(0,n.jsx)(Ut,{size:14}),i.runtime.auto_reload==="lazy"&&(0,n.jsx)(qe,{size:14}),i.runtime.auto_reload==="autorun"&&(0,n.jsx)($e,{size:14}),(0,n.jsx)("span",{children:i.runtime.auto_reload}),(0,n.jsx)(pt,{size:14})]}),(0,n.jsx)(at,{children:["off","lazy","autorun"].map(le=>(0,n.jsxs)(nt,{onClick:()=>x(le),children:[le==="off"&&(0,n.jsx)(Ut,{size:14,className:"mr-2 text-muted-foreground"}),le==="lazy"&&(0,n.jsx)(qe,{size:14,className:"mr-2 text-muted-foreground"}),le==="autorun"&&(0,n.jsx)($e,{size:14,className:"mr-2 text-muted-foreground"}),le]},le))})]})})})]}),e[46]=i.runtime.auto_reload,e[47]=x,e[48]=O):O=e[48];let L;e[49]!==E||e[50]!==M||e[51]!==O?(L=(0,n.jsxs)("div",{className:"hidden md:flex md:items-center",children:[E,z,M,O]}),e[49]=E,e[50]=M,e[51]=O,e[52]=L):L=e[52];let A;e[53]===v?A=e[54]:(A=v?(0,n.jsx)(qe,{size:16,className:"text-muted-foreground"}):(0,n.jsx)($e,{size:16,className:"text-amber-500"}),e[53]=v,e[54]=A);let V;e[55]===Symbol.for("react.memo_cache_sentinel")?(V=(0,n.jsx)(pt,{size:14}),e[55]=V):V=e[55];let $;e[56]===A?$=e[57]:($=(0,n.jsx)(lt,{asChild:!0,children:(0,n.jsx)(Te,{tooltip:"Runtime reactivity",selected:!1,"data-testid":"footer-runtime-settings",children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[A,V]})})}),e[56]=A,e[57]=$);let U,H;e[58]===Symbol.for("react.memo_cache_sentinel")?(U=(0,n.jsx)(jh,{children:"Runtime reactivity"}),H=(0,n.jsx)(ft,{}),e[58]=U,e[59]=H):(U=e[58],H=e[59]);let G;e[60]===i.runtime.auto_instantiate?G=e[61]:(G=i.runtime.auto_instantiate?(0,n.jsx)($e,{size:14,className:"text-amber-500"}):(0,n.jsx)(qe,{size:14,className:"text-muted-foreground"}),e[60]=i.runtime.auto_instantiate,e[61]=G);let F;e[62]===Symbol.for("react.memo_cache_sentinel")?(F=(0,n.jsx)("div",{className:"text-sm font-medium",children:"On startup"}),e[62]=F):F=e[62];let Y=i.runtime.auto_instantiate?"autorun":"lazy",W;e[63]===Y?W=e[64]:(W=(0,n.jsxs)("div",{children:[F,(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:Y})]}),e[63]=Y,e[64]=W);let B;e[65]!==G||e[66]!==W?(B=(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[G,W]}),e[65]=G,e[66]=W,e[67]=B):B=e[67];let J;e[68]!==i.runtime.auto_instantiate||e[69]!==h?(J=(0,n.jsx)(Ja,{checked:i.runtime.auto_instantiate,onCheckedChange:h,size:"sm"}),e[68]=i.runtime.auto_instantiate,e[69]=h,e[70]=J):J=e[70];let Q;e[71]!==B||e[72]!==J?(Q=(0,n.jsx)(kt,{name:"runtime.auto_instantiate",children:(0,n.jsxs)("div",{className:"flex items-center justify-between px-2 py-2",children:[B,J]})}),e[71]=B,e[72]=J,e[73]=Q):Q=e[73];let Z;e[74]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,n.jsx)(ft,{}),e[74]=Z):Z=e[74];let re;e[75]===i.runtime.on_cell_change?re=e[76]:(re=i.runtime.on_cell_change==="autorun"?(0,n.jsx)($e,{size:14,className:"text-amber-500"}):(0,n.jsx)(qe,{size:14,className:"text-muted-foreground"}),e[75]=i.runtime.on_cell_change,e[76]=re);let te;e[77]===Symbol.for("react.memo_cache_sentinel")?(te=(0,n.jsx)("div",{className:"text-sm font-medium",children:"On cell change"}),e[77]=te):te=e[77];let ce;e[78]===i.runtime.on_cell_change?ce=e[79]:(ce=(0,n.jsxs)("div",{children:[te,(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:i.runtime.on_cell_change})]}),e[78]=i.runtime.on_cell_change,e[79]=ce);let ue;e[80]!==re||e[81]!==ce?(ue=(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[re,ce]}),e[80]=re,e[81]=ce,e[82]=ue):ue=e[82];let ye=i.runtime.on_cell_change==="autorun",me;e[83]!==f||e[84]!==ye?(me=(0,n.jsx)(Ja,{checked:ye,onCheckedChange:f,size:"sm"}),e[83]=f,e[84]=ye,e[85]=me):me=e[85];let he;e[86]!==ue||e[87]!==me?(he=(0,n.jsx)(kt,{name:"runtime.on_cell_change",children:(0,n.jsxs)("div",{className:"flex items-center justify-between px-2 py-2",children:[ue,me]})}),e[86]=ue,e[87]=me,e[88]=he):he=e[88];let se;e[89]!==i.runtime.auto_reload||e[90]!==x?(se=!Ct()&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ft,{}),(0,n.jsx)(kt,{name:"runtime.auto_reload",children:(0,n.jsxs)("div",{className:"px-2 py-1",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[i.runtime.auto_reload==="off"&&(0,n.jsx)(Ut,{size:14,className:"text-muted-foreground"}),i.runtime.auto_reload==="lazy"&&(0,n.jsx)(qe,{size:14,className:"text-muted-foreground"}),i.runtime.auto_reload==="autorun"&&(0,n.jsx)($e,{size:14,className:"text-amber-500"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:"On module change"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:i.runtime.auto_reload})]})]}),(0,n.jsx)("div",{className:"space-y-1",children:["off","lazy","autorun"].map(le=>(0,n.jsxs)("button",{onClick:()=>x(le),className:K("w-full flex items-center px-2 py-1 text-sm rounded hover:bg-accent",le===i.runtime.auto_reload&&"bg-accent"),children:[le==="off"&&(0,n.jsx)(Ut,{size:12,className:"mr-2"}),le==="lazy"&&(0,n.jsx)(qe,{size:12,className:"mr-2"}),le==="autorun"&&(0,n.jsx)($e,{size:12,className:"mr-2"}),(0,n.jsx)("span",{className:"capitalize",children:le}),le===i.runtime.auto_reload&&(0,n.jsx)("span",{className:"ml-auto",children:"\u2713"})]},le))})]})})]}),e[89]=i.runtime.auto_reload,e[90]=x,e[91]=se):se=e[91];let oe;e[92]!==Q||e[93]!==he||e[94]!==se?(oe=(0,n.jsxs)(at,{align:"start",className:"w-64",children:[U,H,Q,Z,he,se]}),e[92]=Q,e[93]=he,e[94]=se,e[95]=oe):oe=e[95];let de;e[96]!==o||e[97]!==$||e[98]!==oe?(de=(0,n.jsx)("div",{className:"flex md:hidden",children:(0,n.jsxs)(st,{open:o,onOpenChange:d,children:[$,oe]})}),e[96]=o,e[97]=$,e[98]=oe,e[99]=de):de=e[99];let be;return e[100]!==L||e[101]!==de||e[102]!==j?(be=(0,n.jsxs)("div",{className:j,children:[L,de]}),e[100]=L,e[101]=de,e[102]=j,e[103]=be):be=e[103],be};var su=q();const iu=()=>{let t=(0,su.c)(24),{selectedPanel:e,isTerminalOpen:r}=Zr(),{toggleApplication:l,toggleTerminal:a}=cr(),s=ee(Om),i=ou,o=Ia.find(cu);Ht(o,"Error panel not found");let d;t[0]===a?d=t[1]:(d=()=>{a()},t[0]=a,t[1]=d),Se("global.toggleTerminal",d);let c=Te,m=o.tooltip,u=e===o.type,h=()=>l(o.type),p=i(o,s>0?"text-destructive":""),f;t[2]===s?f=t[3]:(f=(0,n.jsx)("span",{className:"ml-1 font-mono mt-0.5",children:s}),t[2]=s,t[3]=f);let g;t[4]!==c||t[5]!==o||t[6]!==u||t[7]!==h||t[8]!==p||t[9]!==f?(g=(0,n.jsxs)(c,{tooltip:m,selected:u,onClick:h,"data-testid":"footer-errors",children:[p,f]}),t[4]=c,t[5]=o,t[6]=u,t[7]=h,t[8]=p,t[9]=f,t[10]=g):g=t[10];let x;t[11]===a?x=t[12]:(x=()=>a(),t[11]=a,t[12]=x);let b;t[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,n.jsx)(n1,{className:"h-5 w-5"}),t[13]=b):b=t[13];let v;t[14]!==r||t[15]!==x?(v=(0,n.jsx)(Kl,{capability:"terminal",children:(0,n.jsx)(Te,{tooltip:"Open terminal",selected:r,onClick:x,"data-testid":"footer-terminal",children:b})}),t[14]=r,t[15]=x,t[16]=v):v=t[16];let j,w;t[17]===Symbol.for("react.memo_cache_sentinel")?(j=(0,n.jsx)(au,{}),w=(0,n.jsx)("div",{className:"mx-auto"}),t[17]=j,t[18]=w):(j=t[17],w=t[18]);let _;t[19]===Symbol.for("react.memo_cache_sentinel")?(_=(0,n.jsx)(np,{children:(0,n.jsx)(ne,{content:(0,n.jsx)("div",{className:"w-[200px]",children:"Kiosk mode is enabled. This allows you to view the outputs of the cells without the ability to edit them."}),children:(0,n.jsx)("span",{className:"text-muted-foreground text-sm mr-4",children:"kiosk mode"})})}),t[19]=_):_=t[19];let N;t[20]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.jsxs)("div",{className:"flex items-center shrink-0 min-w-0",children:[(0,n.jsx)(qd,{}),(0,n.jsx)(eu,{}),(0,n.jsx)(Td,{}),(0,n.jsx)(Bd,{}),(0,n.jsx)(nu,{}),(0,n.jsx)(Pd,{})]}),t[20]=N):N=t[20];let C;return t[21]!==v||t[22]!==g?(C=(0,n.jsxs)("footer",{className:"h-10 py-2 bg-background flex items-center text-muted-foreground text-md px-1 border-t border-border select-none no-print text-sm shadow-[0_0_4px_1px_rgba(0,0,0,0.1)] z-50 print:hidden hide-on-fullscreen overflow-x-auto overflow-y-hidden scrollbar-thin",children:[g,v,j,w,_,N]}),t[21]=v,t[22]=g,t[23]=C):C=t[23],C};function ou(t,e){let{Icon:r}=t;return(0,n.jsx)(r,{className:K("h-5 w-5",e)})}function cu(t){return t.type==="errors"}var Yl=q();const du=t=>{let e=(0,Yl.c)(6),{children:r}=t,{openModal:l,closeModal:a}=E1(),s;e[0]!==a||e[1]!==l?(s=()=>l((0,n.jsx)(uu,{onClose:a})),e[0]=a,e[1]=l,e[2]=s):s=e[2];let i;return e[3]!==r||e[4]!==s?(i=(0,n.jsx)(y0,{onClick:s,children:r}),e[3]=r,e[4]=s,e[5]=i):i=e[5],i};var uu=t=>{let e=(0,Yl.c)(9),{onClose:r}=t,l;e[0]===r?l=e[1]:(l=async m=>{m.preventDefault();let u=new FormData(m.target),h=u.get("rating"),p=u.get("message");fetch("https://marimo.io/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:h,message:p})}),r(),Kt({title:"Feedback sent!",description:"Thank you for your feedback!"})},e[0]=r,e[1]=l);let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(_1,{children:"Send Feedback"}),e[2]=a):a=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)("p",{className:"my-2 prose dark:prose-invert",children:"We want to hear from you \u2014 from minor bug reports to wishlist features and everything in between. Here are some ways you can get in touch:"}),e[3]=s):s=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsxs)("li",{className:"my-0",children:["Take our"," ",(0,n.jsx)("a",{href:cn.feedbackForm,target:"_blank",className:"underline",children:"two-minute survey."})]}),e[4]=i):i=e[4];let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsxs)("li",{className:"my-0",children:["File a"," ",(0,n.jsx)("a",{href:cn.issuesPage,target:"_blank",className:"underline",children:"GitHub issue."})]}),e[5]=o):o=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsxs)(w1,{children:[a,(0,n.jsxs)(C1,{children:[s,(0,n.jsxs)("ul",{className:"list-disc ml-8 my-2 prose dark:prose-invert",children:[i,o,(0,n.jsxs)("li",{className:"my-0",children:["Chat with us on"," ",(0,n.jsx)("a",{href:cn.discordLink,target:"_blank",className:"underline",children:"Discord."})]})]}),(0,n.jsx)("p",{className:"my-2 prose dark:prose-invert",children:"We're excited you're here as we build the future of Python data tooling. Thanks for being part of our community!"})]})]}),e[6]=d):d=e[6];let c;return e[7]===l?c=e[8]:(c=(0,n.jsx)(N1,{className:"w-fit",children:(0,n.jsx)("form",{onSubmit:l,children:d})}),e[7]=l,e[8]=c),c},Xr=q();const mu=()=>{let t=(0,Xr.c)(10),{selectedPanel:e}=Zr(),{toggleApplication:r}=cr(),l=pu,a,s;if(t[0]!==e||t[1]!==r){let m=Ia.filter(fu);a="h-full pt-4 pb-1 px-1 flex flex-col items-start text-muted-foreground text-md select-none no-print text-sm z-50 dark:bg-background print:hidden hide-on-fullscreen",s=m.map(u=>(0,n.jsx)(Jl,{tooltip:u.tooltip,selected:e===u.type,onClick:()=>r(u.type),children:l(u)},u.type)),t[0]=e,t[1]=r,t[2]=a,t[3]=s}else a=t[2],s=t[3];let i,o,d;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(du,{children:(0,n.jsx)(Jl,{tooltip:"Send feedback!",selected:!1,children:(0,n.jsx)(ns,{className:"h-5 w-5"})})}),o=(0,n.jsx)("div",{className:"flex-1"}),d=(0,n.jsx)(hu,{}),t[4]=i,t[5]=o,t[6]=d):(i=t[4],o=t[5],d=t[6]);let c;return t[7]!==a||t[8]!==s?(c=(0,n.jsxs)("div",{className:a,children:[s,i,o,d]}),t[7]=a,t[8]=s,t[9]=c):c=t[9],c};var hu=()=>{let t=(0,Xr.c)(7),e=ee(ym),r;t[0]===e?r=t[1]:(r=e>0?(0,n.jsxs)("span",{children:[e," cell",e>1?"s":""," queued or running"]}):"No cells queued or running",t[0]=e,t[1]=r);let l;t[2]===e?l=t[3]:(l=(0,n.jsx)("div",{className:"flex flex-col-reverse gap-px overflow-hidden",children:Array.from({length:e}).map(xu)}),t[2]=e,t[3]=l);let a;return t[4]!==r||t[5]!==l?(a=(0,n.jsx)(ne,{content:r,side:"right",delayDuration:200,children:l}),t[4]=r,t[5]=l,t[6]=a):a=t[6],a},Jl=t=>{let e=(0,Xr.c)(17),r,l,a,s,i;e[0]===t?(r=e[1],l=e[2],a=e[3],s=e[4],i=e[5]):({children:r,tooltip:i,selected:s,className:l,...a}=t,e[0]=t,e[1]=r,e[2]=l,e[3]=a,e[4]=s,e[5]=i);let o=!s&&"hover:bg-(--sage-3)",d=s&&"bg-(--sage-4)",c;e[6]!==l||e[7]!==o||e[8]!==d?(c=K("flex items-center p-2 text-sm mx-px shadow-inset font-mono rounded",o,d,l),e[6]=l,e[7]=o,e[8]=d,e[9]=c):c=e[9];let m;e[10]!==r||e[11]!==a||e[12]!==c?(m=(0,n.jsx)("button",{className:c,...a,children:r}),e[10]=r,e[11]=a,e[12]=c,e[13]=m):m=e[13];let u;return e[14]!==m||e[15]!==i?(u=(0,n.jsx)(ne,{content:i,side:"right",delayDuration:200,children:m}),e[14]=m,e[15]=i,e[16]=u):u=e[16],u};function pu(t,e){let{Icon:r}=t;return(0,n.jsx)(r,{className:K("h-5 w-5",e)})}function fu(t){return!t.hidden&&t.position==="sidebar"}function xu(t,e){return(0,n.jsx)("div",{className:"shrink-0 h-1 w-2 bg-(--grass-6) border border-(--grass-7)"},e.toString())}var gu=q();const bu=t=>{let e=(0,gu.c)(4),{isOpen:r,children:l}=t,[a,s]=y.useState(!1),i,o;return e[0]!==a||e[1]!==r?(i=()=>{r&&!a&&s(!0)},o=[r,a],e[0]=a,e[1]=r,e[2]=i,e[3]=o):(i=e[2],o=e[3]),y.useEffect(i,o),a?l:null};var Tt=q(),vu=t=>{let e=(0,Tt.c)(43),r=ee(Y1),l=ee(Jd),a=Fe(),s=X1(),i=t.cellId,o=l[t.cellId],d=Lt(t.cellId),c=d.code,m=Pt(t.cellId),u,h,p,f,g,x,b,v,j,w,_;if(e[0]!==a||e[1]!==s||e[2]!==r.focusedCellId||e[3]!==l||e[4]!==t.cellId||e[5]!==o||e[6]!==d.code||e[7]!==m.errored){u={id:i,graph:o,code:c,hasError:m.errored},r.focusedCellId&&l[r.focusedCellId]&&(f={id:r.focusedCellId,graph:l[r.focusedCellId]}),p=(f==null?void 0:f.id)===u.id,h=Zl(u.graph)?1.5:3;let k=()=>{p?s.blurCell():(a.focusCell({cellId:u.id,where:"exact"}),s.focusCell({cellId:u.id}))};v="button",j=u.id;let E=p?"text-primary-foreground":"text-(--gray-8) hover:text-(--gray-9)";e[19]===E?w=e[20]:(w=K("group bg-transparent text-left w-full flex relative justify-between items-center","border-none rounded cursor-pointer","h-[21px] pl-[51px] font-inherit",E),e[19]=E,e[20]=w),_=k,g=Su;let z=p&&"bg-primary group-hover:bg-primary",R;e[21]===z?R=e[22]:(R=K("group-hover:bg-(--gray-2) flex h-full w-full px-0.5 items-center rounded",z),e[21]=z,e[22]=R),x=(0,n.jsx)("div",{className:R,children:(0,n.jsx)("div",{className:"truncate px-1 font-mono text-sm flex gap-1",title:u.code,children:u.graph.variables.length>0?(0,n.jsx)(_u,{cell:u,selectedCell:f}):(0,n.jsx)("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap max-w-full",children:wu(u.code)??(0,n.jsx)("span",{className:"italic",children:"empty"})})})}),b=K("absolute overflow-visible top-[10.5px] left-[calc(var(--spacing-extra-small,8px)+17px)] pointer-events-none",p?"z-30":"z-20",ku({cell:u,selectedCell:f})),e[0]=a,e[1]=s,e[2]=r.focusedCellId,e[3]=l,e[4]=t.cellId,e[5]=o,e[6]=d.code,e[7]=m.errored,e[8]=u,e[9]=h,e[10]=p,e[11]=f,e[12]=g,e[13]=x,e[14]=b,e[15]=v,e[16]=j,e[17]=w,e[18]=_}else u=e[8],h=e[9],p=e[10],f=e[11],g=e[12],x=e[13],b=e[14],v=e[15],j=e[16],w=e[17],_=e[18];let N;e[23]===u.id?N=e[24]:(N=(0,n.jsxs)("title",{children:["Cell dependency connections for cell ",u.id]}),e[23]=u.id,e[24]=N);let C;e[25]!==u||e[26]!==h||e[27]!==p||e[28]!==t.cellPositions||e[29]!==f?(C=p?(0,n.jsx)(Nu,{cell:u,cellPositions:t.cellPositions,circleRadius:h}):(0,n.jsx)(Cu,{cell:u,selectedCell:f,circleRadius:h}),e[25]=u,e[26]=h,e[27]=p,e[28]=t.cellPositions,e[29]=f,e[30]=C):C=e[30];let S;e[31]!==N||e[32]!==C||e[33]!==b?(S=(0,n.jsxs)("svg",{className:b,width:"1",height:"1",children:[N,C]}),e[31]=N,e[32]=C,e[33]=b,e[34]=S):S=e[34];let I;return e[35]!==g||e[36]!==x||e[37]!==S||e[38]!==v||e[39]!==j||e[40]!==w||e[41]!==_?(I=(0,n.jsxs)("button",{type:v,"data-node-id":j,className:w,onClick:_,onMouseDown:g,children:[x,S]}),e[35]=g,e[36]=x,e[37]=S,e[38]=v,e[39]=j,e[40]=w,e[41]=_,e[42]=I):I=e[42],I},yu=t=>{let e=(0,Tt.c)(28),{open:r,setOpen:l}=t,a=en(),s;e[0]===a.inOrderIds?s=e[1]:(s=Object.fromEntries(a.inOrderIds.map(Iu)),e[0]=a.inOrderIds,e[1]=s);let i=s,o;if(e[2]!==a){o=[];let j=0;for(let[w,_]of a.getColumns().entries())w>0&&o.push(j),j+=_.inOrderIds.length;e[2]=a,e[3]=o}else o=e[3];let d=r?"translate-x-0":"translate-x-[calc(100%+20px)]",c;e[4]===d?c=e[5]:(c=K("fixed top-14 right-5 z-50 bg-background/95 backdrop-blur-sm supports-backdrop-filter:bg-background/60 rounded-lg border shadow-lg w-64 flex flex-col max-h-[58vh]","motion-safe:transition-transform motion-safe:duration-200 motion-safe:ease-in-out",d),e[4]=d,e[5]=c);let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)("span",{className:"text-sm font-semibold",children:"Minimap"}),e[6]=m):m=e[6];let u;e[7]===l?u=e[8]:(u=()=>l(!1),e[7]=l,e[8]=u);let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)(He,{className:"h-4 w-4"}),e[9]=h):h=e[9];let p;e[10]===u?p=e[11]:(p=(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[m,(0,n.jsx)(ie,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:u,children:h})]}),e[10]=u,e[11]=p);let f;if(e[12]!==a.inOrderIds||e[13]!==i||e[14]!==o){let j;e[16]!==i||e[17]!==o?(j=(w,_)=>{let N=o.includes(_);return(0,n.jsxs)(y.Fragment,{children:[N&&(0,n.jsx)("div",{className:"absolute left-5 w-[36px] h-px bg-(--gray-4) pointer-events-none","aria-hidden":"true"}),(0,n.jsx)(vu,{cellId:w,cellPositions:i})]},w)},e[16]=i,e[17]=o,e[18]=j):j=e[18],f=a.inOrderIds.map(j),e[12]=a.inOrderIds,e[13]=i,e[14]=o,e[15]=f}else f=e[15];let g;e[19]===f?g=e[20]:(g=(0,n.jsx)("div",{className:"py-3 pl-3 pr-4 relative min-h-full",children:f}),e[19]=f,e[20]=g);let x;e[21]===Symbol.for("react.memo_cache_sentinel")?(x=(0,n.jsx)("div",{className:"h-0 overflow-hidden","aria-hidden":"true"}),e[21]=x):x=e[21];let b;e[22]===g?b=e[23]:(b=(0,n.jsxs)("div",{className:"overflow-y-auto overflow-x-hidden flex-1 scrollbar-none",children:[g,x]}),e[22]=g,e[23]=b);let v;return e[24]!==b||e[25]!==c||e[26]!==p?(v=(0,n.jsxs)("div",{className:c,children:[p,b]}),e[24]=b,e[25]=c,e[26]=p,e[27]=v):v=e[27],v};const ju=()=>{let t=(0,Tt.c)(5),[e,r]=At(Xl),l;t[0]===r?l=t[1]:(l=()=>r(Eu),t[0]=r,t[1]=l),Se("global.toggleMinimap",l);let a;return t[2]!==e||t[3]!==r?(a=(0,n.jsx)(yu,{open:e,setOpen:r}),t[2]=e,t[3]=r,t[4]=a):a=t[4],a};function wu(t){return t.split(`
`)[0].trim()||void 0}var _u=t=>{let e=(0,Tt.c)(11),{cell:r,selectedCell:l}=t,a=Vm(),s=r.id===(l==null?void 0:l.id),i;if(e[0]!==r.graph.variables||e[1]!==s||e[2]!==l||e[3]!==a){let d;e[5]!==s||e[6]!==l||e[7]!==a?(d=(c,m)=>{let u=a[c];return(0,n.jsxs)(y.Fragment,{children:[m>0&&", ",(0,n.jsx)("span",{className:K({"font-bold":s,"text-foreground":l===void 0,"text-primary font-medium":!s&&Qd(u,l)}),children:c})]},c)},e[5]=s,e[6]=l,e[7]=a,e[8]=d):d=e[8],i=r.graph.variables.map(d),e[0]=r.graph.variables,e[1]=s,e[2]=l,e[3]=a,e[4]=i}else i=e[4];let o;return e[9]===i?o=e[10]:(o=(0,n.jsx)(n.Fragment,{children:i}),e[9]=i,e[10]=o),o},Nu=t=>{let e=(0,Tt.c)(12),{cell:r,cellPositions:l,circleRadius:a}=t,s;if(e[0]!==r.graph.children||e[1]!==r.graph.parents||e[2]!==r.id||e[3]!==l){s=[];let c=l[r.id]??0,m=new Set;for(let u of r.graph.parents)r.graph.children.has(u)&&m.add(u);for(let u of m){let h=l[u];if(h!==void 0){let p=(h-c)*21;s.push((0,n.jsx)("path",{d:`M -3 0 H -7 v ${p} h 14 v ${-p} H 3`,fill:"none",strokeWidth:"2",stroke:"currentColor"},`${r.id}-cycle-${u}`))}}for(let u of r.graph.parents){if(m.has(u))continue;let h=l[u];if(h!==void 0){let p=(h-c)*21;s.push((0,n.jsx)("path",{d:`M -3 0 H -7 v ${p} h -4`,fill:"none",strokeWidth:"2",stroke:"currentColor"},`${r.id}-up-${u}`))}}for(let u of r.graph.children){if(m.has(u))continue;let h=l[u];if(h!==void 0){let p=(h-c)*21;s.push((0,n.jsx)("path",{d:`M 3 0 H 7 v ${p} h 4`,fill:"none",strokeWidth:"2",stroke:"currentColor"},`${r.id}-down-${u}`))}}e[0]=r.graph.children,e[1]=r.graph.parents,e[2]=r.id,e[3]=l,e[4]=s}else s=e[4];let i;e[5]===a?i=e[6]:(i=(0,n.jsx)("circle",{r:a,fill:"currentColor",className:"pointer-events-auto"}),e[5]=a,e[6]=i);let o;e[7]===s?o=e[8]:(o=(0,n.jsx)("g",{className:"pen pointer-events-auto",children:s}),e[7]=s,e[8]=o);let d;return e[9]!==i||e[10]!==o?(d=(0,n.jsxs)("g",{transform:"translate(0, 0)",children:[i,o]}),e[9]=i,e[10]=o,e[11]=d):d=e[11],d};function Cu(t){let{cell:e,selectedCell:r,circleRadius:l}=t,a=e.graph.ancestors.size>0,s=e.graph.descendants.size>0;if(!r)return Ql({circleRadius:l,leftWisker:a,rightWisker:s});let i=r.graph.ancestors.has(e.id),o=r.graph.descendants.has(e.id);return Ql(i||o?{circleRadius:l,leftWisker:a,rightWisker:s,shift:i&&o?void 0:i?"left":"right"}:{circleRadius:l,leftWisker:!1,rightWisker:!1})}function Ql(t){let{circleRadius:e,leftWisker:r,rightWisker:l,shift:a}=t;return(0,n.jsxs)("g",{transform:`translate(${a===void 0?0:a==="left"?-14:14}, 0)`,children:[(0,n.jsxs)("g",{children:[r&&(0,n.jsx)("path",{d:"M 0 0 h -8",fill:"none",strokeWidth:"2",stroke:"currentColor"}),l&&(0,n.jsx)("path",{d:"M 0 0 h 8",fill:"none",strokeWidth:"2",stroke:"currentColor"})]}),(0,n.jsx)("circle",{r:e,fill:"currentColor",className:"pointer-events-auto"})]})}function ku({cell:t,selectedCell:e}){return t.hasError?"text-destructive":!e&&!Zl(t.graph)?"text-foreground":(e==null?void 0:e.id)===t.id||e!=null&&e.graph.parents.has(t.id)||e!=null&&e.graph.children.has(t.id)?"text-primary":"text-(--gray-8)"}function Zl(t){return t.variables.length===0&&t.ancestors.size===0&&t.descendants.size===0}function Su(t){return t.preventDefault()}function Iu(t,e){return[t,e]}function Eu(t){return!t}var zu=q();const Ru=()=>{let t=(0,zu.c)(46),[e,r]=(0,y.useState)(null),l=ee(xn),a;t[0]===l?a=t[1]:(a=[...l.keys()],t[0]=l,t[1]=a);let s=a,{deleteStagedCell:i,removeStagedCell:o}=Ca(la()),d=Ka();if(l.size===0)return null;let c=Du,m;t[2]!==e||t[3]!==s?(m=O=>{let L=D0(e,s.length,O);r(L),c(s[L])},t[2]=e,t[3]=s,t[4]=m):m=t[4];let u=m,h;t[5]!==i||t[6]!==o||t[7]!==l?(h=()=>{for(let[O,L]of l)Nl(O,L,o,i)},t[5]=i,t[6]=o,t[7]=l,t[8]=h):h=t[8];let p=h,f;t[9]!==i||t[10]!==o||t[11]!==l?(f=()=>{for(let[O,L]of l)Cl(O,L,o,i)},t[9]=i,t[10]=o,t[11]=l,t[12]=f):f=t[12];let g=f,x;t[13]!==s||t[14]!==d?(x=()=>{d(s)},t[13]=s,t[14]=d,t[15]=x):x=t[15];let b=x,v,j;t[16]===Symbol.for("react.memo_cache_sentinel")?(v=K("fixed bottom-16 left-1/2 transform -translate-x-1/2 z-50 bg-background/95 backdrop-blur-sm supports-backdrop-filter:bg-background/80 border border-border rounded-lg px-3 py-2 flex items-center justify-between gap-2.5 w-100","shadow-[0_0_6px_0_#00A2C733]"),j=(0,n.jsx)(wr,{className:"h-4 w-4 text-primary"}),t[16]=v,t[17]=j):(v=t[16],j=t[17]);let w;t[18]===u?w=t[19]:(w=()=>u("up"),t[18]=u,t[19]=w);let _;t[20]===Symbol.for("react.memo_cache_sentinel")?(_=(0,n.jsx)(bn,{className:"h-3.5 w-3.5"}),t[20]=_):_=t[20];let N;t[21]===w?N=t[22]:(N=(0,n.jsx)(ie,{variant:"ghost",size:"icon",onClick:w,children:_}),t[21]=w,t[22]=N);let C=e===null?`${s.length} pending`:`${e+1} / ${s.length}`,S;t[23]===C?S=t[24]:(S=(0,n.jsx)("span",{className:"text-xs font-mono min-w-[3.5rem] text-center",children:C}),t[23]=C,t[24]=S);let I;t[25]===u?I=t[26]:(I=()=>u("down"),t[25]=u,t[26]=I);let k;t[27]===Symbol.for("react.memo_cache_sentinel")?(k=(0,n.jsx)(pt,{className:"h-3.5 w-3.5"}),t[27]=k):k=t[27];let E;t[28]===I?E=t[29]:(E=(0,n.jsx)(ie,{variant:"ghost",size:"icon",onClick:I,children:k}),t[28]=I,t[29]=E);let z;t[30]!==S||t[31]!==E||t[32]!==N?(z=(0,n.jsxs)("div",{className:"flex items-center",children:[N,S,E]}),t[30]=S,t[31]=E,t[32]=N,t[33]=z):z=t[33];let R;t[34]===Symbol.for("react.memo_cache_sentinel")?(R=(0,n.jsx)("div",{className:"h-5 w-px bg-border"}),t[34]=R):R=t[34];let T;t[35]!==p||t[36]!==b?(T=(0,n.jsx)(q0,{multipleCompletions:!0,onAccept:p,isLoading:!1,size:"xs",buttonStyles:"h-6.5",playButtonStyles:"h-6.5",runCell:b}),t[35]=p,t[36]=b,t[37]=T):T=t[37];let P;t[38]===g?P=t[39]:(P=(0,n.jsx)(H0,{multipleCompletions:!0,onDecline:g,size:"xs",className:"h-6.5"}),t[38]=g,t[39]=P);let D;t[40]!==T||t[41]!==P?(D=(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[T,P]}),t[40]=T,t[41]=P,t[42]=D):D=t[42];let M;return t[43]!==z||t[44]!==D?(M=(0,n.jsxs)("div",{className:v,children:[j,z,R,D]}),t[43]=z,t[44]=D,t[45]=M):M=t[45],M};function Du(t){B1(t,"focus")}var Mu=q(),Tu=gm("marimo:chrome:ai-panel-tab","chat",jm);function Ou(){let t=(0,Mu.c)(3),[e,r]=At(Tu),l;return t[0]!==e||t[1]!==r?(l={aiPanelTab:e,setAiPanelTab:r},t[0]=e,t[1]=r,t[2]=l):l=t[2],l}var Au=q(),Pu=y.lazy(()=>Ne(()=>import("./terminal-BfEtaTu5.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]),import.meta.url)),Lu=y.lazy(()=>Ne(()=>import("./chat-panel-DmB_d0Jr.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([47,48,49,50,3,4,5,6,7,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,39,59,60,61,62,63,64,33,32,34,65,31,35,66,67,30,68,69,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,85,1,17,86,87,88,89,90,91,36,41,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,42,110,111,112,113,114,44,115,116,45,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270]),import.meta.url)),Fu=y.lazy(()=>Ne(()=>import("./agent-panel-DYImRX_E.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([271,48,49,50,3,4,5,6,7,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,39,59,60,119,62,63,64,33,32,34,65,31,35,66,67,30,68,69,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,1,17,41,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,88,87,92,36,93,94,95,96,97,86,98,136,137,42,44,85,138,91,99,139,140,106,141,101,102,142,107,143,144,108,145,109,146,147,148,149,118,150,151,152,153,154,155,156,157,158,159,160,104,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,29,272,266,113,114,273,116,274,268,269,270,275]),import.meta.url)),Wu=y.lazy(()=>Ne(()=>import("./dependency-graph-panel-BBQM7WwP.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([276,48,119,62,63,11,12,5,6,7,9,52,20,4,3,8,51,10,13,14,15,18,64,19,21,22,23,24,25,26,27,28,33,32,34,65,31,35,53,57,58,39,59,60,66,54,67,30,68,69,70,71,72,73,74,75,76,77,55,78,79,80,81,37,38,40,82,83,84,1,2,16,17,41,160,92,36,93,94,95,96,97,277,262,140,278,279,280,135,88,87,90,91,100,136,142,106,42,149,118,281,114,282,283,129,284,45,285,109,258,150,259,286,287,138,99,288,134,289,290,291,267,292,293,294]),import.meta.url)),Vu=y.lazy(()=>Ne(()=>import("./datasources-panel-BR7VWQHN.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([295,48,120,6,7,62,63,11,12,5,9,52,20,4,3,8,51,10,13,14,15,18,64,19,21,22,23,24,25,26,27,28,33,32,34,65,31,35,53,57,58,39,59,60,66,54,67,30,68,69,70,71,72,73,74,75,76,77,55,78,79,80,81,37,38,40,82,83,84,296,137,42,44,85,138,88,87,92,36,41,93,94,95,96,97,91,142,297,17,109,16,132,262,298,264,299,300,90,98,301,302,2,89,99,303,114,115,304,45,135,305,107,306,307,111,112,308,281,309,310,311,116]),import.meta.url)),Bu=y.lazy(()=>Ne(()=>import("./documentation-panel-CZOARzaH.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([312,48,62,63,11,12,5,6,7,9,52,20,4,3,8,51,10,13,14,15,18,64,19,21,22,23,24,25,26,27,28,33,32,34,65,31,35,53,57,58,39,59,60,66,54,67,30,68,69,70,71,72,73,74,75,76,77,55,78,79,80,81,37,38,40,82,83,84,140,41,264,137,42,44,139,106,97,96,141,109,313]),import.meta.url)),Hu=y.lazy(()=>Ne(()=>import("./error-panel-CoRMSyS6.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([314,48,62,63,11,12,5,6,7,9,52,20,4,3,8,51,10,13,14,15,18,64,19,21,22,23,24,25,26,27,28,33,32,34,65,31,35,53,57,58,39,59,60,66,54,67,30,68,69,70,71,72,73,74,75,76,77,55,78,79,80,81,37,38,40,82,83,84,264,133,134,135,88,87,92,36,41,93,94,95,96,97,50,86,2,16,17,98,136,109]),import.meta.url)),qu=y.lazy(()=>Ne(()=>import("./file-explorer-panel-A-HgEq7S.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([315,48,316,120,6,7,121,20,122,123,124,125,24,131,62,63,11,12,5,9,52,4,3,8,51,10,13,14,15,18,64,19,21,22,23,25,26,27,28,33,32,34,65,31,35,53,57,58,39,59,60,66,54,67,30,68,69,70,71,72,73,74,75,76,77,55,78,79,80,81,37,38,40,82,83,84,132,133,134,135,88,87,92,36,41,93,94,95,96,97,50,86,2,16,17,98,136,137,42,44,85,138,91,99,139,140,106,141,101,102,142,107,143,144,108,145,109,146,147,148,149,118,150,151,152,153,154,155,156,56,157,158,317,273,127,128,318,319,1,263,320,321,269,322,259,323,324,291,283,325,304,116,326,45,117,270,327]),import.meta.url)),$u=y.lazy(()=>Ne(()=>import("./logs-panel-DF3rTPtw.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([328,48,329,11,12,5,6,7,9,62,63,52,20,4,3,8,51,10,13,14,15,18,64,19,21,22,23,24,25,26,27,28,33,32,34,65,31,35,53,57,58,39,59,60,66,54,67,30,68,69,70,71,72,73,74,75,76,77,55,78,79,80,81,37,38,40,82,83,84,264,134,135,88,87,92,36,41,93,94,95,96,97,109,127]),import.meta.url)),Uu=y.lazy(()=>Ne(()=>import("./outline-panel-B9b7jg_T.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([330,48,62,63,11,12,5,6,7,9,52,20,4,3,8,51,10,13,14,15,18,64,19,21,22,23,24,25,26,27,28,33,32,34,65,31,35,53,57,58,39,59,60,66,54,67,30,68,69,70,71,72,73,74,75,76,77,55,78,79,80,81,37,38,40,82,83,84,264,331,106,109,332,333]),import.meta.url)),Ku=y.lazy(()=>Ne(()=>import("./packages-panel-Cd2wcawn.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([334,48,49,50,3,4,5,6,7,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,39,59,60,61,62,63,64,33,32,34,65,31,35,66,67,30,68,69,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,85,1,17,86,87,88,89,90,91,36,41,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,42,110,111,112,113,114,44,115,116,45,117,118,335,264,297]),import.meta.url)),Gu=y.lazy(()=>Ne(()=>import("./scratchpad-panel-CLxfQphC.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([336,48,337,7,49,50,3,4,5,6,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,39,59,60,119,62,63,64,33,32,34,65,31,35,66,67,30,68,69,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,1,17,41,120,121,122,123,124,125,130,131,132,133,134,135,88,87,92,36,93,94,95,96,97,86,98,136,137,42,44,85,138,91,99,139,140,106,141,101,102,142,107,143,144,108,145,109,146,147,148,149,118,150,151,152,153,154,155,156,157,158,159,160,104,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,338,278,335,339,298,283,115,340,285,286,331,90,100,105,282,341,129,269,342,317,273,127,128,318,319,103,343,344,272,345,326,346,347,348,270]),import.meta.url)),Xu=y.lazy(()=>Ne(()=>import("./secrets-panel-BQ5Z5pFE.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([349,264,5,6,7,9,299,52,20,4,11,12,87,88,3,8,51,10,13,14,15,300,92,36,37,24,38,39,40,41,93,54,25,94,95,96,97,90,91,98,64,53,21,22,23,85,135,63,101,65,34,31,305,107,108,28,42,44,115]),import.meta.url)),Yu=y.lazy(()=>Ne(()=>import("./snippets-panel-y1TFQ2Lx.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([350,48,62,63,11,12,5,6,7,9,52,20,4,3,8,51,10,13,14,15,18,64,19,21,22,23,24,25,26,27,28,33,32,34,65,31,35,53,57,58,39,59,60,66,54,67,30,68,69,70,71,72,73,74,75,76,77,55,78,79,80,81,37,38,40,82,83,84,140,41,264,348,106,137,42,44,85,135,88,87,92,36,93,94,95,96,97,138,91,139,141,107,144,108,109,115,351]),import.meta.url)),Ju=y.lazy(()=>Ne(()=>import("./tracing-panel-N7N0uMFT.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([352,48,85,11,12,14,6,7,5,9]),import.meta.url)),Qu=y.lazy(()=>Ne(()=>import("./variable-panel-XIW0Hu1K.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([353,48,120,6,7,121,20,122,123,124,125,24,131,62,63,11,12,5,9,52,4,3,8,51,10,13,14,15,18,64,19,21,22,23,25,26,27,28,33,32,34,65,31,35,53,57,58,39,59,60,66,54,67,30,68,69,70,71,72,73,74,75,76,77,55,78,79,80,81,37,38,40,82,83,84,132,133,134,135,88,87,92,36,41,93,94,95,96,97,50,86,2,16,17,98,136,137,42,44,85,138,91,99,139,140,106,141,101,102,142,107,143,144,108,145,109,146,147,148,149,118,150,151,152,153,154,155,156,56,157,158,264,288,307,111,112,308,309,310,311,292,293,269,270]),import.meta.url)),Zu=y.lazy(()=>Ne(()=>import("./cache-panel-Sj4ZMN3Y.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([354,264,5,6,7,9,85,11,12,14,88,52,20,4,3,8,64,355,21,22,23,24,53,25,107,41,54,93,95,96,356,116,45]),import.meta.url));const em=t=>{let e=(0,Au.c)(131),{children:r}=t,{isSidebarOpen:l,isTerminalOpen:a,selectedPanel:s}=Zr(),{setIsSidebarOpen:i,setIsTerminalOpen:o}=cr(),d=y.useRef(null),c=y.useRef(null),{aiPanelTab:m,setAiPanelTab:u}=Ou(),h,p;e[0]===l?(h=e[1],p=e[2]):(h=()=>{if(!d.current)return;let ge=d.current.isCollapsed();l&&ge&&d.current.expand(),!l&&!ge&&d.current.collapse(),requestAnimationFrame(rm)},p=[l],e[0]=l,e[1]=h,e[2]=p),(0,y.useEffect)(h,p);let f,g;e[3]===a?(f=e[4],g=e[5]):(f=()=>{if(!c.current)return;let ge=c.current.isCollapsed();a&&ge&&c.current.expand(),!a&&!ge&&c.current.collapse(),requestAnimationFrame(lm)},g=[a],e[3]=a,e[4]=f,e[5]=g),(0,y.useEffect)(f,g);let x;e[6]===r?x=e[7]:(x=(0,n.jsx)(pr,{id:"app",className:"relative h-full",children:(0,n.jsx)(y.Suspense,{children:r})},"app"),e[6]=r,e[7]=x);let b=x,v=l?"resize-handle":"resize-handle-collapsed",j;e[8]===v?j=e[9]:(j=K("border-border no-print z-10",v,"vertical"),e[8]=v,e[9]=j);let w;e[10]===j?w=e[11]:(w=(0,n.jsx)(ga,{onDragging:ba,className:j}),e[10]=j,e[11]=w);let _=w,N=a?"resize-handle":"resize-handle-collapsed",C;e[12]===N?C=e[13]:(C=K("border-border no-print z-20",N,"horizontal"),e[12]=N,e[13]=C);let S;e[14]===C?S=e[15]:(S=(0,n.jsx)(ga,{onDragging:ba,className:C}),e[14]=C,e[15]=S);let I=S,k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=dm("external_agents"),e[16]=k):k=e[16];let E=k,z;e[17]===m?z=e[18]:(z=()=>E&&m==="agents"?(0,n.jsx)(Fu,{}):(0,n.jsx)(Lu,{}),e[17]=m,e[18]=z);let R=z,T;e[19]!==m||e[20]!==s||e[21]!==u?(T=s==="ai"&&E?(0,n.jsx)(G1,{value:m,onValueChange:ge=>{(ge==="chat"||ge==="agents")&&u(ge)},children:(0,n.jsxs)(K1,{children:[(0,n.jsx)(Ga,{value:"chat",className:"py-0.5 text-xs uppercase tracking-wide font-bold",children:"Chat"}),(0,n.jsx)(Ga,{value:"agents",className:"py-0.5 text-xs uppercase tracking-wide font-bold",children:"Agents"})]})}):(0,n.jsx)("span",{className:"text-sm text-(--slate-11) uppercase tracking-wide font-semibold flex-1",children:s}),e[19]=m,e[20]=s,e[21]=u,e[22]=T):T=e[22];let P;e[23]===i?P=e[24]:(P=()=>i(!1),e[23]=i,e[24]=P);let D;e[25]===Symbol.for("react.memo_cache_sentinel")?(D=(0,n.jsx)(He,{className:"w-4 h-4"}),e[25]=D):D=e[25];let M;e[26]===P?M=e[27]:(M=(0,n.jsx)(ie,{"data-testid":"close-helper-pane",className:"m-0",size:"xs",variant:"text",onClick:P,children:D}),e[26]=P,e[27]=M);let O;e[28]!==T||e[29]!==M?(O=(0,n.jsxs)("div",{className:"p-3 border-b flex justify-between items-center",children:[T,M]}),e[28]=T,e[29]=M,e[30]=O):O=e[30];let L;e[31]===s?L=e[32]:(L=s==="files"&&(0,n.jsx)(qu,{}),e[31]=s,e[32]=L);let A;e[33]===s?A=e[34]:(A=s==="errors"&&(0,n.jsx)(Hu,{}),e[33]=s,e[34]=A);let V;e[35]===s?V=e[36]:(V=s==="variables"&&(0,n.jsx)(Qu,{}),e[35]=s,e[36]=V);let $;e[37]===s?$=e[38]:($=s==="dependencies"&&(0,n.jsx)(Wu,{}),e[37]=s,e[38]=$);let U;e[39]===s?U=e[40]:(U=s==="packages"&&(0,n.jsx)(Ku,{}),e[39]=s,e[40]=U);let H;e[41]===s?H=e[42]:(H=s==="outline"&&(0,n.jsx)(Uu,{}),e[41]=s,e[42]=H);let G;e[43]===s?G=e[44]:(G=s==="datasources"&&(0,n.jsx)(Vu,{}),e[43]=s,e[44]=G);let F;e[45]===s?F=e[46]:(F=s==="documentation"&&(0,n.jsx)(Bu,{}),e[45]=s,e[46]=F);let Y;e[47]===s?Y=e[48]:(Y=s==="snippets"&&(0,n.jsx)(Yu,{}),e[47]=s,e[48]=Y);let W;e[49]===s?W=e[50]:(W=s==="scratchpad"&&(0,n.jsx)(Gu,{}),e[49]=s,e[50]=W);let B;e[51]!==R||e[52]!==s?(B=s==="ai"&&R(),e[51]=R,e[52]=s,e[53]=B):B=e[53];let J;e[54]===s?J=e[55]:(J=s==="logs"&&(0,n.jsx)($u,{}),e[54]=s,e[55]=J);let Q;e[56]===s?Q=e[57]:(Q=s==="tracing"&&(0,n.jsx)(Ju,{}),e[56]=s,e[57]=Q);let Z;e[58]===s?Z=e[59]:(Z=s==="secrets"&&(0,n.jsx)(Xu,{}),e[58]=s,e[59]=Z);let re;e[60]===s?re=e[61]:(re=s==="cache"&&(0,n.jsx)(Zu,{}),e[60]=s,e[61]=re);let te;e[62]!==L||e[63]!==A||e[64]!==V||e[65]!==$||e[66]!==U||e[67]!==H||e[68]!==G||e[69]!==F||e[70]!==Y||e[71]!==W||e[72]!==B||e[73]!==J||e[74]!==Q||e[75]!==Z||e[76]!==re?(te=(0,n.jsx)(y.Suspense,{children:(0,n.jsxs)(_r,{children:[L,A,V,$,U,H,G,F,Y,W,B,J,Q,Z,re]})}),e[62]=L,e[63]=A,e[64]=V,e[65]=$,e[66]=U,e[67]=H,e[68]=G,e[69]=F,e[70]=Y,e[71]=W,e[72]=B,e[73]=J,e[74]=Q,e[75]=Z,e[76]=re,e[77]=te):te=e[77];let ce;e[78]!==O||e[79]!==te?(ce=(0,n.jsx)(Na,{children:(0,n.jsxs)("div",{className:"flex flex-col h-full flex-1 overflow-hidden mr-[-4px]",children:[O,te]})}),e[78]=O,e[79]=te,e[80]=ce):ce=e[80];let ue=ce,ye=l&&"border-r border-l border-(--slate-7)",me;e[81]===ye?me=e[82]:(me=K("dark:bg-(--slate-1) no-print print:hidden hide-on-fullscreen",ye),e[81]=ye,e[82]=me);let he;e[83]===Symbol.for("react.memo_cache_sentinel")?(he=(ge,Oe)=>{var Me;Oe===0&&ge===10&&((Me=d.current)==null||Me.resize(30))},e[83]=he):he=e[83];let se,oe;e[84]===i?(se=e[85],oe=e[86]):(se=()=>i(!1),oe=()=>i(!0),e[84]=i,e[85]=se,e[86]=oe);let de;e[87]!==ue||e[88]!==_?(de=(0,n.jsxs)("span",{className:"flex flex-row h-full",children:[ue," ",_]}),e[87]=ue,e[88]=_,e[89]=de):de=e[89];let be;e[90]!==me||e[91]!==se||e[92]!==oe||e[93]!==de?(be=(0,n.jsx)(pr,{ref:d,id:"app-chrome-sidebar","data-testid":"helper",collapsedSize:0,collapsible:!0,className:me,minSize:10,defaultSize:0,maxSize:75,onResize:he,onCollapse:se,onExpand:oe,children:de},"helper"),e[90]=me,e[91]=se,e[92]=oe,e[93]=de,e[94]=be):be=e[94];let le=be,X=a&&"border-(--slate-7)",Le;e[95]===X?Le=e[96]:(Le=K("dark:bg-(--slate-1) no-print print:hidden hide-on-fullscreen",X),e[95]=X,e[96]=Le);let Qe;e[97]===Symbol.for("react.memo_cache_sentinel")?(Qe=(ge,Oe)=>{var Me;Oe===0&&ge===10&&((Me=c.current)==null||Me.resize(30))},e[97]=Qe):Qe=e[97];let Ve,Ge;e[98]===o?(Ve=e[99],Ge=e[100]):(Ve=()=>o(!1),Ge=()=>o(!0),e[98]=o,e[99]=Ve,e[100]=Ge);let ut;e[101]===Symbol.for("react.memo_cache_sentinel")?(ut=(0,n.jsx)("div",{}),e[101]=ut):ut=e[101];let Ze;e[102]===o?Ze=e[103]:(Ze=()=>o(!1),e[102]=o,e[103]=Ze);let et;e[104]!==a||e[105]!==Ze?(et=(0,n.jsx)(y.Suspense,{fallback:ut,children:(0,n.jsx)(Pu,{visible:a,onClose:Ze})}),e[104]=a,e[105]=Ze,e[106]=et):et=e[106];let tt;e[107]!==a||e[108]!==et?(tt=(0,n.jsx)(bu,{isOpen:a,children:et}),e[107]=a,e[108]=et,e[109]=tt):tt=e[109];let mt;e[110]!==Le||e[111]!==Ve||e[112]!==Ge||e[113]!==tt||e[114]!==I?(mt=(0,n.jsxs)(pr,{ref:c,id:"app-chrome-terminal","data-testid":"terminal",collapsedSize:0,collapsible:!0,className:Le,minSize:10,defaultSize:0,maxSize:75,onResize:Qe,onCollapse:Ve,onExpand:Ge,children:[I,tt]},"terminal"),e[110]=Le,e[111]=Ve,e[112]=Ge,e[113]=tt,e[114]=I,e[115]=mt):mt=e[115];let Ie=mt,_e;e[116]===Symbol.for("react.memo_cache_sentinel")?(_e=(0,n.jsx)(_r,{children:(0,n.jsx)(mu,{})}),e[116]=_e):_e=e[116];let ve;e[117]===Ie?ve=e[118]:(ve=(0,n.jsx)(Kl,{capability:"terminal",children:Ie}),e[117]=Ie,e[118]=ve);let ze;e[119]!==b||e[120]!==ve?(ze=(0,n.jsx)(pr,{id:"app-chrome-body",children:(0,n.jsxs)(ja,{autoSaveId:"marimo:chrome:v1:l1",direction:"vertical",children:[b,ve]})}),e[119]=b,e[120]=ve,e[121]=ze):ze=e[121];let ke;e[122]===Symbol.for("react.memo_cache_sentinel")?(ke=(0,n.jsx)(t0,{}),e[122]=ke):ke=e[122];let fe;e[123]!==le||e[124]!==ze?(fe=(0,n.jsxs)(ja,{autoSaveId:"marimo:chrome:v1:l2",direction:"horizontal",children:[_e,le,ze,ke]}),e[123]=le,e[124]=ze,e[125]=fe):fe=e[125];let Ee,pe;e[126]===Symbol.for("react.memo_cache_sentinel")?(Ee=(0,n.jsx)(ju,{}),pe=(0,n.jsx)(Ru,{}),e[126]=Ee,e[127]=pe):(Ee=e[126],pe=e[127]);let xe;e[128]===Symbol.for("react.memo_cache_sentinel")?(xe=(0,n.jsx)(Na,{children:(0,n.jsx)(_r,{children:(0,n.jsx)(iu,{})})}),e[128]=xe):xe=e[128];let De;return e[129]===fe?De=e[130]:(De=(0,n.jsxs)(Xh,{children:[fe,Ee,pe,xe]}),e[129]=fe,e[130]=De),De};function tm(){window.dispatchEvent(new Event("resize"))}function rm(){requestAnimationFrame(tm)}function nm(){window.dispatchEvent(new Event("resize"))}function lm(){requestAnimationFrame(nm)}let ea,Yr,ta;ea=q(),Yr=(0,y.lazy)(()=>Ne(()=>import("./command-palette-DzEvWYma.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([357,48,49,50,3,4,5,6,7,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,39,59,60,61,62,63,64,33,32,34,65,31,35,66,67,30,68,69,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,85,1,17,86,87,88,89,90,91,36,41,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,42,110,111,112,113,114,44,115,116,45,117,118,119,120,121,122,123,124,125,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,277,262,278,279,280,281,282,283,129,284,358,340,285,286,331,339,298,341,269,342,301,299,300,302,303,304,305,306,307,308,359,360,320,361,356,324,325,127,128,362,363,332,267,292,268,313,270]),import.meta.url)),ta=new URL(window.location.href).searchParams.get(p0.showChrome)==="false",es=t=>{let e=(0,ea.c)(10);if(ta){let s;e[0]===t?s=e[1]:(s=(0,n.jsx)(Ul,{hideControls:!0,...t}),e[0]=t,e[1]=s);let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(Yr,{}),e[2]=i):i=e[2];let o;return e[3]===s?o=e[4]:(o=(0,n.jsxs)(n.Fragment,{children:[s,i]}),e[3]=s,e[4]=o),o}let r;e[5]===t?r=e[6]:(r=(0,n.jsx)(Ul,{...t}),e[5]=t,e[6]=r);let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n.jsx)(Yr,{}),e[7]=l):l=e[7];let a;return e[8]===r?a=e[9]:(a=(0,n.jsxs)(em,{children:[r,l]}),e[8]=r,e[9]=a),a}});export{lp as __tla,es as default};
