import{s as de}from"./chunk-LvLJmgfZ.js";import{c as R,d as $e,l as S,s as Be}from"./jotai-D74Ef_p1.js";import{t as Ye}from"./react-XTZdWHwa.js";import{$ as ce,Kt as Fe,Rn as pe,Un as he,Vr as X,_n as Ge,cr as Ke,g as Je,gn as Ze,h as Qe,lr as Xe,p as ee,qt as me,t as et,w as ue,zt as tt}from"./cells-DoKM12vd.js";import{t as I}from"./compiler-runtime-QczY1yfQ.js";import{i as ot}from"./useLifecycle-8fgb5Nue.js";import{a as fe}from"./type-kFt-n-jZ.js";import{n as at}from"./add-database-form-DBS3hYh9.js";import{a as te,u as N}from"./hotkeys-Dh4gy4JD.js";import{v as it}from"./utils-x9KlwLm7.js";import{n as z,t as ye}from"./constants-BmIIVBf_.js";import{_ as oe,d as nt}from"./config-CbG7e0K6.js";import{t as st}from"./jsx-runtime-DUsrKwmN.js";import{r as lt,t as ae}from"./button-D8mnDDLX.js";import{r as E}from"./requests-THIDPq-F.js";import{t as c}from"./createLucideIcon-BJ2I6csQ.js";import{t as rt}from"./activity-DtMyQYx4.js";import{a as be,d as dt,f as ke,i as xe,u as we}from"./layout-D1r2uzeH.js";import{u as ct}from"./ai-model-dropdown-CO52rzQt.js";import{p as pt,t as ht,u as mt}from"./state-Blep1SQC.js";import{t as ge}from"./check-CWbw3kKW.js";import{a as ut,c as ft,i as yt,n as bt,r as kt,s as xt,t as wt}from"./select-CgZgQ5hV.js";import{i as je,r as gt,t as ve}from"./download-CCvBQ7qL.js";import{_ as jt}from"./maps-D4abje2p.js";import{i as vt,o as Ct,r as zt}from"./useCellActionButton-DRUjpqMM.js";import{t as Ce}from"./circle-x-Cc9X6U_B.js";import{t as Mt}from"./copy-DhmkXAPp.js";import{t as Wt}from"./database-zap-B1rUtjms.js";import{t as It}from"./download-Dmmu2U4a.js";import{t as _t}from"./eye-off-BUwXWtH0.js";import{t as At}from"./file-plus-corner-D68rHl-l.js";import{t as ze}from"./file-text-O5IflCIn.js";import{t as St}from"./file-CqXxt3_J.js";import{i as Nt,n as Et,r as Pt,t as Dt}from"./youtube-DGOqQjPk.js";import{t as Tt}from"./globe-vMZtva7z.js";import{t as Ht}from"./image-pHMJgfaR.js";import{t as Vt}from"./link-sJ9629pM.js";import{u as Lt}from"./MarimoErrorOutput-Bh7Bgl2Z.js";import{t as qt}from"./scroll-text-DsPtN8SD.js";import{r as Rt}from"./input-CVoLDDk-.js";import{t as Ot}from"./settings-DznrHqbd.js";import{t as Ut}from"./square-function-D5EEjILG.js";import{y as $t}from"./textarea-BnZHy5Jt.js";import{t as Bt}from"./square-DhlBDqyx.js";import{t as Yt}from"./text-search-CcPZiv5m.js";import{t as v}from"./use-toast-DKTyV2AR.js";import{s as Ft,t as Gt}from"./connection-B11rCPnY.js";import{t as Kt}from"./tooltip-DqNvr2Rw.js";import{a as Me,i as Jt,r as Zt}from"./mode-DKDAYLK9.js";import{o as Qt}from"./alert-dialog-D9SwG8oA.js";import{a as Xt,c as eo,i as to,n as oo,r as ao}from"./dialog-BPIq0Dmw.js";import{n as ie}from"./ImperativeModal-ameyIrhc.js";import{r as io,t as no}from"./share-DjbnD3WE.js";import{t as O}from"./copy-BS3uwoaq.js";import{r as so}from"./useRunCells-DT1En-Te.js";import{a as We}from"./renderShortcut-CLenKJO6.js";import{a as lo}from"./cell-link-BiAu_8pk.js";import{t as ro}from"./icons-BgmgMjOV.js";import{t as co}from"./links-0dNkuE8k.js";import{t as Ie}from"./types-DQ8fCbJK.js";var po=c("circle-chevron-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 10-4 4-4-4",key:"894hmk"}]]),ho=c("circle-chevron-right",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m10 8 4 4-4 4",key:"1wy4r4"}]]),_e=c("clipboard-copy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]),mo=c("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),Ae=c("command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),Se=c("diamond-plus",[["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41L13.7 2.71a2.41 2.41 0 0 0-3.41 0z",key:"1ey20j"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),uo=c("fast-forward",[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]]),fo=c("files",[["path",{d:"M15 2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"14sh0y"}],["path",{d:"M16.706 2.706A2.4 2.4 0 0 0 15 2v5a1 1 0 0 0 1 1h5a2.4 2.4 0 0 0-.706-1.706z",key:"1970lx"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]]),yo=c("folder-tree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),bo=c("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),ko=c("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),xo=c("keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]),Ne=c("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),wo=c("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),go=c("panel-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]),Ee=c("presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]),jo=c("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),vo=c("square-dashed-bottom-code",[["path",{d:"M10 9.5 8 12l2 2.5",key:"3mjy60"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"m14 9.5 2 2.5-2 2.5",key:"1bir2l"}],["path",{d:"M5 21a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2",key:"as5y1o"}],["path",{d:"M9 21h1",key:"15o7lz"}]]),Co=c("square-power",[["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M7.998 9.003a5 5 0 1 0 8-.005",key:"1pek45"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]),Pe=c("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),De=I(),ne=de(Ye(),1),o=de(st(),1),U="https://static.marimo.app";const zo=e=>{let t=(0,De.c)(25),{onClose:i}=e,[a,s]=(0,ne.useState)(""),{exportAsHTML:r}=E(),l=`${a}-${Math.random().toString(36).slice(2,6)}`,n=`${U}/static/${l}`,d;t[0]!==r||t[1]!==i||t[2]!==l?(d=async C=>{C.preventDefault(),i();let _=await r({download:!1,includeCode:!0,files:dt.INSTANCE.filenames()}),M=v({title:"Uploading static notebook...",description:"Please wait."});await fetch(`${U}/api/static`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({html:_,path:l})}).catch(()=>{M.dismiss(),v({title:"Error uploading static page",description:(0,o.jsxs)("div",{children:["Please try again later. If the problem persists, please file a bug report on"," ",(0,o.jsx)("a",{href:z.issuesPage,target:"_blank",className:"underline",children:"GitHub"}),"."]})})}),M.dismiss(),v({title:"Static page uploaded!",description:(0,o.jsxs)("div",{children:["The URL has been copied to your clipboard.",(0,o.jsx)("br",{}),"You can share it with anyone."]})})},t[0]=r,t[1]=i,t[2]=l,t[3]=d):d=t[3];let h;t[4]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(eo,{children:"Share static notebook"}),t[4]=h):h=t[4];let x;t[5]===Symbol.for("react.memo_cache_sentinel")?(x=(0,o.jsxs)(Xt,{children:[h,(0,o.jsxs)(ao,{children:["You can publish a static, non-interactive version of this notebook to the public web. We will create a link for you that lives on"," ",(0,o.jsx)("a",{href:U,target:"_blank",children:U}),"."]})]}),t[5]=x):x=t[5];let g;t[6]===Symbol.for("react.memo_cache_sentinel")?(g=C=>{s(C.target.value.toLowerCase().replaceAll(/\s/g,"-").replaceAll(/[^\da-z-]/g,""))},t[6]=g):g=t[6];let m;t[7]===a?m=t[8]:(m=(0,o.jsx)(Rt,{"data-testid":"slug-input",id:"slug",autoFocus:!0,value:a,placeholder:"Notebook slug",onChange:g,required:!0,autoComplete:"off"}),t[7]=a,t[8]=m);let u;t[9]===n?u=t[10]:(u=(0,o.jsxs)("div",{className:"font-semibold text-sm text-muted-foreground gap-2 flex flex-col",children:["Anyone will be able to access your notebook at this URL:",(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(Mo,{text:n}),(0,o.jsx)("span",{className:"text-primary",children:n})]})]}),t[9]=n,t[10]=u);let f;t[11]!==m||t[12]!==u?(f=(0,o.jsxs)("div",{className:"flex flex-col gap-6 py-4",children:[m,u]}),t[11]=m,t[12]=u,t[13]=f):f=t[13];let y;t[14]===i?y=t[15]:(y=(0,o.jsx)(ae,{"data-testid":"cancel-share-static-notebook-button",variant:"secondary",onClick:i,children:"Cancel"}),t[14]=i,t[15]=y);let b;t[16]===n?b=t[17]:(b=(0,o.jsx)(ae,{"data-testid":"share-static-notebook-button","aria-label":"Save",variant:"default",type:"submit",onClick:async()=>{await O(n)},children:"Create"}),t[16]=n,t[17]=b);let k;t[18]!==y||t[19]!==b?(k=(0,o.jsxs)(to,{children:[y,b]}),t[18]=y,t[19]=b,t[20]=k):k=t[20];let j;return t[21]!==d||t[22]!==k||t[23]!==f?(j=(0,o.jsx)(oo,{className:"w-fit",children:(0,o.jsxs)("form",{onSubmit:d,children:[x,f,k]})}),t[21]=d,t[22]=k,t[23]=f,t[24]=j):j=t[24],j};var Mo=e=>{let t=(0,De.c)(8),[i,a]=ne.useState(!1),s;t[0]===e.text?s=t[1]:(s=lt.stopPropagation(async h=>{h.preventDefault(),await O(e.text),a(!0),setTimeout(()=>a(!1),2e3)}),t[0]=e.text,t[1]=s);let r=s,l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,o.jsx)(Mt,{size:14,strokeWidth:1.5}),t[2]=l):l=t[2];let n;t[3]===r?n=t[4]:(n=(0,o.jsx)(ae,{"data-testid":"copy-static-notebook-url-button",onClick:r,size:"xs",variant:"secondary",children:l}),t[3]=r,t[4]=n);let d;return t[5]!==i||t[6]!==n?(d=(0,o.jsx)(Kt,{content:"Copied!",open:i,children:n}),t[5]=i,t[6]=n,t[7]=d):d=t[7],d},Wo=I();function Io(){let e=document.getElementsByClassName(ye.outputArea);for(let t of Array.from(e)){let i=t.getBoundingClientRect();if(i.bottom>0&&i.top<window.innerHeight){let a=X.findElement(t);if(!a){N.warn("Could not find HTMLCellId for visible output area",t);continue}return{cellId:X.parse(a.id)}}}return N.warn("No visible output area found for scroll anchor"),null}function _o(e){if(!e){N.warn("No scroll anchor provided to restore scroll position");return}let t=document.getElementById(X.create(e.cellId));if(!t){N.warn("Could not find cell element to restore scroll position",e.cellId);return}if(!t.querySelector(`.${ye.outputArea}`)){N.warn("Could not find output area to restore scroll position",e.cellId);return}t.scrollIntoView({block:"start",behavior:"auto"})}function Te(){let e=(0,Wo.c)(2),t=S(Me),i;return e[0]===t?i=e[1]:(i=()=>{let a=Io();t(s=>({mode:Jt(s.mode),cellAnchor:(a==null?void 0:a.cellId)??null})),requestAnimationFrame(()=>{requestAnimationFrame(()=>{_o(a)})})},e[0]=t,e[1]=i),i}const He=[{type:"files",Icon:yo,tooltip:"View files",position:"sidebar"},{type:"variables",Icon:Ut,tooltip:"Explore variables",position:"sidebar"},{type:"datasources",Icon:pe,tooltip:"Explore data sources",position:"sidebar"},{type:"packages",Icon:pt,tooltip:"Manage packages",position:"sidebar"},{type:"ai",Icon:ct,tooltip:"Chat & Agents",position:"sidebar"},{type:"scratchpad",Icon:Lt,tooltip:"Scratchpad",position:"sidebar"},{type:"snippets",Icon:vo,tooltip:"Snippets",position:"sidebar"},{type:"outline",Icon:qt,tooltip:"View outline",position:"sidebar"},{type:"documentation",Icon:Yt,tooltip:"View live docs",position:"sidebar"},{type:"logs",Icon:ze,tooltip:"Notebook logs",position:"sidebar"},{type:"dependencies",Icon:Ct,tooltip:"Explore dependencies",position:"sidebar"},{type:"tracing",Icon:rt,tooltip:"Tracing",position:"sidebar"},{type:"secrets",Icon:ko,tooltip:"Secrets",hidden:oe(),position:"sidebar"},{type:"cache",Icon:Wt,tooltip:"Manage cache",position:"sidebar",hidden:!ce("cache_panel")},{type:"errors",Icon:Ce,tooltip:"View errors",position:"footer"}],Ve=$e(!1);var Ao=I();const So=()=>{let e=(0,Ao.c)(7),{selectedLayout:t}=be(),{setLayoutView:i}=xe();if(oe()&&!ce("wasm_layouts"))return null;let a;e[0]===i?a=e[1]:(a=n=>i(n),e[0]=i,e[1]=a);let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(xt,{className:"min-w-[110px] border-border bg-background","data-testid":"layout-select",children:(0,o.jsx)(ft,{placeholder:"Select a view"})}),e[2]=s):s=e[2];let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsx)(bt,{children:(0,o.jsxs)(kt,{children:[(0,o.jsx)(ut,{children:"View as"}),Ie.map(Eo)]})}),e[3]=r):r=e[3];let l;return e[4]!==t||e[5]!==a?(l=(0,o.jsxs)(wt,{"data-testid":"layout-select",value:t,onValueChange:a,children:[s,r]}),e[4]=t,e[5]=a,e[6]=l):l=e[6],l};function No(e){return(0,o.jsx)(Le(e),{className:"h-4 w-4"})}function Le(e){switch(e){case"vertical":return wo;case"grid":return Pt;case"slides":return Ee;default:return ot(e),Bt}}function qe(e){return fe(e)}function Eo(e){return(0,o.jsx)(yt,{value:e,children:(0,o.jsxs)("div",{className:"flex items-center gap-1.5 leading-5",children:[No(e),(0,o.jsx)("span",{children:qe(e)})]})},e)}var Po=I();function Do(e){let t=(0,Po.c)(5),{openPrompt:i,closeModal:a}=ie(),{sendCopy:s}=E(),r;return t[0]!==a||t[1]!==i||t[2]!==s||t[3]!==e?(r=()=>{if(!e)return null;let l=Fe.guessDeliminator(e);i({title:"Copy notebook",description:"Enter a new filename for the notebook copy.",defaultValue:`_${me.basename(e)}`,confirmText:"Copy notebook",spellCheck:!1,onConfirm:n=>{let d=l.join(me.dirname(e),n);s({source:e,destination:d}).then(()=>{a(),v({title:"Notebook copied",description:"A copy of the notebook has been created."}),co(d)})}})},t[0]=a,t[1]=i,t[2]=s,t[3]=e,t[4]=r):r=t[4],r}const To=()=>{let{updateCellConfig:e}=ue(),{saveCellConfig:t}=E();return(0,ne.useCallback)(async()=>{let i=new tt,a=ee(),s=a.cellIds.inOrderIds,r={};for(let n of s){if(a.cellData[n]===void 0)continue;let{code:d,config:h}=a.cellData[n];h.hide_code||i.isSupported(d)&&(r[n]={hide_code:!0})}let l=te.entries(r);if(l.length!==0){await t({configs:r});for(let[n,d]of l)e({cellId:n,config:d})}},[e])};var Ho=I();function Re(){let e=(0,Ho.c)(4),{openConfirm:t}=ie(),i=S(Gt),{sendRestart:a}=E(),s;return e[0]!==t||e[1]!==a||e[2]!==i?(s=()=>{t({title:"Restart Kernel",description:"This will restart the Python kernel. You'll lose all data that's in memory. You will also lose any unsaved changes, so make sure to save your work before restarting.",variant:"destructive",confirmAction:(0,o.jsx)(Qt,{onClick:async()=>{i({state:Ft.CLOSING}),await a(),io()},"aria-label":"Confirm Restart",children:"Restart"})})},e[0]=t,e[1]=a,e[2]=i,e[3]=s):s=e[3],s}var Vo=I(),P=e=>{e==null||e.preventDefault(),e==null||e.stopPropagation()};function Lo(){var le,re;let e=(0,Vo.c)(39),t=lo(),{openModal:i,closeModal:a}=ie(),{toggleApplication:s}=Ze(),{selectedPanel:r}=Ge(),[l]=Be(Me),n=R(Zt),d=To(),[h]=it(),{updateCellConfig:x,undoDeleteCell:g,clearAllCellOutputs:m,addSetupCellIfDoesntExist:u,collapseAllCells:f,expandAllCells:y}=ue(),b=Re(),k=so(),j=Do(t),C=S(Ve),_=S(ht),M=S(mt),{exportAsMarkdown:$,readCode:A,saveCellConfig:D}=E(),B=R(Qe),Y=R(Je),F=R(et),{selectedLayout:G}=be(),{setLayoutView:K}=xe(),T=Te(),se=((le=h.sharing)==null?void 0:le.html)??!0,H=((re=h.sharing)==null?void 0:re.wasm)??!0,Oe=na,V;e[0]===Symbol.for("react.memo_cache_sentinel")?(V=(0,o.jsx)(jo,{size:14,strokeWidth:1.5}),e[0]=V):V=e[0];let J=!se&&!H,L;e[1]===Symbol.for("react.memo_cache_sentinel")?(L=(0,o.jsx)(Tt,{size:14,strokeWidth:1.5}),e[1]=L):L=e[1];let Z=!se,W;e[2]!==a||e[3]!==i?(W=async()=>{i((0,o.jsx)(zo,{onClose:a}))},e[2]=a,e[3]=i,e[4]=W):W=e[4];let q;return e[5]!==u||e[6]!==F||e[7]!==m||e[8]!==a||e[9]!==f||e[10]!==j||e[11]!==y||e[12]!==$||e[13]!==t||e[14]!==B||e[15]!==Y||e[16]!==d||e[17]!==n||e[18]!==i||e[19]!==A||e[20]!==b||e[21]!==k||e[22]!==D||e[23]!==G||e[24]!==r||e[25]!==C||e[26]!==M||e[27]!==K||e[28]!==_||e[29]!==H||e[30]!==J||e[31]!==Z||e[32]!==W||e[33]!==s||e[34]!==T||e[35]!==g||e[36]!==x||e[37]!==l.mode?(q=[{icon:V,label:"Share",handle:P,hidden:J,dropdown:[{icon:L,label:"Publish HTML to web",hidden:Z,handle:W},{icon:(0,o.jsx)(Vt,{size:14,strokeWidth:1.5}),label:"Create WebAssembly link",hidden:!H,handle:async()=>{await O(no({code:(await A()).contents})),v({title:"Copied",description:"Link copied to clipboard."})}}]},{icon:(0,o.jsx)(It,{size:14,strokeWidth:1.5}),label:"Download",handle:P,dropdown:[{icon:(0,o.jsx)(ke,{size:14,strokeWidth:1.5}),label:"Download as HTML",handle:async()=>{if(!t){v({variant:"danger",title:"Error",description:"Notebooks must be named to be exported."});return}await we({filename:t,includeCode:!0})}},{icon:(0,o.jsx)(ke,{size:14,strokeWidth:1.5}),label:"Download as HTML (exclude code)",handle:async()=>{if(!t){v({variant:"danger",title:"Error",description:"Notebooks must be named to be exported."});return}await we({filename:t,includeCode:!1})}},{icon:(0,o.jsx)(ro,{strokeWidth:1.5,style:{width:14,height:14}}),label:"Download as Markdown",handle:async()=>{let p=await $({download:!1});ve(new Blob([p],{type:"text/plain"}),je.toMarkdown(document.title))}},{icon:(0,o.jsx)(mo,{size:14,strokeWidth:1.5}),label:"Download Python code",handle:async()=>{let p=await A();ve(new Blob([p.contents],{type:"text/plain"}),je.toPY(document.title))}},{divider:!0,icon:(0,o.jsx)(Ht,{size:14,strokeWidth:1.5}),label:"Download as PNG",disabled:l.mode!=="present",tooltip:l.mode==="present"?void 0:(0,o.jsxs)("span",{children:["Only available in app view. ",(0,o.jsx)("br",{}),"Toggle with: ",We("global.hideCode",!1)]}),handle:ia},{icon:(0,o.jsx)(St,{size:14,strokeWidth:1.5}),label:"Download as PDF",disabled:l.mode!=="present",tooltip:l.mode==="present"?void 0:(0,o.jsxs)("span",{children:["Only available in app view. ",(0,o.jsx)("br",{}),"Toggle with: ",We("global.hideCode",!1)]}),handle:oa}]},{divider:!0,icon:(0,o.jsx)(go,{size:14,strokeWidth:1.5}),label:"Helper panel",handle:P,dropdown:He.flatMap(p=>{let{type:w,Icon:Q,hidden:Ue}=p;return Ue?[]:{label:fe(w),rightElement:Oe(r===w),icon:(0,o.jsx)(Q,{size:14,strokeWidth:1.5}),handle:()=>s(w)}})},{icon:(0,o.jsx)(Ee,{size:14,strokeWidth:1.5}),label:"Present as",handle:P,dropdown:[{icon:l.mode==="present"?(0,o.jsx)($t,{size:14,strokeWidth:1.5}):(0,o.jsx)(Ne,{size:14,strokeWidth:1.5}),label:"Toggle app view",hotkey:"global.hideCode",handle:()=>{T()}},...Ie.map((p,w)=>{let Q=Le(p);return{divider:w===0,label:qe(p),icon:(0,o.jsx)(Q,{size:14,strokeWidth:1.5}),rightElement:(0,o.jsx)("div",{className:"w-8 flex justify-end",children:G===p&&(0,o.jsx)(ge,{size:14})}),handle:()=>{K(p),l.mode==="edit"&&T()}}})]},{icon:(0,o.jsx)(fo,{size:14,strokeWidth:1.5}),label:"Create notebook copy",hidden:!t||oe(),handle:j},{icon:(0,o.jsx)(_e,{size:14,strokeWidth:1.5}),label:"Copy code to clipboard",hidden:!t,handle:async()=>{await O((await A()).contents),v({title:"Copied",description:"Code copied to clipboard."})}},{icon:(0,o.jsx)(zt,{size:14,strokeWidth:1.5}),label:"Enable all cells",hidden:!B||n,handle:async()=>{let p=Ke(ee());await D({configs:te.fromEntries(p.map(ta))});for(let w of p)x({cellId:w,config:{disabled:!1}})}},{icon:(0,o.jsx)(vt,{size:14,strokeWidth:1.5}),label:"Disable all cells",hidden:!Y||n,handle:async()=>{let p=Xe(ee());await D({configs:te.fromEntries(p.map(ea))});for(let w of p)x({cellId:w,config:{disabled:!0}})}},{icon:(0,o.jsx)(_t,{size:14,strokeWidth:1.5}),label:"Hide all markdown code",handle:d},{icon:(0,o.jsx)(ho,{size:14,strokeWidth:1.5}),label:"Collapse all sections",hotkey:"global.collapseAllSections",handle:f},{icon:(0,o.jsx)(po,{size:14,strokeWidth:1.5}),label:"Expand all sections",hotkey:"global.expandAllSections",handle:y},{icon:(0,o.jsx)(Se,{size:14,strokeWidth:1.5}),label:"Add setup cell",handle:()=>{u({})}},{icon:(0,o.jsx)(Ce,{size:14,strokeWidth:1.5}),label:"Clear all outputs",handle:()=>{m()}},{icon:(0,o.jsx)(uo,{size:14,strokeWidth:1.5}),label:"Re-run all cells",hotkey:"global.runAll",handle:async()=>{k()}},{icon:(0,o.jsx)(Pe,{size:14,strokeWidth:1.5}),label:"Undo cell deletion",hidden:!F||n,handle:()=>{g()}},{icon:(0,o.jsx)(pe,{size:14,strokeWidth:1.5}),label:"Add database connection",handle:()=>{i((0,o.jsx)(at,{onClose:a}))}},{divider:!0,icon:(0,o.jsx)(Ae,{size:14,strokeWidth:1.5}),label:"Command palette",hotkey:"global.commandPalette",handle:()=>C(Xo)},{icon:(0,o.jsx)(Ot,{size:14,strokeWidth:1.5}),label:"User settings",handle:()=>_(Qo)},{icon:(0,o.jsx)(xo,{size:14,strokeWidth:1.5}),label:"Keyboard shortcuts",hotkey:"global.showHelp",handle:()=>M(Zo)},{icon:(0,o.jsx)(he,{size:14,strokeWidth:1.5}),label:"Open documentation",handle:Jo},{icon:(0,o.jsx)(jt,{size:14,strokeWidth:1.5}),label:"Resources",handle:P,dropdown:[{icon:(0,o.jsx)(he,{size:14,strokeWidth:1.5}),label:"Documentation",handle:Ko},{icon:(0,o.jsx)(Nt,{size:14,strokeWidth:1.5}),label:"GitHub",handle:Go},{icon:(0,o.jsx)(Et,{size:14,strokeWidth:1.5}),label:"Discord Community",handle:Fo},{icon:(0,o.jsx)(Dt,{size:14,strokeWidth:1.5}),label:"YouTube",handle:Yo},{icon:(0,o.jsx)(ze,{size:14,strokeWidth:1.5}),label:"Changelog",handle:Bo}]},{divider:!0,icon:(0,o.jsx)(bo,{size:14,strokeWidth:1.5}),label:"Return home",hidden:!location.search.includes("file"),handle:$o},{icon:(0,o.jsx)(At,{size:14,strokeWidth:1.5}),label:"New notebook",hidden:!location.search.includes("file"),handle:Uo},{icon:(0,o.jsx)(Co,{size:14,strokeWidth:1.5}),label:"Restart kernel",variant:"danger",handle:b}].filter(Oo).map(qo),e[5]=u,e[6]=F,e[7]=m,e[8]=a,e[9]=f,e[10]=j,e[11]=y,e[12]=$,e[13]=t,e[14]=B,e[15]=Y,e[16]=d,e[17]=n,e[18]=i,e[19]=A,e[20]=b,e[21]=k,e[22]=D,e[23]=G,e[24]=r,e[25]=C,e[26]=M,e[27]=K,e[28]=_,e[29]=H,e[30]=J,e[31]=Z,e[32]=W,e[33]=s,e[34]=T,e[35]=g,e[36]=x,e[37]=l.mode,e[38]=q):q=e[38],q}function qo(e){return e.dropdown?{...e,dropdown:e.dropdown.filter(Ro)}:e}function Ro(e){return!e.hidden}function Oo(e){return!e.hidden}function Uo(){let e=nt();window.open(e,"_blank")}function $o(){let e=document.baseURI.split("?")[0];window.open(e,"_self")}function Bo(){window.open(z.releasesPage,"_blank")}function Yo(){window.open(z.youtube,"_blank")}function Fo(){window.open(z.discordLink,"_blank")}function Go(){window.open(z.githubPage,"_blank")}function Ko(){window.open(z.docsPage,"_blank")}function Jo(){window.open(z.docsPage,"_blank")}function Zo(e){return!e}function Qo(e){return!e}function Xo(e){return!e}function ea(e){return[e,{disabled:!0}]}function ta(e){return[e,{disabled:!1}]}async function oa(){let e=new Event("export-beforeprint"),t=new Event("export-afterprint");(function(){window.dispatchEvent(e),setTimeout(aa,0),setTimeout(()=>window.dispatchEvent(t),0)})()}function aa(){return window.print()}async function ia(){let e=document.getElementById("App");e&&await gt(e,document.title)}function na(e){return(0,o.jsx)("div",{className:"w-8 flex justify-end",children:e&&(0,o.jsx)(ge,{size:14})})}export{He as a,Ne as c,_e as d,Ve as i,Se as l,Re as n,Te as o,So as r,Pe as s,Lo as t,Ae as u};
