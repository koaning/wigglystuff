import{s as H}from"./chunk-LvLJmgfZ.js";import{t as E}from"./react-XTZdWHwa.js";import{Dt as F,Ln as I}from"./cells-B1ds6ZjK.js";import{t as T}from"./compiler-runtime-QczY1yfQ.js";import{t as V}from"./jsx-runtime-B4_2-8Ho.js";import{r as q,t as W}from"./button-BtVgadIf.js";import{t as A}from"./cn-f3ruLt4G.js";import{at as L}from"./dist-hQAzR0Cy.js";import{f as G}from"./dist-AYL4p4Dn.js";import{t as J}from"./createLucideIcon-C9QGcv--.js";import{t as K}from"./copy-CGmj_xHa.js";import{t as Q}from"./eye-off-CkynlJbW.js";import{t as U}from"./plus-CcDW_rEW.js";import{t as X}from"./use-toast-CTk3v2Fk.js";import{n as Y}from"./useTheme-DNzypnwR.js";import{t as g}from"./tooltip-DEUNsdbK.js";import{t as Z}from"./copy-CL0ql7QN.js";import{t as $}from"./esm-DDxkZACy.js";import{t as tt}from"./useAddCell-Dq_OGA6d.js";var ot=J("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),N=T(),M=H(E(),1),s=H(V(),1),et=[F(),L.lineWrapping],rt=[G(),L.lineWrapping];const O=(0,M.memo)(r=>{let t=(0,N.c)(41),{theme:a}=Y(),o,e,i,l,c,C,j,u;t[0]===r?(o=t[1],e=t[2],i=t[3],l=t[4],c=t[5],C=t[6],j=t[7],u=t[8]):({code:e,className:o,initiallyHideCode:i,showHideCode:C,showCopyCode:j,insertNewCell:l,language:u,...c}=r,t[0]=r,t[1]=o,t[2]=e,t[3]=i,t[4]=l,t[5]=c,t[6]=C,t[7]=j,t[8]=u);let m=C===void 0?!0:C,b=j===void 0?!0:j,B=u===void 0?"python":u,[n,D]=(0,M.useState)(i),d;t[9]===o?d=t[10]:(d=A("relative hover-actions-parent w-full overflow-hidden",o),t[9]=o,t[10]=d);let p;t[11]!==n||t[12]!==m?(p=m&&n&&(0,s.jsx)(R,{tooltip:"Show code",onClick:()=>D(!1)}),t[11]=n,t[12]=m,t[13]=p):p=t[13];let h;t[14]!==e||t[15]!==b?(h=b&&(0,s.jsx)(at,{text:e}),t[14]=e,t[15]=b,t[16]=h):h=t[16];let x;t[17]!==e||t[18]!==l?(x=l&&(0,s.jsx)(it,{code:e}),t[17]=e,t[18]=l,t[19]=x):x=t[19];let f;t[20]!==n||t[21]!==m?(f=m&&!n&&(0,s.jsx)(st,{onClick:()=>D(!0)}),t[20]=n,t[21]=m,t[22]=f):f=t[22];let y;t[23]!==h||t[24]!==x||t[25]!==f?(y=(0,s.jsxs)("div",{className:"absolute top-0 right-0 my-1 mx-2 z-10 hover-action flex gap-2",children:[h,x,f]}),t[23]=h,t[24]=x,t[25]=f,t[26]=y):y=t[26];let z=n&&"opacity-20 h-8 overflow-hidden",v;t[27]===z?v=t[28]:(v=A("cm",z),t[27]=z,t[28]=v);let _=a==="dark"?"dark":"light",S=!n,P=B==="python"?et:rt,k;t[29]!==e||t[30]!==c||t[31]!==v||t[32]!==_||t[33]!==S||t[34]!==P?(k=(0,s.jsx)($,{...c,className:v,theme:_,height:"100%",editable:S,extensions:P,value:e,readOnly:!0}),t[29]=e,t[30]=c,t[31]=v,t[32]=_,t[33]=S,t[34]=P,t[35]=k):k=t[35];let w;return t[36]!==k||t[37]!==d||t[38]!==p||t[39]!==y?(w=(0,s.jsxs)("div",{className:d,children:[p,y,k]}),t[36]=k,t[37]=d,t[38]=p,t[39]=y,t[40]=w):w=t[40],w});O.displayName="ReadonlyCode";var at=r=>{let t=(0,N.c)(5),a;t[0]===r.text?a=t[1]:(a=q.stopPropagation(async()=>{await Z(r.text),X({title:"Copied to clipboard"})}),t[0]=r.text,t[1]=a);let o=a,e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(K,{size:14,strokeWidth:1.5}),t[2]=e):e=t[2];let i;return t[3]===o?i=t[4]:(i=(0,s.jsx)(g,{content:"Copy code",usePortal:!1,children:(0,s.jsx)(W,{onClick:o,size:"xs",className:"py-0",variant:"secondary",children:e})}),t[3]=o,t[4]=i),i},st=r=>{let t=(0,N.c)(3),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsx)(Q,{size:14,strokeWidth:1.5}),t[0]=a):a=t[0];let o;return t[1]===r.onClick?o=t[2]:(o=(0,s.jsx)(g,{content:"Hide code",usePortal:!1,children:(0,s.jsx)(W,{onClick:r.onClick,size:"xs",className:"py-0",variant:"secondary",children:a})}),t[1]=r.onClick,t[2]=o),o};const R=r=>{let t=(0,N.c)(7),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsx)(I,{className:"hover-action w-5 h-5 text-muted-foreground cursor-pointer absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-80 hover:opacity-100 z-20"}),t[0]=a):a=t[0];let o;t[1]===r.tooltip?o=t[2]:(o=(0,s.jsx)(g,{usePortal:!1,content:r.tooltip,children:a}),t[1]=r.tooltip,t[2]=o);let e;return t[3]!==r.className||t[4]!==r.onClick||t[5]!==o?(e=(0,s.jsx)("div",{className:r.className,onClick:r.onClick,children:o}),t[3]=r.className,t[4]=r.onClick,t[5]=o,t[6]=e):e=t[6],e};var it=r=>{let t=(0,N.c)(6),a=tt(),o;t[0]!==a||t[1]!==r.code?(o=()=>{a(r.code)},t[0]=a,t[1]=r.code,t[2]=o):o=t[2];let e=o,i;t[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsx)(U,{size:14,strokeWidth:1.5}),t[3]=i):i=t[3];let l;return t[4]===e?l=t[5]:(l=(0,s.jsx)(g,{content:"Add code to notebook",usePortal:!1,children:(0,s.jsx)(W,{onClick:e,size:"xs",className:"py-0",variant:"secondary",children:i})}),t[4]=e,t[5]=l),l};export{O as n,ot as r,R as t};
