import{d as g,l as k}from"./jotai-D74Ef_p1.js";import{Sn as v,it as y,lr as F,p as m,pr as b,w as x}from"./cells-B1ds6ZjK.js";import{t as D}from"./compiler-runtime-QczY1yfQ.js";import{u as H}from"./hotkeys-sK-kaEBC.js";import{r as S}from"./requests-CMMs4cl8.js";import{o as V}from"./dist-a5AhnPua.js";import{n as i}from"./useEvent-bc5jSpSz.js";var u=D();const w=g(!1);function _(){let r=(0,u.c)(2),t=p(),n;return r[0]===t?n=r[1]:(n=()=>t(b(m())),r[0]=t,r[1]=n),i(n)}function j(r){let t=(0,u.c)(3),n=p(),o;return t[0]!==r||t[1]!==n?(o=()=>{r!==void 0&&n([r])},t[0]=r,t[1]=n,t[2]=o):o=t[2],i(o)}function q(){let r=(0,u.c)(2),t=p(),n;return r[0]===t?n=r[1]:(n=()=>t(F(m())),r[0]=t,r[1]=n),i(n)}function p(){let r=(0,u.c)(4),{prepareForRun:t}=x(),{sendRun:n}=S(),o=k(w),e;return r[0]!==t||r[1]!==n||r[2]!==o?(e=async s=>{if(s.length===0)return;let l=m();return o(!0),I({cellIds:s,sendRun:n,prepareForRun:t,notebook:l})},r[0]=t,r[1]=n,r[2]=o,r[3]=e):e=r[3],i(e)}async function I({cellIds:r,sendRun:t,prepareForRun:n,notebook:o}){var d,R,h;if(r.length===0)return;let{cellHandles:e,cellData:s}=o,l=[];for(let a of r){let c=(R=(d=e[a])==null?void 0:d.current)==null?void 0:R.editorView,f;c?(v(c)!=="markdown"&&V(c),f=y(c)):f=((h=s[a])==null?void 0:h.code)||"",l.push(f),n({cellId:a})}await t({cellIds:r,codes:l}).catch(a=>{H.error(a)})}export{p as a,j as i,I as n,_ as o,q as r,w as t};
