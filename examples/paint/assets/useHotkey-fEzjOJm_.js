import{s as h}from"./chunk-LvLJmgfZ.js";import{c as v,d as C,l as S}from"./jotai-D74Ef_p1.js";import{t as b}from"./react-XTZdWHwa.js";import{t as w}from"./react-dom-BZDtXk6t.js";import{t as D}from"./compiler-runtime-QczY1yfQ.js";import{a as E,c as g,d as O,u as _}from"./hotkeys-sK-kaEBC.js";import{f as H}from"./utils-Clm_pCuX.js";import{t as y}from"./useEventListener-BMXqdHZ5.js";import{n as d}from"./useEvent-bc5jSpSz.js";w();var f=h(b(),1),N=(0,f.createContext)(null);function R(e){let r=(0,f.useRef)({});return f.createElement(N.Provider,{value:r},e.children)}var j=(0,f.createContext)({isSelected:!1}),P=C({});function q(){return v(P)}function z(){let e=S(P);return{registerAction:d((r,t)=>{e(a=>({...a,[r]:t}))}),unregisterAction:d(r=>{e(t=>{let{[r]:a,...o}=t;return o})})}}var k=D();function B(e,r){let t=(0,k.c)(13),{registerAction:a,unregisterAction:o}=z(),i=v(H),s=r===O.NOOP,u;t[0]===r?u=t[1]:(u=n=>r(n),t[0]=r,t[1]=u);let l=d(u),m;t[2]!==r||t[3]!==i||t[4]!==e?(m=n=>{if(n.defaultPrevented)return;let A=i.getHotkey(e).key;g(A)(n)&&r(n)!==!1&&(n.preventDefault(),n.stopPropagation())},t[2]=r,t[3]=i,t[4]=e,t[5]=m):m=t[5];let x=d(m);y(document,"keydown",x);let c,p;t[6]!==s||t[7]!==l||t[8]!==a||t[9]!==e||t[10]!==o?(c=()=>{if(!s)return a(e,l),()=>o(e)},p=[l,e,s,a,o],t[6]=s,t[7]=l,t[8]=a,t[9]=e,t[10]=o,t[11]=c,t[12]=p):(c=t[11],p=t[12]),(0,f.useEffect)(c,p)}function F(e,r){let t=(0,k.c)(2),a;t[0]===r?a=t[1]:(a=o=>{if(!o.defaultPrevented)for(let[i,s]of E.entries(r))g(i)(o)&&(_.debug("Satisfied",i,o),s(o)!==!1&&(o.preventDefault(),o.stopPropagation()))},t[0]=r,t[1]=a),y(e,"keydown",a)}export{R as a,j as i,F as n,q as r,B as t};
