var{entries:rt,setPrototypeOf:ot,isFrozen:Ht,getPrototypeOf:Gt,getOwnPropertyDescriptor:Wt}=Object,{freeze:_,seal:b,create:Re}=Object,{apply:at,construct:it}=typeof Reflect<"u"&&Reflect;_||(_=function(o){return o}),b||(b=function(o){return o}),at||(at=function(o,r){var c=[...arguments].slice(2);return o.apply(r,c)}),it||(it=function(o){return new o(...[...arguments].slice(1))});var le=A(Array.prototype.forEach),Bt=A(Array.prototype.lastIndexOf),lt=A(Array.prototype.pop),q=A(Array.prototype.push),Yt=A(Array.prototype.splice),ce=A(String.prototype.toLowerCase),Ce=A(String.prototype.toString),we=A(String.prototype.match),$=A(String.prototype.replace),jt=A(String.prototype.indexOf),Xt=A(String.prototype.trim),N=A(Object.prototype.hasOwnProperty),E=A(RegExp.prototype.test),K=qt(TypeError);function A(o){return function(r){r instanceof RegExp&&(r.lastIndex=0);var c=[...arguments].slice(1);return at(o,r,c)}}function qt(o){return function(){return it(o,[...arguments])}}function a(o,r){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ce;ot&&ot(o,null);let s=r.length;for(;s--;){let S=r[s];if(typeof S=="string"){let R=c(S);R!==S&&(Ht(r)||(r[s]=R),S=R)}o[S]=!0}return o}function $t(o){for(let r=0;r<o.length;r++)N(o,r)||(o[r]=null);return o}function D(o){let r=Re(null);for(let[c,s]of rt(o))N(o,c)&&(Array.isArray(s)?r[c]=$t(s):s&&typeof s=="object"&&s.constructor===Object?r[c]=D(s):r[c]=s);return r}function V(o,r){for(;o!==null;){let s=Wt(o,r);if(s){if(s.get)return A(s.get);if(typeof s.value=="function")return A(s.value)}o=Gt(o)}function c(){return null}return c}var ct=_("a.abbr.acronym.address.area.article.aside.audio.b.bdi.bdo.big.blink.blockquote.body.br.button.canvas.caption.center.cite.code.col.colgroup.content.data.datalist.dd.decorator.del.details.dfn.dialog.dir.div.dl.dt.element.em.fieldset.figcaption.figure.font.footer.form.h1.h2.h3.h4.h5.h6.head.header.hgroup.hr.html.i.img.input.ins.kbd.label.legend.li.main.map.mark.marquee.menu.menuitem.meter.nav.nobr.ol.optgroup.option.output.p.picture.pre.progress.q.rp.rt.ruby.s.samp.search.section.select.shadow.slot.small.source.spacer.span.strike.strong.style.sub.summary.sup.table.tbody.td.template.textarea.tfoot.th.thead.time.tr.track.tt.u.ul.var.video.wbr".split(".")),De=_("svg.a.altglyph.altglyphdef.altglyphitem.animatecolor.animatemotion.animatetransform.circle.clippath.defs.desc.ellipse.enterkeyhint.exportparts.filter.font.g.glyph.glyphref.hkern.image.inputmode.line.lineargradient.marker.mask.metadata.mpath.part.path.pattern.polygon.polyline.radialgradient.rect.stop.style.switch.symbol.text.textpath.title.tref.tspan.view.vkern".split(".")),ve=_(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Kt=_(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Oe=_("math.menclose.merror.mfenced.mfrac.mglyph.mi.mlabeledtr.mmultiscripts.mn.mo.mover.mpadded.mphantom.mroot.mrow.ms.mspace.msqrt.mstyle.msub.msup.msubsup.mtable.mtd.mtext.mtr.munder.munderover.mprescripts".split(".")),Vt=_(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),st=_(["#text"]),ut=_("accept.action.align.alt.autocapitalize.autocomplete.autopictureinpicture.autoplay.background.bgcolor.border.capture.cellpadding.cellspacing.checked.cite.class.clear.color.cols.colspan.controls.controlslist.coords.crossorigin.datetime.decoding.default.dir.disabled.disablepictureinpicture.disableremoteplayback.download.draggable.enctype.enterkeyhint.exportparts.face.for.headers.height.hidden.high.href.hreflang.id.inert.inputmode.integrity.ismap.kind.label.lang.list.loading.loop.low.max.maxlength.media.method.min.minlength.multiple.muted.name.nonce.noshade.novalidate.nowrap.open.optimum.part.pattern.placeholder.playsinline.popover.popovertarget.popovertargetaction.poster.preload.pubdate.radiogroup.readonly.rel.required.rev.reversed.role.rows.rowspan.spellcheck.scope.selected.shape.size.sizes.slot.span.srclang.start.src.srcset.step.style.summary.tabindex.title.translate.type.usemap.valign.value.width.wrap.xmlns.slot".split(".")),ke=_("accent-height.accumulate.additive.alignment-baseline.amplitude.ascent.attributename.attributetype.azimuth.basefrequency.baseline-shift.begin.bias.by.class.clip.clippathunits.clip-path.clip-rule.color.color-interpolation.color-interpolation-filters.color-profile.color-rendering.cx.cy.d.dx.dy.diffuseconstant.direction.display.divisor.dur.edgemode.elevation.end.exponent.fill.fill-opacity.fill-rule.filter.filterunits.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.fx.fy.g1.g2.glyph-name.glyphref.gradientunits.gradienttransform.height.href.id.image-rendering.in.in2.intercept.k.k1.k2.k3.k4.kerning.keypoints.keysplines.keytimes.lang.lengthadjust.letter-spacing.kernelmatrix.kernelunitlength.lighting-color.local.marker-end.marker-mid.marker-start.markerheight.markerunits.markerwidth.maskcontentunits.maskunits.max.mask.mask-type.media.method.mode.min.name.numoctaves.offset.operator.opacity.order.orient.orientation.origin.overflow.paint-order.path.pathlength.patterncontentunits.patterntransform.patternunits.points.preservealpha.preserveaspectratio.primitiveunits.r.rx.ry.radius.refx.refy.repeatcount.repeatdur.restart.result.rotate.scale.seed.shape-rendering.slope.specularconstant.specularexponent.spreadmethod.startoffset.stddeviation.stitchtiles.stop-color.stop-opacity.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke.stroke-width.style.surfacescale.systemlanguage.tabindex.tablevalues.targetx.targety.transform.transform-origin.text-anchor.text-decoration.text-rendering.textlength.type.u1.u2.unicode.values.viewbox.visibility.version.vert-adv-y.vert-origin-x.vert-origin-y.width.word-spacing.wrap.writing-mode.xchannelselector.ychannelselector.x.x1.x2.xmlns.y.y1.y2.z.zoomandpan".split(".")),mt=_("accent.accentunder.align.bevelled.close.columnsalign.columnlines.columnspan.denomalign.depth.dir.display.displaystyle.encoding.fence.frame.height.href.id.largeop.length.linethickness.lspace.lquote.mathbackground.mathcolor.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.numalign.open.rowalign.rowlines.rowspacing.rowspan.rspace.rquote.scriptlevel.scriptminsize.scriptsizemultiplier.selection.separator.separators.stretchy.subscriptshift.supscriptshift.symmetric.voffset.width.xmlns".split(".")),se=_(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Zt=b(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jt=b(/<%[\w\W]*|[\w\W]*%>/gm),Qt=b(/\$\{[\w\W]*/gm),en=b(/^data-[\-\w.\u00B7-\uFFFF]+$/),tn=b(/^aria-[\-\w]+$/),pt=b(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nn=b(/^(?:\w+script|data):/i),rn=b(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ft=b(/^html$/i),on=b(/^[a-z][.\w]*(-[.\w]+)+$/i),dt=Object.freeze({__proto__:null,ARIA_ATTR:tn,ATTR_WHITESPACE:rn,CUSTOM_ELEMENT:on,DATA_ATTR:en,DOCTYPE_NAME:ft,ERB_EXPR:Jt,IS_ALLOWED_URI:pt,IS_SCRIPT_OR_DATA:nn,MUSTACHE_EXPR:Zt,TMPLIT_EXPR:Qt}),Z={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},an=function(){return typeof window>"u"?null:window},ln=function(o,r){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let c=null,s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(c=r.getAttribute(s));let S="dompurify"+(c?"#"+c:"");try{return o.createPolicy(S,{createHTML(R){return R},createScriptURL(R){return R}})}catch{return console.warn("TrustedTypes policy "+S+" could not be created."),null}},gt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ht(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:an(),r=e=>ht(e);if(r.version="3.3.0",r.removed=[],!o||!o.document||o.document.nodeType!==Z.document||!o.Element)return r.isSupported=!1,r;let{document:c}=o,s=c,S=s.currentScript,{DocumentFragment:R,HTMLTemplateElement:Tt,Node:ue,Element:Le,NodeFilter:G,NamedNodeMap:yt=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:Et,DOMParser:At,trustedTypes:J}=o,W=Le.prototype,_t=V(W,"cloneNode"),bt=V(W,"remove"),Nt=V(W,"nextSibling"),St=V(W,"childNodes"),Q=V(W,"parentNode");if(typeof Tt=="function"){let e=c.createElement("template");e.content&&e.content.ownerDocument&&(c=e.content.ownerDocument)}let h,B="",{implementation:me,createNodeIterator:Rt,createDocumentFragment:Ct,getElementsByTagName:wt}=c,{importNode:Dt}=s,T=gt();r.isSupported=typeof rt=="function"&&typeof Q=="function"&&me&&me.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:pe,ERB_EXPR:fe,TMPLIT_EXPR:de,DATA_ATTR:vt,ARIA_ATTR:Ot,IS_SCRIPT_OR_DATA:kt,ATTR_WHITESPACE:xe,CUSTOM_ELEMENT:Lt}=dt,{IS_ALLOWED_URI:Ie}=dt,m=null,Me=a({},[...ct,...De,...ve,...Oe,...st]),f=null,Ue=a({},[...ut,...ke,...mt,...se]),u=Object.seal(Re(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y=null,ge=null,I=Object.seal(Re(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),Pe=!0,he=!0,ze=!1,Fe=!0,M=!1,ee=!0,O=!1,Te=!1,ye=!1,U=!1,te=!1,ne=!1,He=!0,Ge=!1,Ee=!0,j=!1,P={},z=null,We=a({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Be=null,Ye=a({},["audio","video","img","source","image","track"]),Ae=null,je=a({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),re="http://www.w3.org/1998/Math/MathML",oe="http://www.w3.org/2000/svg",C="http://www.w3.org/1999/xhtml",F=C,_e=!1,be=null,xt=a({},[re,oe,C],Ce),ae=a({},["mi","mo","mn","ms","mtext"]),ie=a({},["annotation-xml"]),It=a({},["title","style","font","a","script"]),X=null,Mt=["application/xhtml+xml","text/html"],p=null,H=null,Ut=c.createElement("form"),Xe=function(e){return e instanceof RegExp||e instanceof Function},Ne=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(H&&H===e)){if((!e||typeof e!="object")&&(e={}),e=D(e),X=Mt.indexOf(e.PARSER_MEDIA_TYPE)===-1?"text/html":e.PARSER_MEDIA_TYPE,p=X==="application/xhtml+xml"?Ce:ce,m=N(e,"ALLOWED_TAGS")?a({},e.ALLOWED_TAGS,p):Me,f=N(e,"ALLOWED_ATTR")?a({},e.ALLOWED_ATTR,p):Ue,be=N(e,"ALLOWED_NAMESPACES")?a({},e.ALLOWED_NAMESPACES,Ce):xt,Ae=N(e,"ADD_URI_SAFE_ATTR")?a(D(je),e.ADD_URI_SAFE_ATTR,p):je,Be=N(e,"ADD_DATA_URI_TAGS")?a(D(Ye),e.ADD_DATA_URI_TAGS,p):Ye,z=N(e,"FORBID_CONTENTS")?a({},e.FORBID_CONTENTS,p):We,Y=N(e,"FORBID_TAGS")?a({},e.FORBID_TAGS,p):D({}),ge=N(e,"FORBID_ATTR")?a({},e.FORBID_ATTR,p):D({}),P=N(e,"USE_PROFILES")?e.USE_PROFILES:!1,Pe=e.ALLOW_ARIA_ATTR!==!1,he=e.ALLOW_DATA_ATTR!==!1,ze=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,M=e.SAFE_FOR_TEMPLATES||!1,ee=e.SAFE_FOR_XML!==!1,O=e.WHOLE_DOCUMENT||!1,U=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,ye=e.FORCE_BODY||!1,He=e.SANITIZE_DOM!==!1,Ge=e.SANITIZE_NAMED_PROPS||!1,Ee=e.KEEP_CONTENT!==!1,j=e.IN_PLACE||!1,Ie=e.ALLOWED_URI_REGEXP||pt,F=e.NAMESPACE||C,ae=e.MATHML_TEXT_INTEGRATION_POINTS||ae,ie=e.HTML_INTEGRATION_POINTS||ie,u=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(u.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(u.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(u.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),M&&(he=!1),te&&(U=!0),P&&(m=a({},st),f=[],P.html===!0&&(a(m,ct),a(f,ut)),P.svg===!0&&(a(m,De),a(f,ke),a(f,se)),P.svgFilters===!0&&(a(m,ve),a(f,ke),a(f,se)),P.mathMl===!0&&(a(m,Oe),a(f,mt),a(f,se))),e.ADD_TAGS&&(typeof e.ADD_TAGS=="function"?I.tagCheck=e.ADD_TAGS:(m===Me&&(m=D(m)),a(m,e.ADD_TAGS,p))),e.ADD_ATTR&&(typeof e.ADD_ATTR=="function"?I.attributeCheck=e.ADD_ATTR:(f===Ue&&(f=D(f)),a(f,e.ADD_ATTR,p))),e.ADD_URI_SAFE_ATTR&&a(Ae,e.ADD_URI_SAFE_ATTR,p),e.FORBID_CONTENTS&&(z===We&&(z=D(z)),a(z,e.FORBID_CONTENTS,p)),Ee&&(m["#text"]=!0),O&&a(m,["html","head","body"]),m.table&&(a(m,["tbody"]),delete Y.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw K('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw K('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');h=e.TRUSTED_TYPES_POLICY,B=h.createHTML("")}else h===void 0&&(h=ln(J,S)),h!==null&&typeof B=="string"&&(B=h.createHTML(""));_&&_(e),H=e}},qe=a({},[...De,...ve,...Kt]),$e=a({},[...Oe,...Vt]),Pt=function(e){let n=Q(e);(!n||!n.tagName)&&(n={namespaceURI:F,tagName:"template"});let t=ce(e.tagName),i=ce(n.tagName);return be[e.namespaceURI]?e.namespaceURI===oe?n.namespaceURI===C?t==="svg":n.namespaceURI===re?t==="svg"&&(i==="annotation-xml"||ae[i]):!!qe[t]:e.namespaceURI===re?n.namespaceURI===C?t==="math":n.namespaceURI===oe?t==="math"&&ie[i]:!!$e[t]:e.namespaceURI===C?n.namespaceURI===oe&&!ie[i]||n.namespaceURI===re&&!ae[i]?!1:!$e[t]&&(It[t]||!qe[t]):!!(X==="application/xhtml+xml"&&be[e.namespaceURI]):!1},k=function(e){q(r.removed,{element:e});try{Q(e).removeChild(e)}catch{bt(e)}},L=function(e,n){try{q(r.removed,{attribute:n.getAttributeNode(e),from:n})}catch{q(r.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e==="is")if(U||te)try{k(n)}catch{}else try{n.setAttribute(e,"")}catch{}},Ke=function(e){let n=null,t=null;if(ye)e="<remove></remove>"+e;else{let y=we(e,/^[\r\n\t ]+/);t=y&&y[0]}X==="application/xhtml+xml"&&F===C&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let i=h?h.createHTML(e):e;if(F===C)try{n=new At().parseFromString(i,X)}catch{}if(!n||!n.documentElement){n=me.createDocument(F,"template",null);try{n.documentElement.innerHTML=_e?B:i}catch{}}let l=n.body||n.documentElement;return e&&t&&l.insertBefore(c.createTextNode(t),l.childNodes[0]||null),F===C?wt.call(n,O?"html":"body")[0]:O?n.documentElement:l},Ve=function(e){return Rt.call(e.ownerDocument||e,e,G.SHOW_ELEMENT|G.SHOW_COMMENT|G.SHOW_TEXT|G.SHOW_PROCESSING_INSTRUCTION|G.SHOW_CDATA_SECTION,null)},Se=function(e){return e instanceof Et&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof yt)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},Ze=function(e){return typeof ue=="function"&&e instanceof ue};function w(e,n,t){le(e,i=>{i.call(r,n,t,H)})}let Je=function(e){let n=null;if(w(T.beforeSanitizeElements,e,null),Se(e))return k(e),!0;let t=p(e.nodeName);if(w(T.uponSanitizeElement,e,{tagName:t,allowedTags:m}),ee&&e.hasChildNodes()&&!Ze(e.firstElementChild)&&E(/<[/\w!]/g,e.innerHTML)&&E(/<[/\w!]/g,e.textContent)||e.nodeType===Z.progressingInstruction||ee&&e.nodeType===Z.comment&&E(/<[/\w]/g,e.data))return k(e),!0;if(!(I.tagCheck instanceof Function&&I.tagCheck(t))&&(!m[t]||Y[t])){if(!Y[t]&&et(t)&&(u.tagNameCheck instanceof RegExp&&E(u.tagNameCheck,t)||u.tagNameCheck instanceof Function&&u.tagNameCheck(t)))return!1;if(Ee&&!z[t]){let i=Q(e)||e.parentNode,l=St(e)||e.childNodes;if(l&&i){let y=l.length;for(let x=y-1;x>=0;--x){let g=_t(l[x],!0);g.__removalCount=(e.__removalCount||0)+1,i.insertBefore(g,Nt(e))}}}return k(e),!0}return e instanceof Le&&!Pt(e)||(t==="noscript"||t==="noembed"||t==="noframes")&&E(/<\/no(script|embed|frames)/i,e.innerHTML)?(k(e),!0):(M&&e.nodeType===Z.text&&(n=e.textContent,le([pe,fe,de],i=>{n=$(n,i," ")}),e.textContent!==n&&(q(r.removed,{element:e.cloneNode()}),e.textContent=n)),w(T.afterSanitizeElements,e,null),!1)},Qe=function(e,n,t){if(He&&(n==="id"||n==="name")&&(t in c||t in Ut))return!1;if(!(he&&!ge[n]&&E(vt,n))&&!(Pe&&E(Ot,n))&&!(I.attributeCheck instanceof Function&&I.attributeCheck(n,e))){if(!f[n]||ge[n]){if(!(et(e)&&(u.tagNameCheck instanceof RegExp&&E(u.tagNameCheck,e)||u.tagNameCheck instanceof Function&&u.tagNameCheck(e))&&(u.attributeNameCheck instanceof RegExp&&E(u.attributeNameCheck,n)||u.attributeNameCheck instanceof Function&&u.attributeNameCheck(n,e))||n==="is"&&u.allowCustomizedBuiltInElements&&(u.tagNameCheck instanceof RegExp&&E(u.tagNameCheck,t)||u.tagNameCheck instanceof Function&&u.tagNameCheck(t))))return!1}else if(!Ae[n]&&!E(Ie,$(t,xe,""))&&!((n==="src"||n==="xlink:href"||n==="href")&&e!=="script"&&jt(t,"data:")===0&&Be[e])&&!(ze&&!E(kt,$(t,xe,"")))&&t)return!1}return!0},et=function(e){return e!=="annotation-xml"&&we(e,Lt)},tt=function(e){w(T.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||Se(e))return;let t={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:f,forceKeepAttr:void 0},i=n.length;for(;i--;){let{name:l,namespaceURI:y,value:x}=n[i],g=p(l),v=x,d=l==="value"?v:Xt(v);if(t.attrName=g,t.attrValue=d,t.keepAttr=!0,t.forceKeepAttr=void 0,w(T.uponSanitizeAttribute,e,t),d=t.attrValue,Ge&&(g==="id"||g==="name")&&(L(l,e),d="user-content-"+d),ee&&E(/((--!?|])>)|<\/(style|title|textarea)/i,d)){L(l,e);continue}if(g==="attributename"&&we(d,"href")){L(l,e);continue}if(t.forceKeepAttr)continue;if(!t.keepAttr){L(l,e);continue}if(!Fe&&E(/\/>/i,d)){L(l,e);continue}M&&le([pe,fe,de],Ft=>{d=$(d,Ft," ")});let nt=p(e.nodeName);if(!Qe(nt,g,d)){L(l,e);continue}if(h&&typeof J=="object"&&typeof J.getAttributeType=="function"&&!y)switch(J.getAttributeType(nt,g)){case"TrustedHTML":d=h.createHTML(d);break;case"TrustedScriptURL":d=h.createScriptURL(d);break}if(d!==v)try{y?e.setAttributeNS(y,l,d):e.setAttribute(l,d),Se(e)?k(e):lt(r.removed)}catch{L(l,e)}}w(T.afterSanitizeAttributes,e,null)},zt=function e(n){let t=null,i=Ve(n);for(w(T.beforeSanitizeShadowDOM,n,null);t=i.nextNode();)w(T.uponSanitizeShadowNode,t,null),Je(t),tt(t),t.content instanceof R&&e(t.content);w(T.afterSanitizeShadowDOM,n,null)};return r.sanitize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=null,i=null,l=null,y=null;if(_e=!e,_e&&(e="<!-->"),typeof e!="string"&&!Ze(e))if(typeof e.toString=="function"){if(e=e.toString(),typeof e!="string")throw K("dirty is not a string, aborting")}else throw K("toString is not a function");if(!r.isSupported)return e;if(Te||Ne(n),r.removed=[],typeof e=="string"&&(j=!1),j){if(e.nodeName){let v=p(e.nodeName);if(!m[v]||Y[v])throw K("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof ue)t=Ke("<!---->"),i=t.ownerDocument.importNode(e,!0),i.nodeType===Z.element&&i.nodeName==="BODY"||i.nodeName==="HTML"?t=i:t.appendChild(i);else{if(!U&&!M&&!O&&e.indexOf("<")===-1)return h&&ne?h.createHTML(e):e;if(t=Ke(e),!t)return U?null:ne?B:""}t&&ye&&k(t.firstChild);let x=Ve(j?e:t);for(;l=x.nextNode();)Je(l),tt(l),l.content instanceof R&&zt(l.content);if(j)return e;if(U){if(te)for(y=Ct.call(t.ownerDocument);t.firstChild;)y.appendChild(t.firstChild);else y=t;return(f.shadowroot||f.shadowrootmode)&&(y=Dt.call(s,y,!0)),y}let g=O?t.outerHTML:t.innerHTML;return O&&m["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&E(ft,t.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+t.ownerDocument.doctype.name+`>
`+g),M&&le([pe,fe,de],v=>{g=$(g,v," ")}),h&&ne?h.createHTML(g):g},r.setConfig=function(){Ne(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),Te=!0},r.clearConfig=function(){H=null,Te=!1},r.isValidAttribute=function(e,n,t){return H||Ne({}),Qe(p(e),p(n),t)},r.addHook=function(e,n){typeof n=="function"&&q(T[e],n)},r.removeHook=function(e,n){if(n!==void 0){let t=Bt(T[e],n);return t===-1?void 0:Yt(T[e],t,1)[0]}return lt(T[e])},r.removeHooks=function(e){T[e]=[]},r.removeAllHooks=function(){T=gt()},r}var cn=ht();export{cn as t};
