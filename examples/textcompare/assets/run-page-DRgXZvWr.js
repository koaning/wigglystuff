import{s as H}from"./chunk-LvLJmgfZ.js";import{u as J}from"./useEvent-DlWF5OMa.js";import{t as Z}from"./react-BGmjiNul.js";import{C as $,Hr as ee,y as te}from"./cells-D_SkyFDn.js";import"./react-dom-C9fstfnp.js";import{t as Y}from"./compiler-runtime-DeeZ7FnK.js";import"./tooltip-CrRUCOBw.js";import{w as re}from"./utilities.esm-FYD46c3d.js";import{n as q}from"./constants-Bkp4R3bQ.js";import{M as oe,b as se,s as ae}from"./config-babG4OBR.js";import{t as ie}from"./jsx-runtime-DN_bIXfG.js";import{t as F}from"./button-DuYGqRtX.js";import"./dist-CAcX026F.js";import{E as me,Y as K}from"./JsonOutput-BLd1jTNA.js";import"./cjs-Bj40p_Np.js";import"./main-CwSdzVhm.js";import"./useNonce-EAuSVK-5.js";import{r as le}from"./requests-C0HaHO6a.js";import"./layout-Bd6wzfjT.js";import{t as ne}from"./download-CITws1-y.js";import"./markdown-renderer-C_xfLXiO.js";import{t as ce}from"./copy-gBVL4NN-.js";import{t as de}from"./download-DobaYJPt.js";import{d as pe,f as he,i as fe,n as xe,r as M,t as be}from"./panels-DfOJ05Sp.js";import{t as ye}from"./spinner-C1czjtp7.js";import"./dist-HGZzCB0y.js";import"./dist-CVj-_Iiz.js";import"./dist-BVf1IY4_.js";import"./dist-Cq_4nPfh.js";import"./dist-RKnr9SNh.js";import{t as je}from"./use-toast-Bzf3rpev.js";import"./Combination-D1TsGrBC.js";import"./dates-CdsE1R40.js";import{a as ge,c as ue,l as ke,n as _e,r as Ne,t as we}from"./dialog-DUEuLcT2.js";import"./popover-DtnzNVk-.js";import{t as ve}from"./share-CXQVxivL.js";import"./vega-loader.browser-C8wT63Va.js";import"./defaultLocale-BLUna9fQ.js";import"./defaultLocale-DzliDDTm.js";import{t as Se}from"./copy-DRhpWiOq.js";import"./purify.es-N-2faAGj.js";import{a as Ce}from"./cell-link-BoUpLV2S.js";import"./chunk-OGVTOU66-CjNLT2C3.js";import"./katex-AwOI3EvM.js";import"./marked.esm-CHnOtnr3.js";import"./es-CEEVxHsX.js";import"./esm-B3JckBtM.js";import{n as Ie,t as Te}from"./react-resizable-panels.browser.esm-BqxQegSf.js";import"./name-cell-input-CsDYsdH3.js";import{t as Ae}from"./icon-32x32-ZZIB7rLH.js";import"./ws-itdlXHqs.js";import"./dist-BRZzJw_5.js";import"./dist-P7JHert4.js";import"./dist-CoiWxjLF.js";import"./dist-cVYW_wBR.js";import"./dist-BAmo7Mv9.js";import"./dist-3oAtECdQ.js";import"./dist-D6Pwf0VF.js";import"./dist-D9HMoxdZ.js";import"./dist-JtCdI6tY.js";import"./esm-CCqLcax5.js";var Ee=Y(),ze=H(Z(),1),t=H(ie(),1);const Re=s=>{let e=(0,Ee.c)(21),{appConfig:o}=s,{setCells:r}=$(),{sendComponentValues:f}=le(),n;e[0]===f?n=e[1]:(n=()=>(M.INSTANCE.start(f),Pe),e[0]=f,e[1]=n);let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[2]=a):a=e[2],(0,ze.useEffect)(n,a);let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=ae(),e[3]=i):i=e[3];let x;e[4]===r?x=e[5]:(x={autoInstantiate:!0,setCells:r,sessionId:i},e[4]=r,e[5]=x);let{connection:m}=xe(x),j=J(te),b;e[6]===m.state?b=e[7]:(b=se(m.state),e[6]=m.state,e[7]=b);let p=b,c;e[8]!==o||e[9]!==p?(c=()=>p?(0,t.jsxs)(me,{milliseconds:2e3,fallback:null,children:[(0,t.jsx)(ye,{className:"mx-auto"}),(0,t.jsx)("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Connecting..."})]}):(0,t.jsx)(fe,{appConfig:o,mode:"read"}),e[8]=o,e[9]=p,e[10]=c):c=e[10];let h=c,g=o.width,l;e[11]===m?l=e[12]:(l=(0,t.jsx)(he,{connection:m,className:"sm:pt-8"}),e[11]=m,e[12]=l);let d;e[13]===h?d=e[14]:(d=h(),e[13]=h,e[14]=d);let y;return e[15]!==o.width||e[16]!==m||e[17]!==j||e[18]!==l||e[19]!==d?(y=(0,t.jsxs)(pe,{connection:m,isRunning:j,width:g,children:[l,d]}),e[15]=o.width,e[16]=m,e[17]=j,e[18]=l,e[19]=d,e[20]=y):y=e[20],y};function Pe(){M.INSTANCE.stop()}var Q=Y();const We=()=>{let s=(0,Q.c)(3),e=J(ee);if(!K()||!e)return null;let o;s[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsxs)("span",{children:["Static"," ",(0,t.jsx)("a",{href:q.githubPage,target:"_blank",className:"text-(--sky-11) font-medium underline",children:"marimo"})," ","notebook - Run or edit for full interactivity"]}),s[0]=o):o=s[0];let r;return s[1]===e?r=s[2]:(r=(0,t.jsxs)("div",{className:"px-4 py-2 bg-(--sky-2) border-b border-(--sky-7) text-(--sky-11) flex justify-between items-center gap-4 no-print text-sm","data-testid":"static-notebook-banner",children:[o,(0,t.jsx)("span",{className:"shrink-0",children:(0,t.jsx)(Oe,{code:e})})]}),s[1]=e,s[2]=r),r};var Oe=s=>{let e=(0,Q.c)(78),{code:o}=s,r=Ce()||"notebook.py",f=r.lastIndexOf("/");f!==-1&&(r=r.slice(f+1));let n=window.location.href,a,i,x,m,j,b,p,c,h,g,l,d,y,k,_,N,u,w,v;if(e[0]!==o||e[1]!==r){let G=ve({code:o});m=we,e[21]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(ke,{asChild:!0,children:(0,t.jsx)(F,{"data-testid":"static-notebook-dialog-trigger",variant:"outline",size:"xs",children:"Run or Edit"})}),e[21]=l):l=e[21],x=_e,i=ge,e[22]===r?g=e[23]:(g=(0,t.jsx)(ue,{children:r}),e[22]=r,e[23]=g),a=Ne,b="pt-3 text-left space-y-3",e[24]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsxs)("p",{children:["This is a static"," ",(0,t.jsx)("a",{href:q.githubPage,target:"_blank",className:"text-(--sky-11) hover:underline font-medium",children:"marimo"})," ","notebook. To run interactively:"]}),e[24]=p):p=e[24];let V;e[25]===Symbol.for("react.memo_cache_sentinel")?(V=(0,t.jsx)("br",{}),e[25]=V):V=e[25],e[26]===r?c=e[27]:(c=(0,t.jsx)("div",{className:"rounded-lg p-3 border bg-(--sky-2) border-(--sky-7)",children:(0,t.jsxs)("div",{className:"font-mono text-(--sky-11) leading-relaxed",children:["pip install marimo",V,"marimo edit ",r]})}),e[26]=r,e[27]=c),e[28]===Symbol.for("react.memo_cache_sentinel")?(h=!n.endsWith(".html")&&(0,t.jsxs)("div",{className:"rounded-lg p-3 border bg-(--sky-2) border-(--sky-7)",children:[(0,t.jsx)("div",{className:"text-sm text-(--sky-12) mb-1",children:"Or run directly from URL:"}),(0,t.jsxs)("div",{className:"font-mono text-(--sky-11) break-all",children:["marimo edit ",window.location.href]})]}),e[28]=h):h=e[28],v="pt-3 border-t border-(--sky-7)",N="text-sm text-(--sky-12) mb-2",e[29]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("strong",{children:"Try in browser with WebAssembly:"}),e[29]=u):u=e[29],w=" ",j=G,d="_blank",y="text-(--sky-11) hover:underline break-all",k="noreferrer",_=G.slice(0,50),e[0]=o,e[1]=r,e[2]=a,e[3]=i,e[4]=x,e[5]=m,e[6]=j,e[7]=b,e[8]=p,e[9]=c,e[10]=h,e[11]=g,e[12]=l,e[13]=d,e[14]=y,e[15]=k,e[16]=_,e[17]=N,e[18]=u,e[19]=w,e[20]=v}else a=e[2],i=e[3],x=e[4],m=e[5],j=e[6],b=e[7],p=e[8],c=e[9],h=e[10],g=e[11],l=e[12],d=e[13],y=e[14],k=e[15],_=e[16],N=e[17],u=e[18],w=e[19],v=e[20];let S;e[30]!==j||e[31]!==d||e[32]!==y||e[33]!==k||e[34]!==_?(S=(0,t.jsxs)("a",{href:j,target:d,className:y,rel:k,children:[_,"..."]}),e[30]=j,e[31]=d,e[32]=y,e[33]=k,e[34]=_,e[35]=S):S=e[35];let C;e[36]!==S||e[37]!==N||e[38]!==u||e[39]!==w?(C=(0,t.jsxs)("p",{className:N,children:[u,w,S]}),e[36]=S,e[37]=N,e[38]=u,e[39]=w,e[40]=C):C=e[40];let B;e[41]===Symbol.for("react.memo_cache_sentinel")?(B=(0,t.jsx)("p",{className:"text-sm text-(--sky-12)",children:"Note: WebAssembly may not work for all notebooks. Additionally, some dependencies may not be available in the browser."}),e[41]=B):B=e[41];let I;e[42]!==C||e[43]!==v?(I=(0,t.jsxs)("div",{className:v,children:[C,B]}),e[42]=C,e[43]=v,e[44]=I):I=e[44];let T;e[45]!==a||e[46]!==b||e[47]!==p||e[48]!==c||e[49]!==h||e[50]!==I?(T=(0,t.jsxs)(a,{className:b,children:[p,c,h,I]}),e[45]=a,e[46]=b,e[47]=p,e[48]=c,e[49]=h,e[50]=I,e[51]=T):T=e[51];let A;e[52]!==i||e[53]!==g||e[54]!==T?(A=(0,t.jsxs)(i,{children:[g,T]}),e[52]=i,e[53]=g,e[54]=T,e[55]=A):A=e[55];let E;e[56]===o?E=e[57]:(E=async()=>{await Se(o),je({title:"Copied to clipboard"})},e[56]=o,e[57]=E);let D;e[58]===Symbol.for("react.memo_cache_sentinel")?(D=(0,t.jsx)(ce,{className:"w-3 h-3 mr-2"}),e[58]=D):D=e[58];let z;e[59]===E?z=e[60]:(z=(0,t.jsxs)(F,{"data-testid":"copy-static-notebook-dialog-button",variant:"outline",size:"sm",onClick:E,children:[D,"Copy code"]}),e[59]=E,e[60]=z);let R;e[61]!==o||e[62]!==r?(R=()=>{ne(new Blob([o],{type:"text/plain"}),r)},e[61]=o,e[62]=r,e[63]=R):R=e[63];let L;e[64]===Symbol.for("react.memo_cache_sentinel")?(L=(0,t.jsx)(de,{className:"w-3 h-3 mr-2"}),e[64]=L):L=e[64];let P;e[65]===R?P=e[66]:(P=(0,t.jsxs)(F,{"data-testid":"download-static-notebook-dialog-button",variant:"outline",size:"sm",onClick:R,children:[L,"Download"]}),e[65]=R,e[66]=P);let W;e[67]!==z||e[68]!==P?(W=(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[z,P]}),e[67]=z,e[68]=P,e[69]=W):W=e[69];let O;e[70]!==x||e[71]!==A||e[72]!==W?(O=(0,t.jsxs)(x,{children:[A,W]}),e[70]=x,e[71]=A,e[72]=W,e[73]=O):O=e[73];let U;return e[74]!==m||e[75]!==l||e[76]!==O?(U=(0,t.jsxs)(m,{children:[l,O]}),e[74]=m,e[75]=l,e[76]=O,e[77]=U):U=e[77],U},X=Y(),Be=oe()||K(),De=s=>{let e=(0,X.c)(9),o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(We,{}),e[0]=o):o=e[0];let r;e[1]===s.appConfig?r=e[2]:(r=(0,t.jsx)(Re,{appConfig:s.appConfig}),e[1]=s.appConfig,e[2]=r);let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=Be&&(0,t.jsx)(Le,{}),e[3]=f):f=e[3];let n;e[4]===r?n=e[5]:(n=(0,t.jsxs)(Te,{children:[o,r,f]}),e[4]=r,e[5]=n);let a;e[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(re,{}),e[6]=a):a=e[6];let i;return e[7]===n?i=e[8]:(i=(0,t.jsx)(be,{children:(0,t.jsxs)(Ie,{direction:"horizontal",autoSaveId:"marimo:chrome:v1:run1",children:[n,a]})}),e[7]=n,e[8]=i),i},Le=()=>{let s=(0,X.c)(1),e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"fixed bottom-0 right-0 z-50","data-testid":"watermark",children:(0,t.jsxs)("a",{href:q.githubPage,target:"_blank",className:"text-sm text-(--grass-11) font-bold tracking-wide transition-colors bg-(--grass-4) hover:bg-(--grass-5) border-t border-l border-(--grass-8) px-3 py-1 rounded-tl-md flex items-center gap-2",children:[(0,t.jsx)("span",{children:"made with marimo"}),(0,t.jsx)("img",{src:Ae,alt:"marimo",className:"h-4 w-auto"})]})}),s[0]=e):e=s[0],e},Ue=De;export{Ue as default};
